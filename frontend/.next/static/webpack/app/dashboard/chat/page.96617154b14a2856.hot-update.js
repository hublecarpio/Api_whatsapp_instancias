"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/chat/page",{

/***/ "(app-pages-browser)/./app/dashboard/chat/page.tsx":
/*!*************************************!*\
  !*** ./app/dashboard/chat/page.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_business__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store/business */ \"(app-pages-browser)/./store/business.ts\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction ChatPage() {\n    var _getContactTag, _selectedTemplateForSend_components_find, _selectedTemplateForSend_components;\n    _s();\n    const { currentBusiness } = (0,_store_business__WEBPACK_IMPORTED_MODULE_2__.useBusinessStore)();\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedPhone, setSelectedPhone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedContactName, setSelectedContactName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newMessage, setNewMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [chatListOpen, setChatListOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [previewFile, setPreviewFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [botToggling, setBotToggling] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"list\");\n    const [tags, setTags] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [assignments, setAssignments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedTag, setSelectedTag] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [assigningTag, setAssigningTag] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [windowStatus, setWindowStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [dailyContacts, setDailyContacts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [contactBotDisabled, setContactBotDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [contactBotToggling, setContactBotToggling] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [templates, setTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showTemplateModal, setShowTemplateModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sendingTemplate, setSendingTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showNewChatModal, setShowNewChatModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newChatPhone, setNewChatPhone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChatMessage, setNewChatMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChatSending, setNewChatSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [instanceProvider, setInstanceProvider] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [newChatTemplates, setNewChatTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newChatUseTemplate, setNewChatUseTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedNewChatTemplate, setSelectedNewChatTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [templateVariables, setTemplateVariables] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newChatTemplateVariables, setNewChatTemplateVariables] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const chatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mediaRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [keyboardHeight, setKeyboardHeight] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isInputFocused, setIsInputFocused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleViewportResize = ()=>{\n            if ( true && window.visualViewport) {\n                const viewport = window.visualViewport;\n                const windowHeight = window.innerHeight;\n                const viewportHeight = viewport.height;\n                const newKeyboardHeight = windowHeight - viewportHeight;\n                if (newKeyboardHeight > 100) {\n                    setKeyboardHeight(newKeyboardHeight);\n                    setTimeout(()=>{\n                        var _messagesEndRef_current;\n                        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n                            behavior: \"smooth\",\n                            block: \"end\"\n                        });\n                    }, 100);\n                } else {\n                    setKeyboardHeight(0);\n                }\n            }\n        };\n        if ( true && window.visualViewport) {\n            window.visualViewport.addEventListener(\"resize\", handleViewportResize);\n            window.visualViewport.addEventListener(\"scroll\", handleViewportResize);\n        }\n        return ()=>{\n            if ( true && window.visualViewport) {\n                window.visualViewport.removeEventListener(\"resize\", handleViewportResize);\n                window.visualViewport.removeEventListener(\"scroll\", handleViewportResize);\n            }\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentBusiness) {\n            fetchConversations();\n            fetchTags();\n            fetchDailyContacts();\n            const interval = setInterval(()=>{\n                fetchConversations();\n                fetchDailyContacts();\n            }, 10000);\n            return ()=>clearInterval(interval);\n        }\n    }, [\n        currentBusiness\n    ]);\n    const fetchDailyContacts = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.billingApi.getContactsToday(currentBusiness.id);\n            setDailyContacts(response.data);\n        } catch (err) {\n            console.error(\"Failed to fetch daily contacts:\", err);\n        }\n    };\n    const fetchTags = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const [tagsRes, assignmentsRes] = await Promise.all([\n                _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.list(currentBusiness.id),\n                _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.getAssignments(currentBusiness.id)\n            ]);\n            setTags(tagsRes.data);\n            setAssignments(assignmentsRes.data);\n            if (tagsRes.data.length === 0) {\n                const initRes = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.initDefaults(currentBusiness.id);\n                setTags(initRes.data);\n            }\n        } catch (err) {\n            console.error(\"Failed to fetch tags:\", err);\n        }\n    };\n    const handleAssignTag = async (phone, tagId)=>{\n        if (!currentBusiness) return;\n        if (!tagId) {\n            try {\n                setAssigningTag(true);\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.unassign({\n                    business_id: currentBusiness.id,\n                    contact_phone: phone\n                });\n                fetchTags();\n            } catch (err) {\n                console.error(\"Failed to unassign tag:\", err);\n            } finally{\n                setAssigningTag(false);\n            }\n            return;\n        }\n        setAssigningTag(true);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.assign({\n                business_id: currentBusiness.id,\n                contact_phone: phone,\n                tag_id: tagId\n            });\n            fetchTags();\n        } catch (err) {\n            console.error(\"Failed to assign tag:\", err);\n        } finally{\n            setAssigningTag(false);\n        }\n    };\n    const getContactTag = (phone)=>{\n        const assignment = assignments.find((a)=>a.contactPhone === phone);\n        return assignment === null || assignment === void 0 ? void 0 : assignment.tag;\n    };\n    const getConversationsByTag = (tagId)=>{\n        if (!tagId) {\n            const assignedPhones = assignments.map((a)=>a.contactPhone);\n            return conversations.filter((c)=>!assignedPhones.includes(c.phone));\n        }\n        const phonesForTag = assignments.filter((a)=>a.tagId === tagId).map((a)=>a.contactPhone);\n        return conversations.filter((c)=>phonesForTag.includes(c.phone));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedPhone && currentBusiness) {\n            fetchMessages(selectedPhone);\n            fetchWindowStatus(selectedPhone);\n            fetchContactBotStatus(selectedPhone);\n            const interval = setInterval(()=>{\n                fetchMessages(selectedPhone);\n                fetchWindowStatus(selectedPhone);\n            }, 5000);\n            return ()=>clearInterval(interval);\n        }\n    }, [\n        selectedPhone,\n        currentBusiness\n    ]);\n    const fetchContactBotStatus = async (phone)=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.getContactBotStatus(currentBusiness.id, phone);\n            setContactBotDisabled(response.data.botDisabled || false);\n        } catch (err) {\n            console.error(\"Failed to fetch contact bot status:\", err);\n            setContactBotDisabled(false);\n        }\n    };\n    const handleToggleContactBot = async ()=>{\n        if (!currentBusiness || !selectedPhone) return;\n        setContactBotToggling(true);\n        try {\n            const newStatus = !contactBotDisabled;\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.toggleContactBot(currentBusiness.id, selectedPhone, newStatus);\n            setContactBotDisabled(newStatus);\n        } catch (err) {\n            console.error(\"Failed to toggle contact bot:\", err);\n        } finally{\n            setContactBotToggling(false);\n        }\n    };\n    const fetchWindowStatus = async (phone)=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.messageApi.windowStatus(currentBusiness.id, phone);\n            setWindowStatus(response.data);\n        } catch (err) {\n            console.error(\"Failed to fetch window status:\", err);\n        }\n    };\n    const fetchTemplates = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.templatesApi.list(currentBusiness.id);\n            const approvedTemplates = (response.data || []).filter((t)=>t.status === \"APPROVED\");\n            setTemplates(approvedTemplates);\n        } catch (err) {\n            console.error(\"Failed to fetch templates:\", err);\n        }\n    };\n    const getTemplateVariableCount = (template)=>{\n        var _template_components;\n        const bodyComponent = (_template_components = template.components) === null || _template_components === void 0 ? void 0 : _template_components.find((c)=>c.type === \"BODY\");\n        if (!(bodyComponent === null || bodyComponent === void 0 ? void 0 : bodyComponent.text)) return 0;\n        const matches = bodyComponent.text.match(/\\{\\{\\d+\\}\\}/g) || [];\n        return matches.length;\n    };\n    const [selectedTemplateForSend, setSelectedTemplateForSend] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleSelectTemplate = (template)=>{\n        const varCount = getTemplateVariableCount(template);\n        if (varCount > 0) {\n            setSelectedTemplateForSend(template);\n            setTemplateVariables(Array(varCount).fill(\"\"));\n        } else {\n            handleSendTemplate(template, []);\n        }\n    };\n    const handleSendTemplate = async (template, variables)=>{\n        if (!currentBusiness || !selectedPhone) return;\n        setSendingTemplate(true);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.templatesApi.send(currentBusiness.id, {\n                templateName: template.name,\n                to: selectedPhone,\n                variables: variables.length > 0 ? variables : undefined\n            });\n            setShowTemplateModal(false);\n            setSelectedTemplateForSend(null);\n            setTemplateVariables([]);\n            fetchMessages(selectedPhone);\n        } catch (err) {\n            var _err_response_data, _err_response;\n            console.error(\"Failed to send template:\", err);\n            setError(((_err_response = err.response) === null || _err_response === void 0 ? void 0 : (_err_response_data = _err_response.data) === null || _err_response_data === void 0 ? void 0 : _err_response_data.error) || \"Error al enviar plantilla\");\n            setTimeout(()=>setError(null), 5000);\n        } finally{\n            setSendingTemplate(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if ((windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen)) {\n            fetchTemplates();\n        }\n    }, [\n        windowStatus,\n        currentBusiness\n    ]);\n    const fetchInstanceProvider = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            var _response_data;\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.waApi.status(currentBusiness.id);\n            if ((_response_data = response.data) === null || _response_data === void 0 ? void 0 : _response_data.provider) {\n                setInstanceProvider(response.data.provider);\n            }\n        } catch (err) {\n            console.error(\"Failed to fetch instance provider:\", err);\n        }\n    };\n    const fetchNewChatTemplates = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.templatesApi.list(currentBusiness.id);\n            const approvedTemplates = (response.data || []).filter((t)=>t.status === \"APPROVED\");\n            setNewChatTemplates(approvedTemplates);\n        } catch (err) {\n            console.error(\"Failed to fetch templates for new chat:\", err);\n        }\n    };\n    const openNewChatModal = ()=>{\n        setNewChatPhone(\"\");\n        setNewChatMessage(\"\");\n        setNewChatUseTemplate(false);\n        setSelectedNewChatTemplate(null);\n        fetchInstanceProvider();\n        if (instanceProvider === \"META_CLOUD\") {\n            fetchNewChatTemplates();\n        }\n        setShowNewChatModal(true);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (showNewChatModal && instanceProvider === \"META_CLOUD\") {\n            fetchNewChatTemplates();\n        }\n    }, [\n        showNewChatModal,\n        instanceProvider\n    ]);\n    const handleSendNewChat = async ()=>{\n        if (!currentBusiness || !newChatPhone.trim()) return;\n        const cleanPhone = newChatPhone.replace(/\\D/g, \"\");\n        if (cleanPhone.length < 10) {\n            setError(\"Numero invalido\");\n            setTimeout(()=>setError(null), 3000);\n            return;\n        }\n        if (newChatUseTemplate && selectedNewChatTemplate) {\n            const varCount = getTemplateVariableCount(selectedNewChatTemplate);\n            if (varCount > 0 && newChatTemplateVariables.some((v)=>!v.trim())) {\n                setError(\"Completa todas las variables de la plantilla\");\n                setTimeout(()=>setError(null), 3000);\n                return;\n            }\n        }\n        setNewChatSending(true);\n        setError(null);\n        try {\n            if (newChatUseTemplate && selectedNewChatTemplate) {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.templatesApi.send(currentBusiness.id, {\n                    templateName: selectedNewChatTemplate.name,\n                    to: cleanPhone,\n                    variables: newChatTemplateVariables.length > 0 ? newChatTemplateVariables : undefined\n                });\n            } else if (newChatMessage.trim()) {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.waApi.send(currentBusiness.id, {\n                    to: cleanPhone,\n                    message: newChatMessage\n                });\n            } else {\n                setError(\"Escribe un mensaje o selecciona una plantilla\");\n                setNewChatSending(false);\n                return;\n            }\n            setShowNewChatModal(false);\n            setNewChatTemplateVariables([]);\n            fetchConversations();\n            setSelectedPhone(cleanPhone);\n            setSelectedContactName(\"\");\n            fetchMessages(cleanPhone);\n            fetchWindowStatus(cleanPhone);\n        } catch (err) {\n            var _err_response_data, _err_response;\n            console.error(\"Failed to send new chat:\", err);\n            setError(((_err_response = err.response) === null || _err_response === void 0 ? void 0 : (_err_response_data = _err_response.data) === null || _err_response_data === void 0 ? void 0 : _err_response_data.error) || \"Error al enviar mensaje\");\n            setTimeout(()=>setError(null), 5000);\n        } finally{\n            setNewChatSending(false);\n        }\n    };\n    const filteredConversations = conversations.filter((conv)=>{\n        var _conv_contactName;\n        if (!searchQuery.trim()) return true;\n        const query = searchQuery.toLowerCase();\n        const phoneMatch = conv.phone.toLowerCase().includes(query);\n        const nameMatch = (_conv_contactName = conv.contactName) === null || _conv_contactName === void 0 ? void 0 : _conv_contactName.toLowerCase().includes(query);\n        return phoneMatch || nameMatch;\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages\n    ]);\n    const fetchConversations = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.messageApi.conversations(currentBusiness.id);\n            setConversations(response.data);\n        } catch (err) {\n            console.error(\"Failed to fetch conversations:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const fetchMessages = async (phone)=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.messageApi.conversation(currentBusiness.id, phone);\n            setMessages(response.data);\n        } catch (err) {\n            console.error(\"Failed to fetch messages:\", err);\n        }\n    };\n    const handleSend = async (e)=>{\n        e.preventDefault();\n        if (!currentBusiness || !selectedPhone || !newMessage.trim() && !previewFile) return;\n        setSending(true);\n        setError(null);\n        try {\n            if (previewFile) {\n                setUploading(true);\n                const uploadRes = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.mediaApi.upload(currentBusiness.id, previewFile.file);\n                const { url, type, mimetype } = uploadRes.data;\n                const sendData = {\n                    to: selectedPhone\n                };\n                if (type === \"image\") {\n                    sendData.imageUrl = url;\n                    sendData.message = newMessage || undefined;\n                } else if (type === \"video\") {\n                    sendData.videoUrl = url;\n                    sendData.message = newMessage || undefined;\n                } else if (type === \"audio\") {\n                    sendData.audioUrl = url;\n                } else {\n                    sendData.fileUrl = url;\n                    sendData.fileName = previewFile.file.name;\n                    sendData.mimeType = mimetype || previewFile.file.type;\n                }\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.waApi.send(currentBusiness.id, sendData);\n                setPreviewFile(null);\n                setUploading(false);\n            } else {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.waApi.send(currentBusiness.id, {\n                    to: selectedPhone,\n                    message: newMessage\n                });\n            }\n            setNewMessage(\"\");\n            fetchMessages(selectedPhone);\n        } catch (err) {\n            var _err_response_data, _err_response;\n            console.error(\"Failed to send message:\", err);\n            setError(((_err_response = err.response) === null || _err_response === void 0 ? void 0 : (_err_response_data = _err_response.data) === null || _err_response_data === void 0 ? void 0 : _err_response_data.error) || \"Error al enviar mensaje\");\n            setTimeout(()=>setError(null), 5000);\n        } finally{\n            setSending(false);\n            setUploading(false);\n        }\n    };\n    const handleFileSelect = (e)=>{\n        var _e_target_files;\n        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (!file) return;\n        const url = URL.createObjectURL(file);\n        let type = \"file\";\n        if (file.type.startsWith(\"image/\")) type = \"image\";\n        else if (file.type.startsWith(\"video/\")) type = \"video\";\n        else if (file.type.startsWith(\"audio/\")) type = \"audio\";\n        setPreviewFile({\n            file,\n            url,\n            type\n        });\n        if (fileInputRef.current) fileInputRef.current.value = \"\";\n    };\n    const cancelPreview = ()=>{\n        if (previewFile) {\n            URL.revokeObjectURL(previewFile.url);\n            setPreviewFile(null);\n        }\n    };\n    const handleToggleBot = async ()=>{\n        if (!currentBusiness) return;\n        setBotToggling(true);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.businessApi.toggleBot(currentBusiness.id, !currentBusiness.botEnabled);\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.businessApi.get(currentBusiness.id);\n            _store_business__WEBPACK_IMPORTED_MODULE_2__.useBusinessStore.setState({\n                currentBusiness: response.data\n            });\n        } catch (err) {\n            console.error(\"Failed to toggle bot:\", err);\n        } finally{\n            setBotToggling(false);\n        }\n    };\n    const handleStartRecording = async ()=>{\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            audioStreamRef.current = stream;\n            const mediaRecorder = new MediaRecorder(stream);\n            mediaRecorderRef.current = mediaRecorder;\n            const audioChunks = [];\n            mediaRecorder.ondataavailable = (event)=>audioChunks.push(event.data);\n            mediaRecorder.onstop = async ()=>{\n                const audioBlob = new Blob(audioChunks, {\n                    type: \"audio/webm\"\n                });\n                const file = new File([\n                    audioBlob\n                ], \"audio.webm\", {\n                    type: \"audio/webm\"\n                });\n                setPreviewFile({\n                    file,\n                    url: URL.createObjectURL(file),\n                    type: \"audio\"\n                });\n                stream.getTracks().forEach((track)=>track.stop());\n                setIsRecording(false);\n            };\n            mediaRecorder.start();\n            setIsRecording(true);\n        } catch (error) {\n            console.error(\"Error accessing microphone:\", error);\n            setError(\"No se pudo acceder al microfono\");\n        }\n    };\n    const handleStopRecording = ()=>{\n        if (mediaRecorderRef.current) mediaRecorderRef.current.stop();\n    };\n    const handleInputFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setIsInputFocused(true);\n        setTimeout(()=>{\n            var _messagesEndRef_current;\n            (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"end\"\n            });\n        }, 300);\n    }, []);\n    const handleInputBlur = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setIsInputFocused(false);\n    }, []);\n    const formatTime = (dateStr)=>{\n        const date = new Date(dateStr);\n        return date.toLocaleTimeString(\"es\", {\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n        });\n    };\n    const formatDate = (dateStr)=>{\n        const date = new Date(dateStr);\n        const today = new Date();\n        if (date.toDateString() === today.toDateString()) return formatTime(dateStr);\n        const yesterday = new Date(today);\n        yesterday.setDate(yesterday.getDate() - 1);\n        if (date.toDateString() === yesterday.toDateString()) return \"Ayer\";\n        return date.toLocaleDateString(\"es\", {\n            day: \"2-digit\",\n            month: \"2-digit\"\n        });\n    };\n    const isImageUrl = (url)=>/\\.(jpg|jpeg|png|gif|webp)(\\?.*)?$/i.test(url);\n    const isVideoUrl = (url)=>/\\.(mp4|mov|webm|avi)(\\?.*)?$/i.test(url);\n    const isAudioUrl = (url)=>/\\.(ogg|mp3|wav|m4a|aac|opus|webm)(\\?.*)?$/i.test(url);\n    const renderMedia = (mediaUrl, isOutbound)=>{\n        if (isImageUrl(mediaUrl)) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    src: mediaUrl,\n                    alt: \"Media\",\n                    className: \"max-w-full rounded-md cursor-pointer hover:opacity-90 transition-opacity\",\n                    style: {\n                        maxHeight: \"180px\",\n                        maxWidth: \"200px\"\n                    },\n                    onClick: ()=>window.open(mediaUrl, \"_blank\")\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 610,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 609,\n                columnNumber: 9\n            }, this);\n        }\n        if (isVideoUrl(mediaUrl)) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                    src: mediaUrl,\n                    controls: true,\n                    className: \"max-w-full rounded-md\",\n                    style: {\n                        maxHeight: \"180px\",\n                        maxWidth: \"220px\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 623,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 622,\n                columnNumber: 9\n            }, this);\n        }\n        if (isAudioUrl(mediaUrl)) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-1\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                    controls: true,\n                    preload: \"metadata\",\n                    className: \"h-8 w-full\",\n                    style: {\n                        maxWidth: \"200px\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                            src: mediaUrl,\n                            type: \"audio/mpeg\"\n                        }, void 0, false, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 636,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                            src: mediaUrl,\n                            type: \"audio/ogg\"\n                        }, void 0, false, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 637,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 635,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 634,\n                columnNumber: 9\n            }, this);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n            href: mediaUrl,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"flex items-center gap-2 px-3 py-2 rounded-md mb-1 \".concat(isOutbound ? \"bg-neon-blue-dark/20\" : \"bg-dark-hover/50\"),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    className: \"w-5 h-5 flex-shrink-0\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\"\n                    }, void 0, false, {\n                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                        lineNumber: 645,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 644,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm\",\n                    children: \"Ver archivo\"\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 647,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n            lineNumber: 643,\n            columnNumber: 7\n        }, this);\n    };\n    if (!currentBusiness) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-[calc(100vh-8rem)] flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center text-gray-500\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Primero debes crear una empresa para ver conversaciones.\"\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 656,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 655,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n            lineNumber: 654,\n            columnNumber: 7\n        }, this);\n    }\n    const showChatList = chatListOpen || !selectedPhone;\n    const containerStyle = keyboardHeight > 0 ? {\n        height: \"calc(100vh - 120px - \".concat(keyboardHeight, \"px)\")\n    } : undefined;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: chatContainerRef,\n        className: \"h-[calc(100dvh-120px)] sm:h-[calc(100vh-6rem)] flex flex-col bg-dark-bg transition-all duration-150\",\n        style: containerStyle,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex overflow-hidden sm:rounded-2xl border border-dark-border bg-dark-surface shadow-dark-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"\".concat(showChatList ? \"w-full sm:w-80\" : \"hidden sm:block sm:w-0\", \" transition-all duration-300 overflow-hidden border-r border-dark-border flex flex-col\"),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3 border-b border-dark-border bg-dark-card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"font-semibold text-white\",\n                                                children: \"Chats\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 678,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-gray-400 bg-dark-hover px-2 py-0.5 rounded-full\",\n                                                        children: filteredConversations.length\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 680,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: openNewChatModal,\n                                                        className: \"p-1.5 rounded-lg text-neon-blue hover:bg-neon-blue/20 transition-colors\",\n                                                        title: \"Nuevo chat\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-4 h-4\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\",\n                                                                strokeWidth: 2,\n                                                                d: \"M12 4v16m8-8H4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 682,\n                                                                columnNumber: 98\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 682,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 681,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>setViewMode(viewMode === \"list\" ? \"kanban\" : \"list\"),\n                                                        className: \"p-1.5 rounded-lg transition-colors \".concat(viewMode === \"kanban\" ? \"bg-neon-blue/20 text-neon-blue\" : \"text-gray-400 hover:bg-dark-hover\"),\n                                                        children: viewMode === \"list\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-4 h-4\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\",\n                                                                strokeWidth: 2,\n                                                                d: \"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 686,\n                                                                columnNumber: 100\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 686,\n                                                            columnNumber: 21\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-4 h-4\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\",\n                                                                strokeWidth: 2,\n                                                                d: \"M4 6h16M4 10h16M4 14h16M4 18h16\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 688,\n                                                                columnNumber: 100\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 688,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 684,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 679,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 677,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: searchQuery,\n                                                onChange: (e)=>setSearchQuery(e.target.value),\n                                                placeholder: \"Buscar por numero o nombre...\",\n                                                className: \"w-full pl-8 pr-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white text-sm placeholder-gray-500 focus:outline-none focus:border-neon-blue\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 694,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-4 h-4 text-gray-500 absolute left-2.5 top-1/2 -translate-y-1/2\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 701,\n                                                    columnNumber: 151\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 701,\n                                                columnNumber: 15\n                                            }, this),\n                                            searchQuery && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSearchQuery(\"\"),\n                                                className: \"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-white\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-3 h-3\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M6 18L18 6M6 6l12 12\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 704,\n                                                        columnNumber: 98\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 704,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 703,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 693,\n                                        columnNumber: 13\n                                    }, this),\n                                    dailyContacts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between text-xs px-2 py-1.5 rounded-lg mb-2 \".concat(dailyContacts.remaining <= 10 ? \"bg-accent-error/20 text-accent-error\" : dailyContacts.remaining <= 25 ? \"bg-accent-warning/20 text-accent-warning\" : \"bg-accent-success/20 text-accent-success\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"flex items-center gap-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        className: \"w-3.5 h-3.5\",\n                                                        fill: \"none\",\n                                                        stroke: \"currentColor\",\n                                                        viewBox: \"0 0 24 24\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            strokeLinecap: \"round\",\n                                                            strokeLinejoin: \"round\",\n                                                            strokeWidth: 2,\n                                                            d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 711,\n                                                            columnNumber: 102\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 711,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \"Contactos hoy\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 710,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    dailyContacts.count,\n                                                    \"/\",\n                                                    dailyContacts.limit\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 714,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 709,\n                                        columnNumber: 15\n                                    }, this),\n                                    viewMode === \"kanban\" && tags.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-1 overflow-x-auto pb-1 hide-scrollbar\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSelectedTag(null),\n                                                className: \"text-xs px-2 py-1 rounded-full whitespace-nowrap flex-shrink-0 \".concat(selectedTag === null ? \"bg-white text-dark-bg\" : \"bg-dark-hover text-gray-400 hover:bg-dark-border\"),\n                                                children: \"Sin etiqueta\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 719,\n                                                columnNumber: 17\n                                            }, this),\n                                            tags.map((tag)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setSelectedTag(tag.id),\n                                                    className: \"text-xs px-2 py-1 rounded-full whitespace-nowrap flex-shrink-0\",\n                                                    style: {\n                                                        backgroundColor: selectedTag === tag.id ? tag.color : \"\".concat(tag.color, \"30\"),\n                                                        color: selectedTag === tag.id ? \"white\" : tag.color\n                                                    },\n                                                    children: [\n                                                        tag.name,\n                                                        \" (\",\n                                                        getConversationsByTag(tag.id).length,\n                                                        \")\"\n                                                    ]\n                                                }, tag.id, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 721,\n                                                    columnNumber: 19\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 718,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 676,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto scrollbar-thin scroll-smooth-ios\",\n                                children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4 text-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-neon-blue mx-auto\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 729,\n                                        columnNumber: 48\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 729,\n                                    columnNumber: 15\n                                }, this) : filteredConversations.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 text-center text-gray-500 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-16 h-16 mx-auto mb-3 bg-dark-card rounded-full flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-8 h-8 text-gray-600\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 733,\n                                                    columnNumber: 112\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 733,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 732,\n                                            columnNumber: 17\n                                        }, this),\n                                        searchQuery ? \"No se encontraron resultados\" : \"No hay conversaciones\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 731,\n                                    columnNumber: 15\n                                }, this) : (viewMode === \"kanban\" ? getConversationsByTag(selectedTag) : filteredConversations).map((conv)=>{\n                                    const contactTag = getContactTag(conv.phone);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            setSelectedPhone(conv.phone);\n                                            setSelectedContactName(conv.contactName || \"\");\n                                            setChatListOpen(false);\n                                        },\n                                        className: \"w-full p-3 text-left hover:bg-dark-hover transition-colors flex items-center gap-3 \".concat(selectedPhone === conv.phone ? \"bg-neon-blue/10 border-l-2 border-neon-blue\" : \"\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-12 h-12 bg-dark-card rounded-full flex items-center justify-center flex-shrink-0 relative\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xl\",\n                                                        children: \"\\uD83D\\uDC64\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 743,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    contactTag && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-dark-surface\",\n                                                        style: {\n                                                            backgroundColor: contactTag.color\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 744,\n                                                        columnNumber: 38\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 742,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium text-white truncate text-sm\",\n                                                                children: conv.contactName || \"+\".concat(conv.phone)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 748,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-gray-500 flex-shrink-0 ml-2\",\n                                                                children: formatDate(conv.lastMessageAt)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 749,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 747,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2 mt-0.5\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm text-gray-400 truncate flex-1\",\n                                                                children: conv.lastMessage || \"Sin mensajes\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 752,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            contactTag && viewMode === \"list\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs px-1.5 py-0.5 rounded-full flex-shrink-0\",\n                                                                style: {\n                                                                    backgroundColor: \"\".concat(contactTag.color, \"20\"),\n                                                                    color: contactTag.color\n                                                                },\n                                                                children: contactTag.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 753,\n                                                                columnNumber: 63\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 751,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 746,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, conv.phone, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 741,\n                                        columnNumber: 19\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 727,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                        lineNumber: 675,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"\".concat(selectedPhone ? \"flex\" : \"hidden sm:flex\", \" flex-1 flex-col min-w-0\"),\n                        children: selectedPhone ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-3 sm:px-4 py-3 border-b border-dark-border bg-dark-card flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                setChatListOpen(true);\n                                                setSelectedPhone(null);\n                                            },\n                                            className: \"sm:hidden p-1.5 text-gray-400 hover:text-white transition-colors\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M15 19l-7-7 7-7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 768,\n                                                    columnNumber: 98\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 768,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 767,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setChatListOpen(!chatListOpen),\n                                            className: \"hidden sm:block p-1 text-gray-500 hover:text-white transition-colors\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-4 h-4\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: chatListOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2.5,\n                                                    d: \"M11 19l-7-7 7-7m8 14l-7-7 7-7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 772,\n                                                    columnNumber: 37\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2.5,\n                                                    d: \"M13 5l7 7-7 7M5 5l7 7-7 7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 772,\n                                                    columnNumber: 145\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 771,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 770,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 bg-neon-blue/20 rounded-full flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-neon-blue text-lg\",\n                                                children: \"\\uD83D\\uDC64\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 776,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 775,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1 min-w-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"font-semibold text-white truncate\",\n                                                    children: selectedContactName || \"+\".concat(selectedPhone)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 779,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-1.5 flex-wrap\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: handleToggleContactBot,\n                                                            disabled: contactBotToggling,\n                                                            title: contactBotDisabled ? \"Bot desactivado para este contacto\" : \"Bot activo para este contacto\",\n                                                            className: \"text-xs px-1.5 py-0.5 rounded cursor-pointer transition-colors \".concat(contactBotDisabled ? \"bg-accent-error/20 text-accent-error\" : currentBusiness.botEnabled ? \"bg-accent-success/20 text-accent-success\" : \"bg-dark-hover text-gray-400\"),\n                                                            children: contactBotDisabled ? \"\\uD83D\\uDEAB Bot off\" : currentBusiness.botEnabled ? \"\\uD83E\\uDD16 Bot\" : \"\\uD83D\\uDE34 Global off\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 781,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xs px-1.5 py-0.5 rounded \".concat(windowStatus.windowOpen ? \"bg-neon-blue/20 text-neon-blue\" : \"bg-accent-warning/20 text-accent-warning\"),\n                                                            children: windowStatus.windowOpen ? \"\\uD83D\\uDCEC \".concat(windowStatus.hoursRemaining, \"h\") : \"\\uD83D\\uDCED Template\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 796,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 780,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 778,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: ((_getContactTag = getContactTag(selectedPhone)) === null || _getContactTag === void 0 ? void 0 : _getContactTag.id) || \"\",\n                                            onChange: (e)=>handleAssignTag(selectedPhone, e.target.value),\n                                            className: \"hidden sm:block text-xs bg-dark-card border border-dark-border rounded px-2 py-1 text-white\",\n                                            disabled: assigningTag,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"\",\n                                                    children: \"Sin etapa\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 803,\n                                                    columnNumber: 19\n                                                }, this),\n                                                tags.map((tag)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: tag.id,\n                                                        children: tag.name\n                                                    }, tag.id, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 804,\n                                                        columnNumber: 36\n                                                    }, this))\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 802,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 766,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto p-3 sm:p-4 space-y-2 scroll-smooth-ios scrollbar-thin bg-dark-bg\",\n                                    children: [\n                                        messages.map((msg)=>{\n                                            var _msg_metadata, _msg_metadata1, _msg_metadata2, _msg_metadata3, _msg_metadata4, _msg_metadata5, _msg_metadata6, _msg_metadata7, _msg_metadata8;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex \".concat(msg.direction === \"outbound\" ? \"justify-end\" : \"justify-start\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"chat-bubble \".concat(msg.direction === \"outbound\" ? \"chat-bubble-outgoing\" : \"chat-bubble-incoming\"),\n                                                    children: [\n                                                        msg.mediaUrl && renderMedia(msg.mediaUrl, msg.direction === \"outbound\"),\n                                                        msg.message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"break-words whitespace-pre-wrap text-sm sm:text-base\",\n                                                            children: msg.message\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 813,\n                                                            columnNumber: 39\n                                                        }, this),\n                                                        msg.direction === \"inbound\" && ((_msg_metadata = msg.metadata) === null || _msg_metadata === void 0 ? void 0 : _msg_metadata.mediaAnalysis) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1 group relative inline-block\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"flex items-center gap-1 text-[10px] px-1.5 py-0.5 bg-purple-500/15 text-purple-400 rounded cursor-help\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            children: \"\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                            lineNumber: 817,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            children: \"Analizado\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                            lineNumber: 818,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 816,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"absolute bottom-full left-0 mb-1 w-56 sm:w-64 p-2 bg-dark-card border border-purple-500/20 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-purple-400 font-medium mb-0.5\",\n                                                                            children: ((_msg_metadata1 = msg.metadata) === null || _msg_metadata1 === void 0 ? void 0 : _msg_metadata1.mediaType) === \"audio\" || ((_msg_metadata2 = msg.metadata) === null || _msg_metadata2 === void 0 ? void 0 : _msg_metadata2.type) === \"audio\" || ((_msg_metadata3 = msg.metadata) === null || _msg_metadata3 === void 0 ? void 0 : _msg_metadata3.type) === \"ptt\" ? \"\\uD83C\\uDFA4 Transcripci\\xf3n:\" : ((_msg_metadata4 = msg.metadata) === null || _msg_metadata4 === void 0 ? void 0 : _msg_metadata4.mediaType) === \"image\" || ((_msg_metadata5 = msg.metadata) === null || _msg_metadata5 === void 0 ? void 0 : _msg_metadata5.type) === \"image\" || ((_msg_metadata6 = msg.metadata) === null || _msg_metadata6 === void 0 ? void 0 : _msg_metadata6.type) === \"sticker\" ? \"\\uD83D\\uDDBC Descripci\\xf3n:\" : ((_msg_metadata7 = msg.metadata) === null || _msg_metadata7 === void 0 ? void 0 : _msg_metadata7.mediaType) === \"video\" || ((_msg_metadata8 = msg.metadata) === null || _msg_metadata8 === void 0 ? void 0 : _msg_metadata8.type) === \"video\" ? \"\\uD83C\\uDFAC Descripci\\xf3n:\" : \"\\uD83D\\uDCCE An\\xe1lisis:\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                            lineNumber: 821,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-gray-400 whitespace-pre-wrap max-h-32 overflow-y-auto leading-relaxed\",\n                                                                            children: msg.metadata.mediaAnalysis\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                            lineNumber: 826,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 820,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 815,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs mt-1 text-right \".concat(msg.direction === \"outbound\" ? \"text-neon-blue-dark\" : \"text-gray-500\"),\n                                                            children: [\n                                                                formatTime(msg.createdAt),\n                                                                msg.direction === \"outbound\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"ml-1\",\n                                                                    children: \"\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 834,\n                                                                    columnNumber: 58\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 832,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 811,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, msg.id, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 810,\n                                                columnNumber: 19\n                                            }, this);\n                                        }),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: messagesEndRef\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 839,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 808,\n                                    columnNumber: 15\n                                }, this),\n                                previewFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-3 py-2 border-t border-dark-border bg-dark-card\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 p-2 bg-dark-surface rounded-lg border border-dark-border\",\n                                        children: [\n                                            previewFile.type === \"image\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: previewFile.url,\n                                                alt: \"Preview\",\n                                                className: \"w-14 h-14 object-cover rounded\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 846,\n                                                columnNumber: 23\n                                            }, this) : previewFile.type === \"audio\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 flex-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-10 h-10 bg-neon-blue/20 rounded-full flex items-center justify-center\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-5 h-5 text-neon-blue\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\",\n                                                                strokeWidth: 2,\n                                                                d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 849,\n                                                                columnNumber: 208\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 849,\n                                                            columnNumber: 114\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 849,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                                                        controls: true,\n                                                        className: \"h-10 flex-1\",\n                                                        style: {\n                                                            maxWidth: \"180px\"\n                                                        },\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                                            src: previewFile.url\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 850,\n                                                            columnNumber: 95\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 850,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 848,\n                                                columnNumber: 23\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-14 h-14 bg-dark-hover rounded flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-6 h-6 text-gray-400\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 853,\n                                                        columnNumber: 198\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 853,\n                                                    columnNumber: 105\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 853,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: cancelPreview,\n                                                className: \"p-1.5 text-gray-400 hover:text-accent-error hover:bg-accent-error/10 rounded-full transition-colors\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M6 18L18 6M6 6l12 12\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 855,\n                                                        columnNumber: 244\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 855,\n                                                    columnNumber: 165\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 855,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 844,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 843,\n                                    columnNumber: 17\n                                }, this),\n                                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-3 mb-2 px-4 py-2 bg-accent-error/10 border border-accent-error/20 rounded-lg text-accent-error text-sm\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 860,\n                                    columnNumber: 25\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                    onSubmit: handleSend,\n                                    className: \"p-3 border-t border-dark-border bg-dark-card safe-area-pb\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"file\",\n                                                ref: fileInputRef,\n                                                onChange: handleFileSelect,\n                                                className: \"hidden\",\n                                                accept: \"image/*,video/*,.pdf,.doc,.docx\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 864,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>{\n                                                    var _fileInputRef_current;\n                                                    return (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                                                },\n                                                className: \"flex-shrink-0 p-2.5 text-gray-400 hover:text-white hover:bg-dark-hover rounded-full transition-colors\",\n                                                disabled: sending || (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 866,\n                                                        columnNumber: 114\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 866,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 865,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: isRecording ? handleStopRecording : handleStartRecording,\n                                                className: \"flex-shrink-0 p-2.5 rounded-full transition-colors \".concat(isRecording ? \"bg-accent-error text-white animate-pulse\" : \"text-gray-400 hover:text-white hover:bg-dark-hover\"),\n                                                disabled: sending && !isRecording || (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 869,\n                                                        columnNumber: 114\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 869,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 868,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                ref: inputRef,\n                                                type: \"text\",\n                                                value: newMessage,\n                                                onChange: (e)=>setNewMessage(e.target.value),\n                                                onFocus: handleInputFocus,\n                                                onBlur: handleInputBlur,\n                                                placeholder: (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen) ? \"Ventana cerrada - usa plantilla\" : \"Escribe un mensaje...\",\n                                                className: \"flex-1 min-w-0 px-4 py-2.5 bg-dark-surface border border-dark-border rounded-full text-white placeholder-gray-500 focus:outline-none focus:border-neon-blue focus:ring-1 focus:ring-neon-blue/50 text-sm sm:text-base\",\n                                                disabled: sending || (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen),\n                                                enterKeyHint: \"send\",\n                                                autoComplete: \"off\",\n                                                autoCorrect: \"on\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 871,\n                                                columnNumber: 19\n                                            }, this),\n                                            (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>setShowTemplateModal(true),\n                                                className: \"flex-shrink-0 p-2.5 bg-accent-warning text-dark-bg rounded-full hover:bg-accent-warning/80 transition-colors\",\n                                                title: \"Enviar plantilla\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 892,\n                                                        columnNumber: 116\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 892,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 886,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"submit\",\n                                                disabled: sending || !newMessage.trim() && !previewFile,\n                                                className: \"flex-shrink-0 p-2.5 bg-neon-blue text-dark-bg rounded-full hover:bg-neon-blue-light disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-neon-sm\",\n                                                children: sending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6 border-2 border-dark-bg border-t-transparent rounded-full animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 896,\n                                                    columnNumber: 34\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 896,\n                                                        columnNumber: 242\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 896,\n                                                    columnNumber: 149\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 895,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 863,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 862,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 flex flex-col items-center justify-center text-gray-500 bg-dark-bg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-24 h-24 bg-dark-card rounded-full flex items-center justify-center mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-12 h-12 text-gray-600\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 905,\n                                            columnNumber: 112\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 905,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 904,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-lg font-medium text-gray-400\",\n                                    children: \"Selecciona un chat\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 907,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500 mt-1\",\n                                    children: \"Elige una conversacion para comenzar\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 908,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 903,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                        lineNumber: 763,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 674,\n                columnNumber: 7\n            }, this),\n            showTemplateModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-dark-card border border-dark-border rounded-xl w-full max-w-md max-h-[80vh] overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 border-b border-dark-border flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: selectedTemplateForSend ? \"Completar Variables\" : \"Seleccionar Plantilla\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 918,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setShowTemplateModal(false);\n                                        setSelectedTemplateForSend(null);\n                                        setTemplateVariables([]);\n                                    },\n                                    className: \"p-1 text-gray-400 hover:text-white transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-5 h-5\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M6 18L18 6M6 6l12 12\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 922,\n                                            columnNumber: 96\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 922,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 921,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 917,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 overflow-y-auto max-h-[60vh]\",\n                            children: selectedTemplateForSend ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 bg-dark-surface border border-dark-border rounded-lg\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-medium text-white mb-1\",\n                                                children: selectedTemplateForSend.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 929,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-400\",\n                                                children: ((_selectedTemplateForSend_components = selectedTemplateForSend.components) === null || _selectedTemplateForSend_components === void 0 ? void 0 : (_selectedTemplateForSend_components_find = _selectedTemplateForSend_components.find((c)=>c.type === \"BODY\")) === null || _selectedTemplateForSend_components_find === void 0 ? void 0 : _selectedTemplateForSend_components_find.text) || \"\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 930,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 928,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-400\",\n                                                children: \"Completa los valores para las variables:\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 935,\n                                                columnNumber: 21\n                                            }, this),\n                                            templateVariables.map((value, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            className: \"block text-xs text-gray-500 mb-1\",\n                                                            children: [\n                                                                \"Variable \",\n                                                                \"{{\".concat(index + 1, \"}}\")\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 938,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"text\",\n                                                            value: value,\n                                                            onChange: (e)=>{\n                                                                const newVars = [\n                                                                    ...templateVariables\n                                                                ];\n                                                                newVars[index] = e.target.value;\n                                                                setTemplateVariables(newVars);\n                                                            },\n                                                            placeholder: \"Valor para {{\".concat(index + 1, \"}}\"),\n                                                            className: \"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-neon-blue\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 939,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 937,\n                                                    columnNumber: 23\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 934,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setSelectedTemplateForSend(null);\n                                                    setTemplateVariables([]);\n                                                },\n                                                className: \"flex-1 py-2 bg-dark-surface border border-dark-border rounded-lg text-gray-400 hover:text-white transition-colors\",\n                                                children: \"Volver\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 954,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleSendTemplate(selectedTemplateForSend, templateVariables),\n                                                disabled: sendingTemplate || templateVariables.some((v)=>!v.trim()),\n                                                className: \"flex-1 py-2 bg-neon-blue text-dark-bg rounded-lg font-medium hover:bg-neon-blue-light disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n                                                children: sendingTemplate ? \"Enviando...\" : \"Enviar\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 960,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 953,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 927,\n                                columnNumber: 17\n                            }, this) : templates.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-400\",\n                                        children: \"No hay plantillas aprobadas\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 971,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-500 text-sm mt-2\",\n                                        children: \"Ve a Plantillas para sincronizar desde Meta\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 972,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 970,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: templates.map((template)=>{\n                                    var _template_components_find_text, _template_components_find, _template_components, _template_components_find_text1, _template_components_find1, _template_components1;\n                                    const varCount = getTemplateVariableCount(template);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleSelectTemplate(template),\n                                        disabled: sendingTemplate,\n                                        className: \"w-full p-3 bg-dark-surface border border-dark-border rounded-lg text-left hover:border-neon-blue transition-colors disabled:opacity-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-white\",\n                                                        children: template.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 986,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            varCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs px-2 py-0.5 bg-accent-warning/20 text-accent-warning rounded\",\n                                                                children: [\n                                                                    varCount,\n                                                                    \" var\",\n                                                                    varCount > 1 ? \"s\" : \"\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 989,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs px-2 py-0.5 bg-accent-success/20 text-accent-success rounded\",\n                                                                children: template.category\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 991,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 987,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 985,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-400\",\n                                                children: [\n                                                    ((_template_components = template.components) === null || _template_components === void 0 ? void 0 : (_template_components_find = _template_components.find((c)=>c.type === \"BODY\")) === null || _template_components_find === void 0 ? void 0 : (_template_components_find_text = _template_components_find.text) === null || _template_components_find_text === void 0 ? void 0 : _template_components_find_text.substring(0, 100)) || \"Sin contenido de cuerpo\",\n                                                    (((_template_components1 = template.components) === null || _template_components1 === void 0 ? void 0 : (_template_components_find1 = _template_components1.find((c)=>c.type === \"BODY\")) === null || _template_components_find1 === void 0 ? void 0 : (_template_components_find_text1 = _template_components_find1.text) === null || _template_components_find_text1 === void 0 ? void 0 : _template_components_find_text1.length) || 0) > 100 && \"...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 994,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 mt-1\",\n                                                children: [\n                                                    \"Idioma: \",\n                                                    template.language\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 998,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, template.id, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 979,\n                                        columnNumber: 23\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 975,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 925,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 916,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 915,\n                columnNumber: 9\n            }, this),\n            showNewChatModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-dark-card border border-dark-border rounded-xl w-full max-w-md max-h-[80vh] overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 border-b border-dark-border flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: \"Nuevo Chat\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1013,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowNewChatModal(false),\n                                    className: \"p-1 text-gray-400 hover:text-white transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-5 h-5\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M6 18L18 6M6 6l12 12\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1015,\n                                            columnNumber: 96\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1015,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1014,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 1012,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm text-gray-400 mb-1\",\n                                            children: \"Numero de telefono\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1020,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"tel\",\n                                            value: newChatPhone,\n                                            onChange: (e)=>setNewChatPhone(e.target.value),\n                                            placeholder: \"51999999999\",\n                                            className: \"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-neon-blue\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1021,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500 mt-1\",\n                                            children: \"Incluye el codigo de pais sin + ni espacios\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1028,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1019,\n                                    columnNumber: 15\n                                }, this),\n                                instanceProvider === \"META_CLOUD\" && newChatTemplates.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"flex items-center gap-2 text-sm text-gray-400 mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"checkbox\",\n                                                    checked: newChatUseTemplate,\n                                                    onChange: (e)=>{\n                                                        setNewChatUseTemplate(e.target.checked);\n                                                        setSelectedNewChatTemplate(null);\n                                                        setNewChatTemplateVariables([]);\n                                                    },\n                                                    className: \"w-4 h-4 rounded bg-dark-surface border-dark-border text-neon-blue focus:ring-neon-blue\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1034,\n                                                    columnNumber: 21\n                                                }, this),\n                                                \"Usar plantilla (Meta Cloud)\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1033,\n                                            columnNumber: 19\n                                        }, this),\n                                        newChatUseTemplate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2 max-h-40 overflow-y-auto\",\n                                            children: newChatTemplates.map((template)=>{\n                                                var _template_components_find_text, _template_components_find, _template_components;\n                                                const varCount = getTemplateVariableCount(template);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: ()=>{\n                                                        setSelectedNewChatTemplate(template);\n                                                        setNewChatTemplateVariables(Array(varCount).fill(\"\"));\n                                                    },\n                                                    className: \"w-full p-2 text-left rounded-lg border transition-colors \".concat((selectedNewChatTemplate === null || selectedNewChatTemplate === void 0 ? void 0 : selectedNewChatTemplate.id) === template.id ? \"border-neon-blue bg-neon-blue/10\" : \"border-dark-border bg-dark-surface hover:border-gray-600\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-sm text-white\",\n                                                                    children: template.name\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 1065,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                varCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs px-1.5 py-0.5 bg-accent-warning/20 text-accent-warning rounded\",\n                                                                    children: [\n                                                                        varCount,\n                                                                        \" var\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 1067,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 1064,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-500 truncate\",\n                                                            children: ((_template_components = template.components) === null || _template_components === void 0 ? void 0 : (_template_components_find = _template_components.find((c)=>c.type === \"BODY\")) === null || _template_components_find === void 0 ? void 0 : (_template_components_find_text = _template_components_find.text) === null || _template_components_find_text === void 0 ? void 0 : _template_components_find_text.substring(0, 50)) || \"\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 1070,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, template.id, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1051,\n                                                    columnNumber: 27\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1047,\n                                            columnNumber: 21\n                                        }, this),\n                                        selectedNewChatTemplate && newChatTemplateVariables.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 space-y-2 p-3 bg-dark-surface rounded-lg border border-dark-border\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-400\",\n                                                    children: [\n                                                        \"Variables para \",\n                                                        selectedNewChatTemplate.name,\n                                                        \":\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1080,\n                                                    columnNumber: 23\n                                                }, this),\n                                                newChatTemplateVariables.map((value, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: value,\n                                                        onChange: (e)=>{\n                                                            const newVars = [\n                                                                ...newChatTemplateVariables\n                                                            ];\n                                                            newVars[index] = e.target.value;\n                                                            setNewChatTemplateVariables(newVars);\n                                                        },\n                                                        placeholder: \"Valor para {{\".concat(index + 1, \"}}\"),\n                                                        className: \"w-full px-2 py-1.5 bg-dark-bg border border-dark-border rounded text-white text-sm placeholder-gray-500 focus:outline-none focus:border-neon-blue\"\n                                                    }, index, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1082,\n                                                        columnNumber: 25\n                                                    }, this))\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1079,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1032,\n                                    columnNumber: 17\n                                }, this),\n                                !newChatUseTemplate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm text-gray-400 mb-1\",\n                                            children: \"Mensaje\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1102,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            value: newChatMessage,\n                                            onChange: (e)=>setNewChatMessage(e.target.value),\n                                            placeholder: \"Escribe tu mensaje...\",\n                                            rows: 3,\n                                            className: \"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-neon-blue resize-none\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1103,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1101,\n                                    columnNumber: 17\n                                }, this),\n                                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-3 py-2 bg-accent-error/10 border border-accent-error/20 rounded-lg text-accent-error text-sm\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1114,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSendNewChat,\n                                    disabled: newChatSending || !newChatPhone.trim() || !newChatMessage.trim() && !selectedNewChatTemplate || !!(selectedNewChatTemplate && newChatTemplateVariables.length > 0 && newChatTemplateVariables.some((v)=>!v.trim())),\n                                    className: \"w-full py-2.5 bg-neon-blue text-dark-bg rounded-lg font-medium hover:bg-neon-blue-light disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n                                    children: newChatSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-4 h-4 border-2 border-dark-bg border-t-transparent rounded-full animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1126,\n                                                columnNumber: 21\n                                            }, this),\n                                            \"Enviando...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1125,\n                                        columnNumber: 19\n                                    }, this) : \"Enviar mensaje\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1119,\n                                    columnNumber: 15\n                                }, this),\n                                instanceProvider === \"META_CLOUD\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500 text-center\",\n                                    children: \"Para numeros nuevos en Meta Cloud, usa una plantilla aprobada\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1135,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 1018,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 1011,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 1010,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n        lineNumber: 669,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"ZPeMH+Eg9IlkQfmK2UPdGxSUUTQ=\", false, function() {\n    return [\n        _store_business__WEBPACK_IMPORTED_MODULE_2__.useBusinessStore\n    ];\n});\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9kYXNoYm9hcmQvY2hhdC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVpRTtBQUNiO0FBQ29EO0FBK0R6RixTQUFTWTtRQTh0Qk9DLGdCQWlJUkMsMENBQUFBOztJQTkxQnJCLE1BQU0sRUFBRUMsZUFBZSxFQUFFLEdBQUdYLGlFQUFnQkE7SUFDNUMsTUFBTSxDQUFDWSxlQUFlQyxpQkFBaUIsR0FBR2pCLCtDQUFRQSxDQUFpQixFQUFFO0lBQ3JFLE1BQU0sQ0FBQ2tCLGVBQWVDLGlCQUFpQixHQUFHbkIsK0NBQVFBLENBQWdCO0lBQ2xFLE1BQU0sQ0FBQ29CLHFCQUFxQkMsdUJBQXVCLEdBQUdyQiwrQ0FBUUEsQ0FBUztJQUN2RSxNQUFNLENBQUNzQixVQUFVQyxZQUFZLEdBQUd2QiwrQ0FBUUEsQ0FBWSxFQUFFO0lBQ3RELE1BQU0sQ0FBQ3dCLFlBQVlDLGNBQWMsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQzBCLFNBQVNDLFdBQVcsR0FBRzNCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQzRCLFNBQVNDLFdBQVcsR0FBRzdCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQzhCLGNBQWNDLGdCQUFnQixHQUFHL0IsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDZ0MsV0FBV0MsYUFBYSxHQUFHakMsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDa0MsYUFBYUMsZUFBZSxHQUFHbkMsK0NBQVFBLENBQW1EO0lBQ2pHLE1BQU0sQ0FBQ29DLE9BQU9DLFNBQVMsR0FBR3JDLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUNzQyxhQUFhQyxlQUFlLEdBQUd2QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN3QyxhQUFhQyxlQUFlLEdBQUd6QywrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUMwQyxVQUFVQyxZQUFZLEdBQUczQywrQ0FBUUEsQ0FBb0I7SUFDNUQsTUFBTSxD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Q0FBQyxDQUFFQSxDQUFBQSwyQkFBMkJJLHlCQUF5QjhDLE1BQU0sR0FBRyxLQUFLOUMseUJBQXlCOEcsSUFBSSxDQUFDQyxDQUFBQSxJQUFLLENBQUNBLEVBQUVKLElBQUksR0FBRTtvQ0FDN04yRixXQUFVOzhDQUVUbE4sK0JBQ0MsOERBQUNpTjt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNEO2dEQUFJQyxXQUFVOzs7Ozs7NENBQW1GOzs7Ozs7K0NBSXBHOzs7Ozs7Z0NBSUhoTixxQkFBcUIsOEJBQ3BCLDhEQUFDd087b0NBQUV4QixXQUFVOzhDQUFvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVakU7R0FyakN3QmhSOztRQUNNUiw2REFBZ0JBOzs7S0FEdEJRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9kYXNoYm9hcmQvY2hhdC9wYWdlLnRzeD9jMmQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUJ1c2luZXNzU3RvcmUgfSBmcm9tICdAL3N0b3JlL2J1c2luZXNzJztcbmltcG9ydCB7IG1lc3NhZ2VBcGksIHdhQXBpLCBtZWRpYUFwaSwgYnVzaW5lc3NBcGksIHRhZ3NBcGksIGJpbGxpbmdBcGksIHRlbXBsYXRlc0FwaSB9IGZyb20gJ0AvbGliL2FwaSc7XG5cbmludGVyZmFjZSBDb252ZXJzYXRpb24ge1xuICBwaG9uZTogc3RyaW5nO1xuICBjb250YWN0TmFtZTogc3RyaW5nO1xuICBsYXN0TWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcbiAgbGFzdE1lc3NhZ2VBdDogc3RyaW5nO1xuICBtZXNzYWdlQ291bnQ6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICBkaXJlY3Rpb246IHN0cmluZztcbiAgc2VuZGVyPzogc3RyaW5nO1xuICByZWNpcGllbnQ/OiBzdHJpbmc7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIG1lZGlhVXJsPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgbWV0YWRhdGE/OiB7XG4gICAgbWVkaWFBbmFseXNpcz86IHN0cmluZztcbiAgICBtZWRpYVR5cGU/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFRhZyB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgY29sb3I6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIG9yZGVyOiBudW1iZXI7XG4gIF9jb3VudD86IHsgYXNzaWdubWVudHM6IG51bWJlciB9O1xufVxuXG5pbnRlcmZhY2UgVGFnQXNzaWdubWVudCB7XG4gIHRhZ0lkOiBzdHJpbmc7XG4gIGNvbnRhY3RQaG9uZTogc3RyaW5nO1xuICB0YWc6IFRhZztcbn1cblxuaW50ZXJmYWNlIFdpbmRvd1N0YXR1cyB7XG4gIHByb3ZpZGVyOiBzdHJpbmcgfCBudWxsO1xuICByZXF1aXJlc1RlbXBsYXRlOiBib29sZWFuO1xuICB3aW5kb3dPcGVuOiBib29sZWFuO1xuICBob3Vyc1JlbWFpbmluZz86IG51bWJlcjtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVGVtcGxhdGUge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBsYW5ndWFnZTogc3RyaW5nO1xuICBjb21wb25lbnRzOiBhbnlbXTtcbn1cblxuaW50ZXJmYWNlIERhaWx5Q29udGFjdFN0YXRzIHtcbiAgY291bnQ6IG51bWJlcjtcbiAgbGltaXQ6IG51bWJlcjtcbiAgcmVtYWluaW5nOiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkge1xuICBjb25zdCB7IGN1cnJlbnRCdXNpbmVzcyB9ID0gdXNlQnVzaW5lc3NTdG9yZSgpO1xuICBjb25zdCBbY29udmVyc2F0aW9ucywgc2V0Q29udmVyc2F0aW9uc10gPSB1c2VTdGF0ZTxDb252ZXJzYXRpb25bXT4oW10pO1xuICBjb25zdCBbc2VsZWN0ZWRQaG9uZSwgc2V0U2VsZWN0ZWRQaG9uZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkQ29udGFjdE5hbWUsIHNldFNlbGVjdGVkQ29udGFjdE5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihbXSk7XG4gIGNvbnN0IFtuZXdNZXNzYWdlLCBzZXROZXdNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzZW5kaW5nLCBzZXRTZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYXRMaXN0T3Blbiwgc2V0Q2hhdExpc3RPcGVuXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbdXBsb2FkaW5nLCBzZXRVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJldmlld0ZpbGUsIHNldFByZXZpZXdGaWxlXSA9IHVzZVN0YXRlPHsgZmlsZTogRmlsZTsgdXJsOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtib3RUb2dnbGluZywgc2V0Qm90VG9nZ2xpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNSZWNvcmRpbmcsIHNldElzUmVjb3JkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZpZXdNb2RlLCBzZXRWaWV3TW9kZV0gPSB1c2VTdGF0ZTwnbGlzdCcgfCAna2FuYmFuJz4oJ2xpc3QnKTtcbiAgY29uc3QgW3RhZ3MsIHNldFRhZ3NdID0gdXNlU3RhdGU8VGFnW10+KFtdKTtcbiAgY29uc3QgW2Fzc2lnbm1lbnRzLCBzZXRBc3NpZ25tZW50c10gPSB1c2VTdGF0ZTxUYWdBc3NpZ25tZW50W10+KFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkVGFnLCBzZXRTZWxlY3RlZFRhZ10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Fzc2lnbmluZ1RhZywgc2V0QXNzaWduaW5nVGFnXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3dpbmRvd1N0YXR1cywgc2V0V2luZG93U3RhdHVzXSA9IHVzZVN0YXRlPFdpbmRvd1N0YXR1cyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZGFpbHlDb250YWN0cywgc2V0RGFpbHlDb250YWN0c10gPSB1c2VTdGF0ZTxEYWlseUNvbnRhY3RTdGF0cyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY29udGFjdEJvdERpc2FibGVkLCBzZXRDb250YWN0Qm90RGlzYWJsZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbY29udGFjdEJvdFRvZ2dsaW5nLCBzZXRDb250YWN0Qm90VG9nZ2xpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdGVtcGxhdGVzLCBzZXRUZW1wbGF0ZXNdID0gdXNlU3RhdGU8VGVtcGxhdGVbXT4oW10pO1xuICBjb25zdCBbc2hvd1RlbXBsYXRlTW9kYWwsIHNldFNob3dUZW1wbGF0ZU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbmRpbmdUZW1wbGF0ZSwgc2V0U2VuZGluZ1RlbXBsYXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzaG93TmV3Q2hhdE1vZGFsLCBzZXRTaG93TmV3Q2hhdE1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld0NoYXRQaG9uZSwgc2V0TmV3Q2hhdFBob25lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0NoYXRNZXNzYWdlLCBzZXROZXdDaGF0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdDaGF0U2VuZGluZywgc2V0TmV3Q2hhdFNlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaW5zdGFuY2VQcm92aWRlciwgc2V0SW5zdGFuY2VQcm92aWRlcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW25ld0NoYXRUZW1wbGF0ZXMsIHNldE5ld0NoYXRUZW1wbGF0ZXNdID0gdXNlU3RhdGU8VGVtcGxhdGVbXT4oW10pO1xuICBjb25zdCBbbmV3Q2hhdFVzZVRlbXBsYXRlLCBzZXROZXdDaGF0VXNlVGVtcGxhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUsIHNldFNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlXSA9IHVzZVN0YXRlPFRlbXBsYXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt0ZW1wbGF0ZVZhcmlhYmxlcywgc2V0VGVtcGxhdGVWYXJpYWJsZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW25ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcywgc2V0TmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgY29uc3QgY2hhdENvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IG1lZGlhUmVjb3JkZXJSZWYgPSB1c2VSZWY8TWVkaWFSZWNvcmRlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBhdWRpb1N0cmVhbVJlZiA9IHVzZVJlZjxNZWRpYVN0cmVhbSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBba2V5Ym9hcmRIZWlnaHQsIHNldEtleWJvYXJkSGVpZ2h0XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbaXNJbnB1dEZvY3VzZWQsIHNldElzSW5wdXRGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVZpZXdwb3J0UmVzaXplID0gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydDtcbiAgICAgICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHZpZXdwb3J0LmhlaWdodDtcbiAgICAgICAgY29uc3QgbmV3S2V5Ym9hcmRIZWlnaHQgPSB3aW5kb3dIZWlnaHQgLSB2aWV3cG9ydEhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIGlmIChuZXdLZXlib2FyZEhlaWdodCA+IDEwMCkge1xuICAgICAgICAgIHNldEtleWJvYXJkSGVpZ2h0KG5ld0tleWJvYXJkSGVpZ2h0KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2VuZCcgfSk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRLZXlib2FyZEhlaWdodCgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlVmlld3BvcnRSZXNpemUpO1xuICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVZpZXdwb3J0UmVzaXplKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlVmlld3BvcnRSZXNpemUpO1xuICAgICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlVmlld3BvcnRSZXNpemUpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXJyZW50QnVzaW5lc3MpIHtcbiAgICAgIGZldGNoQ29udmVyc2F0aW9ucygpO1xuICAgICAgZmV0Y2hUYWdzKCk7XG4gICAgICBmZXRjaERhaWx5Q29udGFjdHMoKTtcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBmZXRjaENvbnZlcnNhdGlvbnMoKTtcbiAgICAgICAgZmV0Y2hEYWlseUNvbnRhY3RzKCk7XG4gICAgICB9LCAxMDAwMCk7XG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfVxuICB9LCBbY3VycmVudEJ1c2luZXNzXSk7XG5cbiAgY29uc3QgZmV0Y2hEYWlseUNvbnRhY3RzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYmlsbGluZ0FwaS5nZXRDb250YWN0c1RvZGF5KGN1cnJlbnRCdXNpbmVzcy5pZCk7XG4gICAgICBzZXREYWlseUNvbnRhY3RzKHJlc3BvbnNlLmRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGRhaWx5IGNvbnRhY3RzOicsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZldGNoVGFncyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbdGFnc1JlcywgYXNzaWdubWVudHNSZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICB0YWdzQXBpLmxpc3QoY3VycmVudEJ1c2luZXNzLmlkKSxcbiAgICAgICAgdGFnc0FwaS5nZXRBc3NpZ25tZW50cyhjdXJyZW50QnVzaW5lc3MuaWQpXG4gICAgICBdKTtcbiAgICAgIHNldFRhZ3ModGFnc1Jlcy5kYXRhKTtcbiAgICAgIHNldEFzc2lnbm1lbnRzKGFzc2lnbm1lbnRzUmVzLmRhdGEpO1xuICAgICAgXG4gICAgICBpZiAodGFnc1Jlcy5kYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBpbml0UmVzID0gYXdhaXQgdGFnc0FwaS5pbml0RGVmYXVsdHMoY3VycmVudEJ1c2luZXNzLmlkKTtcbiAgICAgICAgc2V0VGFncyhpbml0UmVzLmRhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHRhZ3M6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXNzaWduVGFnID0gYXN5bmMgKHBob25lOiBzdHJpbmcsIHRhZ0lkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIGlmICghdGFnSWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldEFzc2lnbmluZ1RhZyh0cnVlKTtcbiAgICAgICAgYXdhaXQgdGFnc0FwaS51bmFzc2lnbih7IGJ1c2luZXNzX2lkOiBjdXJyZW50QnVzaW5lc3MuaWQsIGNvbnRhY3RfcGhvbmU6IHBob25lIH0pO1xuICAgICAgICBmZXRjaFRhZ3MoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdW5hc3NpZ24gdGFnOicsIGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRBc3NpZ25pbmdUYWcoZmFsc2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRBc3NpZ25pbmdUYWcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRhZ3NBcGkuYXNzaWduKHsgYnVzaW5lc3NfaWQ6IGN1cnJlbnRCdXNpbmVzcy5pZCwgY29udGFjdF9waG9uZTogcGhvbmUsIHRhZ19pZDogdGFnSWQgfSk7XG4gICAgICBmZXRjaFRhZ3MoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBhc3NpZ24gdGFnOicsIGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEFzc2lnbmluZ1RhZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldENvbnRhY3RUYWcgPSAocGhvbmU6IHN0cmluZyk6IFRhZyB8IHVuZGVmaW5lZCA9PiB7XG4gICAgY29uc3QgYXNzaWdubWVudCA9IGFzc2lnbm1lbnRzLmZpbmQoYSA9PiBhLmNvbnRhY3RQaG9uZSA9PT0gcGhvbmUpO1xuICAgIHJldHVybiBhc3NpZ25tZW50Py50YWc7XG4gIH07XG5cbiAgY29uc3QgZ2V0Q29udmVyc2F0aW9uc0J5VGFnID0gKHRhZ0lkOiBzdHJpbmcgfCBudWxsKTogQ29udmVyc2F0aW9uW10gPT4ge1xuICAgIGlmICghdGFnSWQpIHtcbiAgICAgIGNvbnN0IGFzc2lnbmVkUGhvbmVzID0gYXNzaWdubWVudHMubWFwKGEgPT4gYS5jb250YWN0UGhvbmUpO1xuICAgICAgcmV0dXJuIGNvbnZlcnNhdGlvbnMuZmlsdGVyKGMgPT4gIWFzc2lnbmVkUGhvbmVzLmluY2x1ZGVzKGMucGhvbmUpKTtcbiAgICB9XG4gICAgY29uc3QgcGhvbmVzRm9yVGFnID0gYXNzaWdubWVudHMuZmlsdGVyKGEgPT4gYS50YWdJZCA9PT0gdGFnSWQpLm1hcChhID0+IGEuY29udGFjdFBob25lKTtcbiAgICByZXR1cm4gY29udmVyc2F0aW9ucy5maWx0ZXIoYyA9PiBwaG9uZXNGb3JUYWcuaW5jbHVkZXMoYy5waG9uZSkpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkUGhvbmUgJiYgY3VycmVudEJ1c2luZXNzKSB7XG4gICAgICBmZXRjaE1lc3NhZ2VzKHNlbGVjdGVkUGhvbmUpO1xuICAgICAgZmV0Y2hXaW5kb3dTdGF0dXMoc2VsZWN0ZWRQaG9uZSk7XG4gICAgICBmZXRjaENvbnRhY3RCb3RTdGF0dXMoc2VsZWN0ZWRQaG9uZSk7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgZmV0Y2hNZXNzYWdlcyhzZWxlY3RlZFBob25lKTtcbiAgICAgICAgZmV0Y2hXaW5kb3dTdGF0dXMoc2VsZWN0ZWRQaG9uZSk7XG4gICAgICB9LCA1MDAwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZFBob25lLCBjdXJyZW50QnVzaW5lc3NdKTtcblxuICBjb25zdCBmZXRjaENvbnRhY3RCb3RTdGF0dXMgPSBhc3luYyAocGhvbmU6IHN0cmluZykgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFnc0FwaS5nZXRDb250YWN0Qm90U3RhdHVzKGN1cnJlbnRCdXNpbmVzcy5pZCwgcGhvbmUpO1xuICAgICAgc2V0Q29udGFjdEJvdERpc2FibGVkKHJlc3BvbnNlLmRhdGEuYm90RGlzYWJsZWQgfHwgZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGNvbnRhY3QgYm90IHN0YXR1czonLCBlcnIpO1xuICAgICAgc2V0Q29udGFjdEJvdERpc2FibGVkKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlQ29udGFjdEJvdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcyB8fCAhc2VsZWN0ZWRQaG9uZSkgcmV0dXJuO1xuICAgIHNldENvbnRhY3RCb3RUb2dnbGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3U3RhdHVzID0gIWNvbnRhY3RCb3REaXNhYmxlZDtcbiAgICAgIGF3YWl0IHRhZ3NBcGkudG9nZ2xlQ29udGFjdEJvdChjdXJyZW50QnVzaW5lc3MuaWQsIHNlbGVjdGVkUGhvbmUsIG5ld1N0YXR1cyk7XG4gICAgICBzZXRDb250YWN0Qm90RGlzYWJsZWQobmV3U3RhdHVzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB0b2dnbGUgY29udGFjdCBib3Q6JywgZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0Q29udGFjdEJvdFRvZ2dsaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZmV0Y2hXaW5kb3dTdGF0dXMgPSBhc3luYyAocGhvbmU6IHN0cmluZykgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWVzc2FnZUFwaS53aW5kb3dTdGF0dXMoY3VycmVudEJ1c2luZXNzLmlkLCBwaG9uZSk7XG4gICAgICBzZXRXaW5kb3dTdGF0dXMocmVzcG9uc2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggd2luZG93IHN0YXR1czonLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmZXRjaFRlbXBsYXRlcyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRlbXBsYXRlc0FwaS5saXN0KGN1cnJlbnRCdXNpbmVzcy5pZCk7XG4gICAgICBjb25zdCBhcHByb3ZlZFRlbXBsYXRlcyA9IChyZXNwb25zZS5kYXRhIHx8IFtdKS5maWx0ZXIoKHQ6IFRlbXBsYXRlKSA9PiB0LnN0YXR1cyA9PT0gJ0FQUFJPVkVEJyk7XG4gICAgICBzZXRUZW1wbGF0ZXMoYXBwcm92ZWRUZW1wbGF0ZXMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHRlbXBsYXRlczonLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRUZW1wbGF0ZVZhcmlhYmxlQ291bnQgPSAodGVtcGxhdGU6IFRlbXBsYXRlKTogbnVtYmVyID0+IHtcbiAgICBjb25zdCBib2R5Q29tcG9uZW50ID0gdGVtcGxhdGUuY29tcG9uZW50cz8uZmluZCgoYzogYW55KSA9PiBjLnR5cGUgPT09ICdCT0RZJyk7XG4gICAgaWYgKCFib2R5Q29tcG9uZW50Py50ZXh0KSByZXR1cm4gMDtcbiAgICBjb25zdCBtYXRjaGVzID0gYm9keUNvbXBvbmVudC50ZXh0Lm1hdGNoKC9cXHtcXHtcXGQrXFx9XFx9L2cpIHx8IFtdO1xuICAgIHJldHVybiBtYXRjaGVzLmxlbmd0aDtcbiAgfTtcblxuICBjb25zdCBbc2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQsIHNldFNlbGVjdGVkVGVtcGxhdGVGb3JTZW5kXSA9IHVzZVN0YXRlPFRlbXBsYXRlIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0VGVtcGxhdGUgPSAodGVtcGxhdGU6IFRlbXBsYXRlKSA9PiB7XG4gICAgY29uc3QgdmFyQ291bnQgPSBnZXRUZW1wbGF0ZVZhcmlhYmxlQ291bnQodGVtcGxhdGUpO1xuICAgIGlmICh2YXJDb3VudCA+IDApIHtcbiAgICAgIHNldFNlbGVjdGVkVGVtcGxhdGVGb3JTZW5kKHRlbXBsYXRlKTtcbiAgICAgIHNldFRlbXBsYXRlVmFyaWFibGVzKEFycmF5KHZhckNvdW50KS5maWxsKCcnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVNlbmRUZW1wbGF0ZSh0ZW1wbGF0ZSwgW10pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZW5kVGVtcGxhdGUgPSBhc3luYyAodGVtcGxhdGU6IFRlbXBsYXRlLCB2YXJpYWJsZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MgfHwgIXNlbGVjdGVkUGhvbmUpIHJldHVybjtcbiAgICBzZXRTZW5kaW5nVGVtcGxhdGUodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRlbXBsYXRlc0FwaS5zZW5kKGN1cnJlbnRCdXNpbmVzcy5pZCwge1xuICAgICAgICB0ZW1wbGF0ZU5hbWU6IHRlbXBsYXRlLm5hbWUsXG4gICAgICAgIHRvOiBzZWxlY3RlZFBob25lLFxuICAgICAgICB2YXJpYWJsZXM6IHZhcmlhYmxlcy5sZW5ndGggPiAwID8gdmFyaWFibGVzIDogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHNldFNob3dUZW1wbGF0ZU1vZGFsKGZhbHNlKTtcbiAgICAgIHNldFNlbGVjdGVkVGVtcGxhdGVGb3JTZW5kKG51bGwpO1xuICAgICAgc2V0VGVtcGxhdGVWYXJpYWJsZXMoW10pO1xuICAgICAgZmV0Y2hNZXNzYWdlcyhzZWxlY3RlZFBob25lKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgdGVtcGxhdGU6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5yZXNwb25zZT8uZGF0YT8uZXJyb3IgfHwgJ0Vycm9yIGFsIGVudmlhciBwbGFudGlsbGEnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3IobnVsbCksIDUwMDApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTZW5kaW5nVGVtcGxhdGUoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh3aW5kb3dTdGF0dXM/LnByb3ZpZGVyID09PSAnTUVUQV9DTE9VRCcgJiYgIXdpbmRvd1N0YXR1cz8ud2luZG93T3Blbikge1xuICAgICAgZmV0Y2hUZW1wbGF0ZXMoKTtcbiAgICB9XG4gIH0sIFt3aW5kb3dTdGF0dXMsIGN1cnJlbnRCdXNpbmVzc10pO1xuXG4gIGNvbnN0IGZldGNoSW5zdGFuY2VQcm92aWRlciA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHdhQXBpLnN0YXR1cyhjdXJyZW50QnVzaW5lc3MuaWQpO1xuICAgICAgaWYgKHJlc3BvbnNlLmRhdGE/LnByb3ZpZGVyKSB7XG4gICAgICAgIHNldEluc3RhbmNlUHJvdmlkZXIocmVzcG9uc2UuZGF0YS5wcm92aWRlcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggaW5zdGFuY2UgcHJvdmlkZXI6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZmV0Y2hOZXdDaGF0VGVtcGxhdGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGVtcGxhdGVzQXBpLmxpc3QoY3VycmVudEJ1c2luZXNzLmlkKTtcbiAgICAgIGNvbnN0IGFwcHJvdmVkVGVtcGxhdGVzID0gKHJlc3BvbnNlLmRhdGEgfHwgW10pLmZpbHRlcigodDogVGVtcGxhdGUpID0+IHQuc3RhdHVzID09PSAnQVBQUk9WRUQnKTtcbiAgICAgIHNldE5ld0NoYXRUZW1wbGF0ZXMoYXBwcm92ZWRUZW1wbGF0ZXMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHRlbXBsYXRlcyBmb3IgbmV3IGNoYXQ6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb3Blbk5ld0NoYXRNb2RhbCA9ICgpID0+IHtcbiAgICBzZXROZXdDaGF0UGhvbmUoJycpO1xuICAgIHNldE5ld0NoYXRNZXNzYWdlKCcnKTtcbiAgICBzZXROZXdDaGF0VXNlVGVtcGxhdGUoZmFsc2UpO1xuICAgIHNldFNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlKG51bGwpO1xuICAgIGZldGNoSW5zdGFuY2VQcm92aWRlcigpO1xuICAgIGlmIChpbnN0YW5jZVByb3ZpZGVyID09PSAnTUVUQV9DTE9VRCcpIHtcbiAgICAgIGZldGNoTmV3Q2hhdFRlbXBsYXRlcygpO1xuICAgIH1cbiAgICBzZXRTaG93TmV3Q2hhdE1vZGFsKHRydWUpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3dOZXdDaGF0TW9kYWwgJiYgaW5zdGFuY2VQcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnKSB7XG4gICAgICBmZXRjaE5ld0NoYXRUZW1wbGF0ZXMoKTtcbiAgICB9XG4gIH0sIFtzaG93TmV3Q2hhdE1vZGFsLCBpbnN0YW5jZVByb3ZpZGVyXSk7XG5cbiAgY29uc3QgaGFuZGxlU2VuZE5ld0NoYXQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MgfHwgIW5ld0NoYXRQaG9uZS50cmltKCkpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjbGVhblBob25lID0gbmV3Q2hhdFBob25lLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgaWYgKGNsZWFuUGhvbmUubGVuZ3RoIDwgMTApIHtcbiAgICAgIHNldEVycm9yKCdOdW1lcm8gaW52YWxpZG8nKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3IobnVsbCksIDMwMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuZXdDaGF0VXNlVGVtcGxhdGUgJiYgc2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUpIHtcbiAgICAgIGNvbnN0IHZhckNvdW50ID0gZ2V0VGVtcGxhdGVWYXJpYWJsZUNvdW50KHNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlKTtcbiAgICAgIGlmICh2YXJDb3VudCA+IDAgJiYgbmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzLnNvbWUodiA9PiAhdi50cmltKCkpKSB7XG4gICAgICAgIHNldEVycm9yKCdDb21wbGV0YSB0b2RhcyBsYXMgdmFyaWFibGVzIGRlIGxhIHBsYW50aWxsYScpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yKG51bGwpLCAzMDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldE5ld0NoYXRTZW5kaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChuZXdDaGF0VXNlVGVtcGxhdGUgJiYgc2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUpIHtcbiAgICAgICAgYXdhaXQgdGVtcGxhdGVzQXBpLnNlbmQoY3VycmVudEJ1c2luZXNzLmlkLCB7XG4gICAgICAgICAgdGVtcGxhdGVOYW1lOiBzZWxlY3RlZE5ld0NoYXRUZW1wbGF0ZS5uYW1lLFxuICAgICAgICAgIHRvOiBjbGVhblBob25lLFxuICAgICAgICAgIHZhcmlhYmxlczogbmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzLmxlbmd0aCA+IDAgPyBuZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMgOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG5ld0NoYXRNZXNzYWdlLnRyaW0oKSkge1xuICAgICAgICBhd2FpdCB3YUFwaS5zZW5kKGN1cnJlbnRCdXNpbmVzcy5pZCwgeyBcbiAgICAgICAgICB0bzogY2xlYW5QaG9uZSwgXG4gICAgICAgICAgbWVzc2FnZTogbmV3Q2hhdE1lc3NhZ2UgXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IoJ0VzY3JpYmUgdW4gbWVuc2FqZSBvIHNlbGVjY2lvbmEgdW5hIHBsYW50aWxsYScpO1xuICAgICAgICBzZXROZXdDaGF0U2VuZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0U2hvd05ld0NoYXRNb2RhbChmYWxzZSk7XG4gICAgICBzZXROZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMoW10pO1xuICAgICAgZmV0Y2hDb252ZXJzYXRpb25zKCk7XG4gICAgICBzZXRTZWxlY3RlZFBob25lKGNsZWFuUGhvbmUpO1xuICAgICAgc2V0U2VsZWN0ZWRDb250YWN0TmFtZSgnJyk7XG4gICAgICBmZXRjaE1lc3NhZ2VzKGNsZWFuUGhvbmUpO1xuICAgICAgZmV0Y2hXaW5kb3dTdGF0dXMoY2xlYW5QaG9uZSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIG5ldyBjaGF0OicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8ICdFcnJvciBhbCBlbnZpYXIgbWVuc2FqZScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvcihudWxsKSwgNTAwMCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldE5ld0NoYXRTZW5kaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZmlsdGVyZWRDb252ZXJzYXRpb25zID0gY29udmVyc2F0aW9ucy5maWx0ZXIoY29udiA9PiB7XG4gICAgaWYgKCFzZWFyY2hRdWVyeS50cmltKCkpIHJldHVybiB0cnVlO1xuICAgIGNvbnN0IHF1ZXJ5ID0gc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwaG9uZU1hdGNoID0gY29udi5waG9uZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KTtcbiAgICBjb25zdCBuYW1lTWF0Y2ggPSBjb252LmNvbnRhY3ROYW1lPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KTtcbiAgICByZXR1cm4gcGhvbmVNYXRjaCB8fCBuYW1lTWF0Y2g7XG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIGNvbnN0IGZldGNoQ29udmVyc2F0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1lc3NhZ2VBcGkuY29udmVyc2F0aW9ucyhjdXJyZW50QnVzaW5lc3MuaWQpO1xuICAgICAgc2V0Q29udmVyc2F0aW9ucyhyZXNwb25zZS5kYXRhKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb252ZXJzYXRpb25zOicsIGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmZXRjaE1lc3NhZ2VzID0gYXN5bmMgKHBob25lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1lc3NhZ2VBcGkuY29udmVyc2F0aW9uKGN1cnJlbnRCdXNpbmVzcy5pZCwgcGhvbmUpO1xuICAgICAgc2V0TWVzc2FnZXMocmVzcG9uc2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggbWVzc2FnZXM6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VuZCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MgfHwgIXNlbGVjdGVkUGhvbmUgfHwgKCFuZXdNZXNzYWdlLnRyaW0oKSAmJiAhcHJldmlld0ZpbGUpKSByZXR1cm47XG5cbiAgICBzZXRTZW5kaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChwcmV2aWV3RmlsZSkge1xuICAgICAgICBzZXRVcGxvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHVwbG9hZFJlcyA9IGF3YWl0IG1lZGlhQXBpLnVwbG9hZChjdXJyZW50QnVzaW5lc3MuaWQsIHByZXZpZXdGaWxlLmZpbGUpO1xuICAgICAgICBjb25zdCB7IHVybCwgdHlwZSwgbWltZXR5cGUgfSA9IHVwbG9hZFJlcy5kYXRhO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2VuZERhdGE6IGFueSA9IHsgdG86IHNlbGVjdGVkUGhvbmUgfTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICBzZW5kRGF0YS5pbWFnZVVybCA9IHVybDtcbiAgICAgICAgICBzZW5kRGF0YS5tZXNzYWdlID0gbmV3TWVzc2FnZSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgIHNlbmREYXRhLnZpZGVvVXJsID0gdXJsO1xuICAgICAgICAgIHNlbmREYXRhLm1lc3NhZ2UgPSBuZXdNZXNzYWdlIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgc2VuZERhdGEuYXVkaW9VcmwgPSB1cmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VuZERhdGEuZmlsZVVybCA9IHVybDtcbiAgICAgICAgICBzZW5kRGF0YS5maWxlTmFtZSA9IHByZXZpZXdGaWxlLmZpbGUubmFtZTtcbiAgICAgICAgICBzZW5kRGF0YS5taW1lVHlwZSA9IG1pbWV0eXBlIHx8IHByZXZpZXdGaWxlLmZpbGUudHlwZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXdhaXQgd2FBcGkuc2VuZChjdXJyZW50QnVzaW5lc3MuaWQsIHNlbmREYXRhKTtcbiAgICAgICAgc2V0UHJldmlld0ZpbGUobnVsbCk7XG4gICAgICAgIHNldFVwbG9hZGluZyhmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB3YUFwaS5zZW5kKGN1cnJlbnRCdXNpbmVzcy5pZCwgeyB0bzogc2VsZWN0ZWRQaG9uZSwgbWVzc2FnZTogbmV3TWVzc2FnZSB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0TmV3TWVzc2FnZSgnJyk7XG4gICAgICBmZXRjaE1lc3NhZ2VzKHNlbGVjdGVkUGhvbmUpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8ICdFcnJvciBhbCBlbnZpYXIgbWVuc2FqZScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvcihudWxsKSwgNTAwMCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNlbmRpbmcoZmFsc2UpO1xuICAgICAgc2V0VXBsb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdCA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xuICAgIGlmICghZmlsZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgbGV0IHR5cGUgPSAnZmlsZSc7XG4gICAgaWYgKGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgdHlwZSA9ICdpbWFnZSc7XG4gICAgZWxzZSBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpKSB0eXBlID0gJ3ZpZGVvJztcbiAgICBlbHNlIGlmIChmaWxlLnR5cGUuc3RhcnRzV2l0aCgnYXVkaW8vJykpIHR5cGUgPSAnYXVkaW8nO1xuICAgIFxuICAgIHNldFByZXZpZXdGaWxlKHsgZmlsZSwgdXJsLCB0eXBlIH0pO1xuICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcbiAgfTtcblxuICBjb25zdCBjYW5jZWxQcmV2aWV3ID0gKCkgPT4ge1xuICAgIGlmIChwcmV2aWV3RmlsZSkge1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChwcmV2aWV3RmlsZS51cmwpO1xuICAgICAgc2V0UHJldmlld0ZpbGUobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUJvdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHNldEJvdFRvZ2dsaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBidXNpbmVzc0FwaS50b2dnbGVCb3QoY3VycmVudEJ1c2luZXNzLmlkLCAhY3VycmVudEJ1c2luZXNzLmJvdEVuYWJsZWQpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBidXNpbmVzc0FwaS5nZXQoY3VycmVudEJ1c2luZXNzLmlkKTtcbiAgICAgIHVzZUJ1c2luZXNzU3RvcmUuc2V0U3RhdGUoeyBjdXJyZW50QnVzaW5lc3M6IHJlc3BvbnNlLmRhdGEgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdG9nZ2xlIGJvdDonLCBlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRCb3RUb2dnbGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN0YXJ0UmVjb3JkaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pO1xuICAgICAgYXVkaW9TdHJlYW1SZWYuY3VycmVudCA9IHN0cmVhbTtcbiAgICAgIGNvbnN0IG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pO1xuICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50ID0gbWVkaWFSZWNvcmRlcjtcbiAgICAgIGNvbnN0IGF1ZGlvQ2h1bmtzOiBCbG9iW10gPSBbXTtcbiAgICAgIFxuICAgICAgbWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSAoZXZlbnQpID0+IGF1ZGlvQ2h1bmtzLnB1c2goZXZlbnQuZGF0YSk7XG4gICAgICBtZWRpYVJlY29yZGVyLm9uc3RvcCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9CbG9iID0gbmV3IEJsb2IoYXVkaW9DaHVua3MsIHsgdHlwZTogJ2F1ZGlvL3dlYm0nIH0pO1xuICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoW2F1ZGlvQmxvYl0sICdhdWRpby53ZWJtJywgeyB0eXBlOiAnYXVkaW8vd2VibScgfSk7XG4gICAgICAgIHNldFByZXZpZXdGaWxlKHsgZmlsZSwgdXJsOiBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgICBzZXRJc1JlY29yZGluZyhmYWxzZSk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KCk7XG4gICAgICBzZXRJc1JlY29yZGluZyh0cnVlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWNjZXNzaW5nIG1pY3JvcGhvbmU6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoJ05vIHNlIHB1ZG8gYWNjZWRlciBhbCBtaWNyb2Zvbm8nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3RvcFJlY29yZGluZyA9ICgpID0+IHtcbiAgICBpZiAobWVkaWFSZWNvcmRlclJlZi5jdXJyZW50KSBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQuc3RvcCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Rm9jdXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNJbnB1dEZvY3VzZWQodHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdlbmQnIH0pO1xuICAgIH0sIDMwMCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVJbnB1dEJsdXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNJbnB1dEZvY3VzZWQoZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgZm9ybWF0VGltZSA9IChkYXRlU3RyOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cik7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCdlcycsIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KTtcbiAgfTtcblxuICBjb25zdCBmb3JtYXREYXRlID0gKGRhdGVTdHI6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgaWYgKGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHRvZGF5LnRvRGF0ZVN0cmluZygpKSByZXR1cm4gZm9ybWF0VGltZShkYXRlU3RyKTtcbiAgICBjb25zdCB5ZXN0ZXJkYXkgPSBuZXcgRGF0ZSh0b2RheSk7XG4gICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpO1xuICAgIGlmIChkYXRlLnRvRGF0ZVN0cmluZygpID09PSB5ZXN0ZXJkYXkudG9EYXRlU3RyaW5nKCkpIHJldHVybiAnQXllcic7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlcycsIHsgZGF5OiAnMi1kaWdpdCcsIG1vbnRoOiAnMi1kaWdpdCcgfSk7XG4gIH07XG5cbiAgY29uc3QgaXNJbWFnZVVybCA9ICh1cmw6IHN0cmluZykgPT4gL1xcLihqcGd8anBlZ3xwbmd8Z2lmfHdlYnApKFxcPy4qKT8kL2kudGVzdCh1cmwpO1xuICBjb25zdCBpc1ZpZGVvVXJsID0gKHVybDogc3RyaW5nKSA9PiAvXFwuKG1wNHxtb3Z8d2VibXxhdmkpKFxcPy4qKT8kL2kudGVzdCh1cmwpO1xuICBjb25zdCBpc0F1ZGlvVXJsID0gKHVybDogc3RyaW5nKSA9PiAvXFwuKG9nZ3xtcDN8d2F2fG00YXxhYWN8b3B1c3x3ZWJtKShcXD8uKik/JC9pLnRlc3QodXJsKTtcblxuICBjb25zdCByZW5kZXJNZWRpYSA9IChtZWRpYVVybDogc3RyaW5nLCBpc091dGJvdW5kOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKGlzSW1hZ2VVcmwobWVkaWFVcmwpKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTFcIj5cbiAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgc3JjPXttZWRpYVVybH0gXG4gICAgICAgICAgICBhbHQ9XCJNZWRpYVwiIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibWF4LXctZnVsbCByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyIGhvdmVyOm9wYWNpdHktOTAgdHJhbnNpdGlvbi1vcGFjaXR5XCIgXG4gICAgICAgICAgICBzdHlsZT17eyBtYXhIZWlnaHQ6ICcxODBweCcsIG1heFdpZHRoOiAnMjAwcHgnIH19IFxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4obWVkaWFVcmwsICdfYmxhbmsnKX0gXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaXNWaWRlb1VybChtZWRpYVVybCkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMVwiPlxuICAgICAgICAgIDx2aWRlbyBcbiAgICAgICAgICAgIHNyYz17bWVkaWFVcmx9IFxuICAgICAgICAgICAgY29udHJvbHMgXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIHJvdW5kZWQtbWRcIiBcbiAgICAgICAgICAgIHN0eWxlPXt7IG1heEhlaWdodDogJzE4MHB4JywgbWF4V2lkdGg6ICcyMjBweCcgfX0gXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaXNBdWRpb1VybChtZWRpYVVybCkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMVwiPlxuICAgICAgICAgIDxhdWRpbyBjb250cm9scyBwcmVsb2FkPVwibWV0YWRhdGFcIiBjbGFzc05hbWU9XCJoLTggdy1mdWxsXCIgc3R5bGU9e3sgbWF4V2lkdGg6ICcyMDBweCcgfX0+XG4gICAgICAgICAgICA8c291cmNlIHNyYz17bWVkaWFVcmx9IHR5cGU9XCJhdWRpby9tcGVnXCIgLz5cbiAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXttZWRpYVVybH0gdHlwZT1cImF1ZGlvL29nZ1wiIC8+XG4gICAgICAgICAgPC9hdWRpbz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGEgaHJlZj17bWVkaWFVcmx9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC0zIHB5LTIgcm91bmRlZC1tZCBtYi0xICR7aXNPdXRib3VuZCA/ICdiZy1uZW9uLWJsdWUtZGFyay8yMCcgOiAnYmctZGFyay1ob3Zlci81MCd9YH0+XG4gICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNSBmbGV4LXNocmluay0wXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTcgMjFoMTBhMiAyIDAgMDAyLTJWOS40MTRhMSAxIDAgMDAtLjI5My0uNzA3bC01LjQxNC01LjQxNEExIDEgMCAwMDEyLjU4NiAzSDdhMiAyIDAgMDAtMiAydjE0YTIgMiAwIDAwMiAyelwiIC8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+VmVyIGFyY2hpdm88L3NwYW4+XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfTtcblxuICBpZiAoIWN1cnJlbnRCdXNpbmVzcykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtW2NhbGMoMTAwdmgtOHJlbSldIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgIDxwPlByaW1lcm8gZGViZXMgY3JlYXIgdW5hIGVtcHJlc2EgcGFyYSB2ZXIgY29udmVyc2FjaW9uZXMuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBzaG93Q2hhdExpc3QgPSBjaGF0TGlzdE9wZW4gfHwgIXNlbGVjdGVkUGhvbmU7XG5cbiAgY29uc3QgY29udGFpbmVyU3R5bGUgPSBrZXlib2FyZEhlaWdodCA+IDAgXG4gICAgPyB7IGhlaWdodDogYGNhbGMoMTAwdmggLSAxMjBweCAtICR7a2V5Ym9hcmRIZWlnaHR9cHgpYCB9IFxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIHJlZj17Y2hhdENvbnRhaW5lclJlZn1cbiAgICAgIGNsYXNzTmFtZT1cImgtW2NhbGMoMTAwZHZoLTEyMHB4KV0gc206aC1bY2FsYygxMDB2aC02cmVtKV0gZmxleCBmbGV4LWNvbCBiZy1kYXJrLWJnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MFwiXG4gICAgICBzdHlsZT17Y29udGFpbmVyU3R5bGV9XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBvdmVyZmxvdy1oaWRkZW4gc206cm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciBiZy1kYXJrLXN1cmZhY2Ugc2hhZG93LWRhcmstbGdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3Nob3dDaGF0TGlzdCA/ICd3LWZ1bGwgc206dy04MCcgOiAnaGlkZGVuIHNtOmJsb2NrIHNtOnctMCd9IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLXIgYm9yZGVyLWRhcmstYm9yZGVyIGZsZXggZmxleC1jb2xgfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBib3JkZXItYiBib3JkZXItZGFyay1ib3JkZXIgYmctZGFyay1jYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5DaGF0czwvaDI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgYmctZGFyay1ob3ZlciBweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGxcIj57ZmlsdGVyZWRDb252ZXJzYXRpb25zLmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvcGVuTmV3Q2hhdE1vZGFsfSBjbGFzc05hbWU9XCJwLTEuNSByb3VuZGVkLWxnIHRleHQtbmVvbi1ibHVlIGhvdmVyOmJnLW5lb24tYmx1ZS8yMCB0cmFuc2l0aW9uLWNvbG9yc1wiIHRpdGxlPVwiTnVldm8gY2hhdFwiPlxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTEyIDR2MTZtOC04SDRcIiAvPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0Vmlld01vZGUodmlld01vZGUgPT09ICdsaXN0JyA/ICdrYW5iYW4nIDogJ2xpc3QnKX0gY2xhc3NOYW1lPXtgcC0xLjUgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyAke3ZpZXdNb2RlID09PSAna2FuYmFuJyA/ICdiZy1uZW9uLWJsdWUvMjAgdGV4dC1uZW9uLWJsdWUnIDogJ3RleHQtZ3JheS00MDAgaG92ZXI6YmctZGFyay1ob3Zlcid9YH0+XG4gICAgICAgICAgICAgICAgICB7dmlld01vZGUgPT09ICdsaXN0JyA/IChcbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTkgMTdWN20wIDEwYTIgMiAwIDAxLTIgMkg1YTIgMiAwIDAxLTItMlY3YTIgMiAwIDAxMi0yaDJhMiAyIDAgMDEyIDJtMCAxMGEyIDIgMCAwMDIgMmgyYTIgMiAwIDAwMi0yTTkgN2EyIDIgMCAwMTItMmgyYTIgMiAwIDAxMiAybTAgMTBWN20wIDEwYTIgMiAwIDAwMiAyaDJhMiAyIDAgMDAyLTJWN2EyIDIgMCAwMC0yLTJoLTJhMiAyIDAgMDAtMiAyXCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk00IDZoMTZNNCAxMGgxNk00IDE0aDE2TTQgMThoMTZcIiAvPjwvc3ZnPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgbWItMlwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQnVzY2FyIHBvciBudW1lcm8gbyBub21icmUuLi5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwbC04IHByLTMgcHktMiBiZy1kYXJrLXN1cmZhY2UgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkLWxnIHRleHQtd2hpdGUgdGV4dC1zbSBwbGFjZWhvbGRlci1ncmF5LTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLW5lb24tYmx1ZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNTAwIGFic29sdXRlIGxlZnQtMi41IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0yMSAyMWwtNi02bTItNWE3IDcgMCAxMS0xNCAwIDcgNyAwIDAxMTQgMHpcIiAvPjwvc3ZnPlxuICAgICAgICAgICAgICB7c2VhcmNoUXVlcnkgJiYgKFxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2VhcmNoUXVlcnkoJycpfSBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBwLTEgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMyBoLTNcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtkYWlseUNvbnRhY3RzICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyBweC0yIHB5LTEuNSByb3VuZGVkLWxnIG1iLTIgJHtkYWlseUNvbnRhY3RzLnJlbWFpbmluZyA8PSAxMCA/ICdiZy1hY2NlbnQtZXJyb3IvMjAgdGV4dC1hY2NlbnQtZXJyb3InIDogZGFpbHlDb250YWN0cy5yZW1haW5pbmcgPD0gMjUgPyAnYmctYWNjZW50LXdhcm5pbmcvMjAgdGV4dC1hY2NlbnQtd2FybmluZycgOiAnYmctYWNjZW50LXN1Y2Nlc3MvMjAgdGV4dC1hY2NlbnQtc3VjY2Vzcyd9YH0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0zLjUgaC0zLjVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTcgMjBoNXYtMmEzIDMgMCAwMC01LjM1Ni0xLjg1N00xNyAyMEg3bTEwIDB2LTJjMC0uNjU2LS4xMjYtMS4yODMtLjM1Ni0xLjg1N003IDIwSDJ2LTJhMyAzIDAgMDE1LjM1Ni0xLjg1N003IDIwdi0yYzAtLjY1Ni4xMjYtMS4yODMuMzU2LTEuODU3bTAgMGE1LjAwMiA1LjAwMiAwIDAxOS4yODggME0xNSA3YTMgMyAwIDExLTYgMCAzIDMgMCAwMTYgMHptNiAzYTIgMiAwIDExLTQgMCAyIDIgMCAwMTQgMHpNNyAxMGEyIDIgMCAxMS00IDAgMiAyIDAgMDE0IDB6XCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgICAgIENvbnRhY3RvcyBob3lcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57ZGFpbHlDb250YWN0cy5jb3VudH0ve2RhaWx5Q29udGFjdHMubGltaXR9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7dmlld01vZGUgPT09ICdrYW5iYW4nICYmIHRhZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMSBvdmVyZmxvdy14LWF1dG8gcGItMSBoaWRlLXNjcm9sbGJhclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRUYWcobnVsbCl9IGNsYXNzTmFtZT17YHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCB3aGl0ZXNwYWNlLW5vd3JhcCBmbGV4LXNocmluay0wICR7c2VsZWN0ZWRUYWcgPT09IG51bGwgPyAnYmctd2hpdGUgdGV4dC1kYXJrLWJnJyA6ICdiZy1kYXJrLWhvdmVyIHRleHQtZ3JheS00MDAgaG92ZXI6YmctZGFyay1ib3JkZXInfWB9PlNpbiBldGlxdWV0YTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHt0YWdzLm1hcCh0YWcgPT4gKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e3RhZy5pZH0gb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRUYWcodGFnLmlkKX0gY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTEgcm91bmRlZC1mdWxsIHdoaXRlc3BhY2Utbm93cmFwIGZsZXgtc2hyaW5rLTBcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IHNlbGVjdGVkVGFnID09PSB0YWcuaWQgPyB0YWcuY29sb3IgOiBgJHt0YWcuY29sb3J9MzBgLCBjb2xvcjogc2VsZWN0ZWRUYWcgPT09IHRhZy5pZCA/ICd3aGl0ZScgOiB0YWcuY29sb3IgfX0+e3RhZy5uYW1lfSAoe2dldENvbnZlcnNhdGlvbnNCeVRhZyh0YWcuaWQpLmxlbmd0aH0pPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gc2Nyb2xsYmFyLXRoaW4gc2Nyb2xsLXNtb290aC1pb3NcIj5cbiAgICAgICAgICAgIHtsb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCB0ZXh0LWNlbnRlclwiPjxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTYgdy02IGJvcmRlci1iLTIgYm9yZGVyLW5lb24tYmx1ZSBteC1hdXRvXCIgLz48L2Rpdj5cbiAgICAgICAgICAgICkgOiBmaWx0ZXJlZENvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBteC1hdXRvIG1iLTMgYmctZGFyay1jYXJkIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtZ3JheS02MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOCAxMmguMDFNMTIgMTJoLjAxTTE2IDEyaC4wMU0yMSAxMmMwIDQuNDE4LTQuMDMgOC05IDhhOS44NjMgOS44NjMgMCAwMS00LjI1NS0uOTQ5TDMgMjBsMS4zOTUtMy43MkMzLjUxMiAxNS4wNDIgMyAxMy41NzQgMyAxMmMwLTQuNDE4IDQuMDMtOCA5LThzOSAzLjU4MiA5IDh6XCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7c2VhcmNoUXVlcnkgPyAnTm8gc2UgZW5jb250cmFyb24gcmVzdWx0YWRvcycgOiAnTm8gaGF5IGNvbnZlcnNhY2lvbmVzJ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAodmlld01vZGUgPT09ICdrYW5iYW4nID8gZ2V0Q29udmVyc2F0aW9uc0J5VGFnKHNlbGVjdGVkVGFnKSA6IGZpbHRlcmVkQ29udmVyc2F0aW9ucykubWFwKChjb252KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFjdFRhZyA9IGdldENvbnRhY3RUYWcoY29udi5waG9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxidXR0b24ga2V5PXtjb252LnBob25lfSBvbkNsaWNrPXsoKSA9PiB7IHNldFNlbGVjdGVkUGhvbmUoY29udi5waG9uZSk7IHNldFNlbGVjdGVkQ29udGFjdE5hbWUoY29udi5jb250YWN0TmFtZSB8fCAnJyk7IHNldENoYXRMaXN0T3BlbihmYWxzZSk7IH19IGNsYXNzTmFtZT17YHctZnVsbCBwLTMgdGV4dC1sZWZ0IGhvdmVyOmJnLWRhcmstaG92ZXIgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgJHtzZWxlY3RlZFBob25lID09PSBjb252LnBob25lID8gJ2JnLW5lb24tYmx1ZS8xMCBib3JkZXItbC0yIGJvcmRlci1uZW9uLWJsdWUnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIGJnLWRhcmstY2FyZCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC1zaHJpbmstMCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj7wn5GkPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHtjb250YWN0VGFnICYmIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLWJvdHRvbS0xIC1yaWdodC0xIHctNCBoLTQgcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci1kYXJrLXN1cmZhY2VcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGNvbnRhY3RUYWcuY29sb3IgfX0gLz59XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtd2hpdGUgdHJ1bmNhdGUgdGV4dC1zbVwiPntjb252LmNvbnRhY3ROYW1lIHx8IGArJHtjb252LnBob25lfWB9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGZsZXgtc2hyaW5rLTAgbWwtMlwiPntmb3JtYXREYXRlKGNvbnYubGFzdE1lc3NhZ2VBdCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbXQtMC41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgdHJ1bmNhdGUgZmxleC0xXCI+e2NvbnYubGFzdE1lc3NhZ2UgfHwgJ1NpbiBtZW5zYWplcyd9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbnRhY3RUYWcgJiYgdmlld01vZGUgPT09ICdsaXN0JyAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHB4LTEuNSBweS0wLjUgcm91bmRlZC1mdWxsIGZsZXgtc2hyaW5rLTBcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGAke2NvbnRhY3RUYWcuY29sb3J9MjBgLCBjb2xvcjogY29udGFjdFRhZy5jb2xvciB9fT57Y29udGFjdFRhZy5uYW1lfTwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtzZWxlY3RlZFBob25lID8gJ2ZsZXgnIDogJ2hpZGRlbiBzbTpmbGV4J30gZmxleC0xIGZsZXgtY29sIG1pbi13LTBgfT5cbiAgICAgICAgICB7c2VsZWN0ZWRQaG9uZSA/IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMyBzbTpweC00IHB5LTMgYm9yZGVyLWIgYm9yZGVyLWRhcmstYm9yZGVyIGJnLWRhcmstY2FyZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4geyBzZXRDaGF0TGlzdE9wZW4odHJ1ZSk7IHNldFNlbGVjdGVkUGhvbmUobnVsbCk7IH19IGNsYXNzTmFtZT1cInNtOmhpZGRlbiBwLTEuNSB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xNSAxOWwtNy03IDctN1wiIC8+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRDaGF0TGlzdE9wZW4oIWNoYXRMaXN0T3Blbil9IGNsYXNzTmFtZT1cImhpZGRlbiBzbTpibG9jayBwLTEgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgICAge2NoYXRMaXN0T3BlbiA/IDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mi41fSBkPVwiTTExIDE5bC03LTcgNy03bTggMTRsLTctNyA3LTdcIiAvPiA6IDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mi41fSBkPVwiTTEzIDVsNyA3LTcgN001IDVsNyA3LTcgN1wiIC8+fVxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctbmVvbi1ibHVlLzIwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1uZW9uLWJsdWUgdGV4dC1sZ1wiPvCfkaQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIHRydW5jYXRlXCI+e3NlbGVjdGVkQ29udGFjdE5hbWUgfHwgYCske3NlbGVjdGVkUGhvbmV9YH08L3A+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgZmxleC13cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlQ29udGFjdEJvdH0gXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2NvbnRhY3RCb3RUb2dnbGluZ30gXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2NvbnRhY3RCb3REaXNhYmxlZCA/ICdCb3QgZGVzYWN0aXZhZG8gcGFyYSBlc3RlIGNvbnRhY3RvJyA6ICdCb3QgYWN0aXZvIHBhcmEgZXN0ZSBjb250YWN0byd9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC14cyBweC0xLjUgcHktMC41IHJvdW5kZWQgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RCb3REaXNhYmxlZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctYWNjZW50LWVycm9yLzIwIHRleHQtYWNjZW50LWVycm9yJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50QnVzaW5lc3MuYm90RW5hYmxlZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1hY2NlbnQtc3VjY2Vzcy8yMCB0ZXh0LWFjY2VudC1zdWNjZXNzJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1kYXJrLWhvdmVyIHRleHQtZ3JheS00MDAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7Y29udGFjdEJvdERpc2FibGVkID8gJ/CfmqsgQm90IG9mZicgOiBjdXJyZW50QnVzaW5lc3MuYm90RW5hYmxlZCA/ICfwn6SWIEJvdCcgOiAn8J+YtCBHbG9iYWwgb2ZmJ31cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIHt3aW5kb3dTdGF0dXM/LnByb3ZpZGVyID09PSAnTUVUQV9DTE9VRCcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQteHMgcHgtMS41IHB5LTAuNSByb3VuZGVkICR7d2luZG93U3RhdHVzLndpbmRvd09wZW4gPyAnYmctbmVvbi1ibHVlLzIwIHRleHQtbmVvbi1ibHVlJyA6ICdiZy1hY2NlbnQtd2FybmluZy8yMCB0ZXh0LWFjY2VudC13YXJuaW5nJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt3aW5kb3dTdGF0dXMud2luZG93T3BlbiA/IGDwn5OsICR7d2luZG93U3RhdHVzLmhvdXJzUmVtYWluaW5nfWhgIDogJ/Cfk60gVGVtcGxhdGUnfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgdmFsdWU9e2dldENvbnRhY3RUYWcoc2VsZWN0ZWRQaG9uZSk/LmlkIHx8ICcnfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUFzc2lnblRhZyhzZWxlY3RlZFBob25lLCBlLnRhcmdldC52YWx1ZSl9IGNsYXNzTmFtZT1cImhpZGRlbiBzbTpibG9jayB0ZXh0LXhzIGJnLWRhcmstY2FyZCBib3JkZXIgYm9yZGVyLWRhcmstYm9yZGVyIHJvdW5kZWQgcHgtMiBweS0xIHRleHQtd2hpdGVcIiBkaXNhYmxlZD17YXNzaWduaW5nVGFnfT5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TaW4gZXRhcGE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIHt0YWdzLm1hcCh0YWcgPT4gPG9wdGlvbiBrZXk9e3RhZy5pZH0gdmFsdWU9e3RhZy5pZH0+e3RhZy5uYW1lfTwvb3B0aW9uPil9XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTMgc206cC00IHNwYWNlLXktMiBzY3JvbGwtc21vb3RoLWlvcyBzY3JvbGxiYXItdGhpbiBiZy1kYXJrLWJnXCI+XG4gICAgICAgICAgICAgICAge21lc3NhZ2VzLm1hcCgobXNnKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bXNnLmlkfSBjbGFzc05hbWU9e2BmbGV4ICR7bXNnLmRpcmVjdGlvbiA9PT0gJ291dGJvdW5kJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgY2hhdC1idWJibGUgJHttc2cuZGlyZWN0aW9uID09PSAnb3V0Ym91bmQnID8gJ2NoYXQtYnViYmxlLW91dGdvaW5nJyA6ICdjaGF0LWJ1YmJsZS1pbmNvbWluZyd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAge21zZy5tZWRpYVVybCAmJiByZW5kZXJNZWRpYShtc2cubWVkaWFVcmwsIG1zZy5kaXJlY3Rpb24gPT09ICdvdXRib3VuZCcpfVxuICAgICAgICAgICAgICAgICAgICAgIHttc2cubWVzc2FnZSAmJiA8cCBjbGFzc05hbWU9XCJicmVhay13b3JkcyB3aGl0ZXNwYWNlLXByZS13cmFwIHRleHQtc20gc206dGV4dC1iYXNlXCI+e21zZy5tZXNzYWdlfTwvcD59XG4gICAgICAgICAgICAgICAgICAgICAge21zZy5kaXJlY3Rpb24gPT09ICdpbmJvdW5kJyAmJiBtc2cubWV0YWRhdGE/Lm1lZGlhQW5hbHlzaXMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIGdyb3VwIHJlbGF0aXZlIGlubGluZS1ibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LVsxMHB4XSBweC0xLjUgcHktMC41IGJnLXB1cnBsZS01MDAvMTUgdGV4dC1wdXJwbGUtNDAwIHJvdW5kZWQgY3Vyc29yLWhlbHBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7inKg8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+QW5hbGl6YWRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbGVmdC0wIG1iLTEgdy01NiBzbTp3LTY0IHAtMiBiZy1kYXJrLWNhcmQgYm9yZGVyIGJvcmRlci1wdXJwbGUtNTAwLzIwIHJvdW5kZWQtbWQgc2hhZG93LWxnIG9wYWNpdHktMCBpbnZpc2libGUgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgZ3JvdXAtaG92ZXI6dmlzaWJsZSB0cmFuc2l0aW9uLWFsbCB6LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1wdXJwbGUtNDAwIGZvbnQtbWVkaXVtIG1iLTAuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21zZy5tZXRhZGF0YT8ubWVkaWFUeXBlID09PSAnYXVkaW8nIHx8IG1zZy5tZXRhZGF0YT8udHlwZSA9PT0gJ2F1ZGlvJyB8fCBtc2cubWV0YWRhdGE/LnR5cGUgPT09ICdwdHQnID8gJ/CfjqQgVHJhbnNjcmlwY2nDs246JyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5tZXRhZGF0YT8ubWVkaWFUeXBlID09PSAnaW1hZ2UnIHx8IG1zZy5tZXRhZGF0YT8udHlwZSA9PT0gJ2ltYWdlJyB8fCBtc2cubWV0YWRhdGE/LnR5cGUgPT09ICdzdGlja2VyJyA/ICfwn5a877iPIERlc2NyaXBjacOzbjonIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLm1ldGFkYXRhPy5tZWRpYVR5cGUgPT09ICd2aWRlbycgfHwgbXNnLm1ldGFkYXRhPy50eXBlID09PSAndmlkZW8nID8gJ/CfjqwgRGVzY3JpcGNpw7NuOicgOiAn8J+TjiBBbsOhbGlzaXM6J31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC1ncmF5LTQwMCB3aGl0ZXNwYWNlLXByZS13cmFwIG1heC1oLTMyIG92ZXJmbG93LXktYXV0byBsZWFkaW5nLXJlbGF4ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttc2cubWV0YWRhdGEubWVkaWFBbmFseXNpc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LXhzIG10LTEgdGV4dC1yaWdodCAke21zZy5kaXJlY3Rpb24gPT09ICdvdXRib3VuZCcgPyAndGV4dC1uZW9uLWJsdWUtZGFyaycgOiAndGV4dC1ncmF5LTUwMCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VGltZShtc2cuY3JlYXRlZEF0KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHttc2cuZGlyZWN0aW9uID09PSAnb3V0Ym91bmQnICYmIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTFcIj7inJPinJM8L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHtwcmV2aWV3RmlsZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0zIHB5LTIgYm9yZGVyLXQgYm9yZGVyLWRhcmstYm9yZGVyIGJnLWRhcmstY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBwLTIgYmctZGFyay1zdXJmYWNlIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgICB7cHJldmlld0ZpbGUudHlwZSA9PT0gJ2ltYWdlJyA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17cHJldmlld0ZpbGUudXJsfSBhbHQ9XCJQcmV2aWV3XCIgY2xhc3NOYW1lPVwidy0xNCBoLTE0IG9iamVjdC1jb3ZlciByb3VuZGVkXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IHByZXZpZXdGaWxlLnR5cGUgPT09ICdhdWRpbycgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIGJnLW5lb24tYmx1ZS8yMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj48c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1uZW9uLWJsdWVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTkgMTFhNyA3IDAgMDEtNyA3bTAgMGE3IDcgMCAwMS03LTdtNyA3djRtMCAwSDhtNCAwaDRtLTQtOGEzIDMgMCAwMS0zLTNWNWEzIDMgMCAxMTYgMHY2YTMgMyAwIDAxLTMgM3pcIiAvPjwvc3ZnPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGF1ZGlvIGNvbnRyb2xzIGNsYXNzTmFtZT1cImgtMTAgZmxleC0xXCIgc3R5bGU9e3sgbWF4V2lkdGg6ICcxODBweCcgfX0+PHNvdXJjZSBzcmM9e3ByZXZpZXdGaWxlLnVybH0gLz48L2F1ZGlvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNCBoLTE0IGJnLWRhcmstaG92ZXIgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPjxzdmcgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LWdyYXktNDAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTcgMjFoMTBhMiAyIDAgMDAyLTJWOS40MTRhMSAxIDAgMDAtLjI5My0uNzA3bC01LjQxNC01LjQxNEExIDEgMCAwMDEyLjU4NiAzSDdhMiAyIDAgMDAtMiAydjE0YTIgMiAwIDAwMiAyelwiIC8+PC9zdmc+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2FuY2VsUHJldmlld30gY2xhc3NOYW1lPVwicC0xLjUgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWFjY2VudC1lcnJvciBob3ZlcjpiZy1hY2NlbnQtZXJyb3IvMTAgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzXCI+PHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPjwvc3ZnPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAge2Vycm9yICYmIDxkaXYgY2xhc3NOYW1lPVwibXgtMyBtYi0yIHB4LTQgcHktMiBiZy1hY2NlbnQtZXJyb3IvMTAgYm9yZGVyIGJvcmRlci1hY2NlbnQtZXJyb3IvMjAgcm91bmRlZC1sZyB0ZXh0LWFjY2VudC1lcnJvciB0ZXh0LXNtXCI+e2Vycm9yfTwvZGl2Pn1cblxuICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU2VuZH0gY2xhc3NOYW1lPVwicC0zIGJvcmRlci10IGJvcmRlci1kYXJrLWJvcmRlciBiZy1kYXJrLWNhcmQgc2FmZS1hcmVhLXBiXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgcmVmPXtmaWxlSW5wdXRSZWZ9IG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fSBjbGFzc05hbWU9XCJoaWRkZW5cIiBhY2NlcHQ9XCJpbWFnZS8qLHZpZGVvLyosLnBkZiwuZG9jLC5kb2N4XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9eygpID0+IGZpbGVJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfSBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHAtMi41IHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZSBob3ZlcjpiZy1kYXJrLWhvdmVyIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9yc1wiIGRpc2FibGVkPXtzZW5kaW5nIHx8ICh3aW5kb3dTdGF0dXM/LnByb3ZpZGVyID09PSAnTUVUQV9DTE9VRCcgJiYgIXdpbmRvd1N0YXR1cz8ud2luZG93T3Blbil9PlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgc206dy02IHNtOmgtNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xNS4xNzIgN2wtNi41ODYgNi41ODZhMiAyIDAgMTAyLjgyOCAyLjgyOGw2LjQxNC02LjU4NmE0IDQgMCAwMC01LjY1Ni01LjY1NmwtNi40MTUgNi41ODVhNiA2IDAgMTA4LjQ4NiA4LjQ4NkwyMC41IDEzXCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17aXNSZWNvcmRpbmcgPyBoYW5kbGVTdG9wUmVjb3JkaW5nIDogaGFuZGxlU3RhcnRSZWNvcmRpbmd9IGNsYXNzTmFtZT17YGZsZXgtc2hyaW5rLTAgcC0yLjUgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzICR7aXNSZWNvcmRpbmcgPyAnYmctYWNjZW50LWVycm9yIHRleHQtd2hpdGUgYW5pbWF0ZS1wdWxzZScgOiAndGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIGhvdmVyOmJnLWRhcmstaG92ZXInfWB9IGRpc2FibGVkPXsoc2VuZGluZyAmJiAhaXNSZWNvcmRpbmcpIHx8ICh3aW5kb3dTdGF0dXM/LnByb3ZpZGVyID09PSAnTUVUQV9DTE9VRCcgJiYgIXdpbmRvd1N0YXR1cz8ud2luZG93T3Blbil9PlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgc206dy02IHNtOmgtNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xOSAxMWE3IDcgMCAwMS03IDdtMCAwYTcgNyAwIDAxLTctN203IDd2NG0wIDBIOG00IDBoNG0tNC04YTMgMyAwIDAxLTMtM1Y1YTMgMyAwIDExNiAwdjZhMyAzIDAgMDEtMyAzelwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld01lc3NhZ2V9IFxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld01lc3NhZ2UoZS50YXJnZXQudmFsdWUpfSBcbiAgICAgICAgICAgICAgICAgICAgb25Gb2N1cz17aGFuZGxlSW5wdXRGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXtoYW5kbGVJbnB1dEJsdXJ9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXt3aW5kb3dTdGF0dXM/LnByb3ZpZGVyID09PSAnTUVUQV9DTE9VRCcgJiYgIXdpbmRvd1N0YXR1cz8ud2luZG93T3BlbiA/IFwiVmVudGFuYSBjZXJyYWRhIC0gdXNhIHBsYW50aWxsYVwiIDogXCJFc2NyaWJlIHVuIG1lbnNhamUuLi5cIn0gXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wIHB4LTQgcHktMi41IGJnLWRhcmstc3VyZmFjZSBib3JkZXIgYm9yZGVyLWRhcmstYm9yZGVyIHJvdW5kZWQtZnVsbCB0ZXh0LXdoaXRlIHBsYWNlaG9sZGVyLWdyYXktNTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItbmVvbi1ibHVlIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLW5lb24tYmx1ZS81MCB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiIFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2VuZGluZyB8fCAod2luZG93U3RhdHVzPy5wcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnICYmICF3aW5kb3dTdGF0dXM/LndpbmRvd09wZW4pfVxuICAgICAgICAgICAgICAgICAgICBlbnRlcktleUhpbnQ9XCJzZW5kXCJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0NvcnJlY3Q9XCJvblwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAge3dpbmRvd1N0YXR1cz8ucHJvdmlkZXIgPT09ICdNRVRBX0NMT1VEJyAmJiAhd2luZG93U3RhdHVzPy53aW5kb3dPcGVuID8gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIiBcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93VGVtcGxhdGVNb2RhbCh0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHAtMi41IGJnLWFjY2VudC13YXJuaW5nIHRleHQtZGFyay1iZyByb3VuZGVkLWZ1bGwgaG92ZXI6YmctYWNjZW50LXdhcm5pbmcvODAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRW52aWFyIHBsYW50aWxsYVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgc206dy02IHNtOmgtNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk05IDEyaDZtLTYgNGg2bTIgNUg3YTIgMiAwIDAxLTItMlY1YTIgMiAwIDAxMi0yaDUuNTg2YTEgMSAwIDAxLjcwNy4yOTNsNS40MTQgNS40MTRhMSAxIDAgMDEuMjkzLjcwN1YxOWEyIDIgMCAwMS0yIDJ6XCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBkaXNhYmxlZD17c2VuZGluZyB8fCAoIW5ld01lc3NhZ2UudHJpbSgpICYmICFwcmV2aWV3RmlsZSl9IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgcC0yLjUgYmctbmVvbi1ibHVlIHRleHQtZGFyay1iZyByb3VuZGVkLWZ1bGwgaG92ZXI6YmctbmVvbi1ibHVlLWxpZ2h0IGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tY29sb3JzIHNoYWRvdy1uZW9uLXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3NlbmRpbmcgPyA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgc206dy02IHNtOmgtNiBib3JkZXItMiBib3JkZXItZGFyay1iZyBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgLz4gOiA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgc206dy02IHNtOmgtNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiAxOWw5IDItOS0xOC05IDE4IDktMnptMCAwdi04XCIgLz48L3N2Zz59XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS01MDAgYmctZGFyay1iZ1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjQgaC0yNCBiZy1kYXJrLWNhcmQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMTIgaC0xMiB0ZXh0LWdyYXktNjAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTggMTJoLjAxTTEyIDEyaC4wMU0xNiAxMmguMDFNMjEgMTJjMCA0LjQxOC00LjAzIDgtOSA4YTkuODYzIDkuODYzIDAgMDEtNC4yNTUtLjk0OUwzIDIwbDEuMzk1LTMuNzJDMy41MTIgMTUuMDQyIDMgMTMuNTc0IDMgMTJjMC00LjQxOCA0LjAzLTggOS04czkgMy41ODIgOSA4elwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS00MDBcIj5TZWxlY2Npb25hIHVuIGNoYXQ8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBtdC0xXCI+RWxpZ2UgdW5hIGNvbnZlcnNhY2lvbiBwYXJhIGNvbWVuemFyPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3Nob3dUZW1wbGF0ZU1vZGFsICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrLzYwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotNTAgcC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1kYXJrLWNhcmQgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkLXhsIHctZnVsbCBtYXgtdy1tZCBtYXgtaC1bODB2aF0gb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItZGFyay1ib3JkZXIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgIHtzZWxlY3RlZFRlbXBsYXRlRm9yU2VuZCA/ICdDb21wbGV0YXIgVmFyaWFibGVzJyA6ICdTZWxlY2Npb25hciBQbGFudGlsbGEnfVxuICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0U2hvd1RlbXBsYXRlTW9kYWwoZmFsc2UpOyBzZXRTZWxlY3RlZFRlbXBsYXRlRm9yU2VuZChudWxsKTsgc2V0VGVtcGxhdGVWYXJpYWJsZXMoW10pOyB9fSBjbGFzc05hbWU9XCJwLTEgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPjwvc3ZnPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgb3ZlcmZsb3cteS1hdXRvIG1heC1oLVs2MHZoXVwiPlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJnLWRhcmstc3VyZmFjZSBib3JkZXIgYm9yZGVyLWRhcmstYm9yZGVyIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBtYi0xXCI+e3NlbGVjdGVkVGVtcGxhdGVGb3JTZW5kLm5hbWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQuY29tcG9uZW50cz8uZmluZCgoYzogYW55KSA9PiBjLnR5cGUgPT09ICdCT0RZJyk/LnRleHQgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwXCI+Q29tcGxldGEgbG9zIHZhbG9yZXMgcGFyYSBsYXMgdmFyaWFibGVzOjwvcD5cbiAgICAgICAgICAgICAgICAgICAge3RlbXBsYXRlVmFyaWFibGVzLm1hcCgodmFsdWUsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMVwiPlZhcmlhYmxlIHtge3ske2luZGV4ICsgMX19fWB9PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFycyA9IFsuLi50ZW1wbGF0ZVZhcmlhYmxlc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFyc1tpbmRleF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUZW1wbGF0ZVZhcmlhYmxlcyhuZXdWYXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BWYWxvciBwYXJhIHt7JHtpbmRleCArIDF9fX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJnLWRhcmstYmcgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkLWxnIHRleHQtd2hpdGUgcGxhY2Vob2xkZXItZ3JheS01MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1uZW9uLWJsdWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBzZXRTZWxlY3RlZFRlbXBsYXRlRm9yU2VuZChudWxsKTsgc2V0VGVtcGxhdGVWYXJpYWJsZXMoW10pOyB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweS0yIGJnLWRhcmstc3VyZmFjZSBib3JkZXIgYm9yZGVyLWRhcmstYm9yZGVyIHJvdW5kZWQtbGcgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFZvbHZlclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbmRUZW1wbGF0ZShzZWxlY3RlZFRlbXBsYXRlRm9yU2VuZCwgdGVtcGxhdGVWYXJpYWJsZXMpfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzZW5kaW5nVGVtcGxhdGUgfHwgdGVtcGxhdGVWYXJpYWJsZXMuc29tZSh2ID0+ICF2LnRyaW0oKSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB5LTIgYmctbmVvbi1ibHVlIHRleHQtZGFyay1iZyByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIGhvdmVyOmJnLW5lb24tYmx1ZS1saWdodCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VuZGluZ1RlbXBsYXRlID8gJ0VudmlhbmRvLi4uJyA6ICdFbnZpYXInfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogdGVtcGxhdGVzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyBoYXkgcGxhbnRpbGxhcyBhcHJvYmFkYXM8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc20gbXQtMlwiPlZlIGEgUGxhbnRpbGxhcyBwYXJhIHNpbmNyb25pemFyIGRlc2RlIE1ldGE8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIHt0ZW1wbGF0ZXMubWFwKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJDb3VudCA9IGdldFRlbXBsYXRlVmFyaWFibGVDb3VudCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0ZW1wbGF0ZS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbGVjdFRlbXBsYXRlKHRlbXBsYXRlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzZW5kaW5nVGVtcGxhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJnLWRhcmstc3VyZmFjZSBib3JkZXIgYm9yZGVyLWRhcmstYm9yZGVyIHJvdW5kZWQtbGcgdGV4dC1sZWZ0IGhvdmVyOmJvcmRlci1uZW9uLWJsdWUgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXdoaXRlXCI+e3RlbXBsYXRlLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3ZhckNvdW50ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHB4LTIgcHktMC41IGJnLWFjY2VudC13YXJuaW5nLzIwIHRleHQtYWNjZW50LXdhcm5pbmcgcm91bmRlZFwiPnt2YXJDb3VudH0gdmFye3ZhckNvdW50ID4gMSA/ICdzJyA6ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0wLjUgYmctYWNjZW50LXN1Y2Nlc3MvMjAgdGV4dC1hY2NlbnQtc3VjY2VzcyByb3VuZGVkXCI+e3RlbXBsYXRlLmNhdGVnb3J5fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dGVtcGxhdGUuY29tcG9uZW50cz8uZmluZCgoYzogYW55KSA9PiBjLnR5cGUgPT09ICdCT0RZJyk/LnRleHQ/LnN1YnN0cmluZygwLCAxMDApIHx8ICdTaW4gY29udGVuaWRvIGRlIGN1ZXJwbyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsodGVtcGxhdGUuY29tcG9uZW50cz8uZmluZCgoYzogYW55KSA9PiBjLnR5cGUgPT09ICdCT0RZJyk/LnRleHQ/Lmxlbmd0aCB8fCAwKSA+IDEwMCAmJiAnLi4uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xXCI+SWRpb21hOiB7dGVtcGxhdGUubGFuZ3VhZ2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7c2hvd05ld0NoYXRNb2RhbCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay82MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZGFyay1jYXJkIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXIgcm91bmRlZC14bCB3LWZ1bGwgbWF4LXctbWQgbWF4LWgtWzgwdmhdIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLWRhcmstYm9yZGVyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5OdWV2byBDaGF0PC9oMz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TmV3Q2hhdE1vZGFsKGZhbHNlKX0gY2xhc3NOYW1lPVwicC0xIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIHRleHQtZ3JheS00MDAgbWItMVwiPk51bWVybyBkZSB0ZWxlZm9ubzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGVsXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdDaGF0UGhvbmV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld0NoYXRQaG9uZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjUxOTk5OTk5OTk5XCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYmctZGFyay1zdXJmYWNlIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXIgcm91bmRlZC1sZyB0ZXh0LXdoaXRlIHBsYWNlaG9sZGVyLWdyYXktNTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItbmVvbi1ibHVlXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xXCI+SW5jbHV5ZSBlbCBjb2RpZ28gZGUgcGFpcyBzaW4gKyBuaSBlc3BhY2lvczwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge2luc3RhbmNlUHJvdmlkZXIgPT09ICdNRVRBX0NMT1VEJyAmJiBuZXdDaGF0VGVtcGxhdGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtuZXdDaGF0VXNlVGVtcGxhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmV3Q2hhdFVzZVRlbXBsYXRlKGUudGFyZ2V0LmNoZWNrZWQpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlKG51bGwpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE5ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcyhbXSk7IFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy00IGgtNCByb3VuZGVkIGJnLWRhcmstc3VyZmFjZSBib3JkZXItZGFyay1ib3JkZXIgdGV4dC1uZW9uLWJsdWUgZm9jdXM6cmluZy1uZW9uLWJsdWVcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICBVc2FyIHBsYW50aWxsYSAoTWV0YSBDbG91ZClcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICB7bmV3Q2hhdFVzZVRlbXBsYXRlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWF4LWgtNDAgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge25ld0NoYXRUZW1wbGF0ZXMubWFwKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyQ291bnQgPSBnZXRUZW1wbGF0ZVZhcmlhYmxlQ291bnQodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGVtcGxhdGUuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzKEFycmF5KHZhckNvdW50KS5maWxsKCcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcC0yIHRleHQtbGVmdCByb3VuZGVkLWxnIGJvcmRlciB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWROZXdDaGF0VGVtcGxhdGU/LmlkID09PSB0ZW1wbGF0ZS5pZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLW5lb24tYmx1ZSBiZy1uZW9uLWJsdWUvMTAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZGFyay1ib3JkZXIgYmctZGFyay1zdXJmYWNlIGhvdmVyOmJvcmRlci1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGVcIj57dGVtcGxhdGUubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dmFyQ291bnQgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBweC0xLjUgcHktMC41IGJnLWFjY2VudC13YXJuaW5nLzIwIHRleHQtYWNjZW50LXdhcm5pbmcgcm91bmRlZFwiPnt2YXJDb3VudH0gdmFyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZW1wbGF0ZS5jb21wb25lbnRzPy5maW5kKChjOiBhbnkpID0+IGMudHlwZSA9PT0gJ0JPRFknKT8udGV4dD8uc3Vic3RyaW5nKDAsIDUwKSB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlICYmIG5ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktMiBwLTMgYmctZGFyay1zdXJmYWNlIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMFwiPlZhcmlhYmxlcyBwYXJhIHtzZWxlY3RlZE5ld0NoYXRUZW1wbGF0ZS5uYW1lfTo8L3A+XG4gICAgICAgICAgICAgICAgICAgICAge25ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcy5tYXAoKHZhbHVlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdWYXJzID0gWy4uLm5ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFyc1tpbmRleF0gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXROZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMobmV3VmFycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgVmFsb3IgcGFyYSB7eyR7aW5kZXggKyAxfX19YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTIgcHktMS41IGJnLWRhcmstYmcgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkIHRleHQtd2hpdGUgdGV4dC1zbSBwbGFjZWhvbGRlci1ncmF5LTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLW5lb24tYmx1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgeyFuZXdDaGF0VXNlVGVtcGxhdGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTFcIj5NZW5zYWplPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3Q2hhdE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3Q2hhdE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVzY3JpYmUgdHUgbWVuc2FqZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYmctZGFyay1zdXJmYWNlIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXIgcm91bmRlZC1sZyB0ZXh0LXdoaXRlIHBsYWNlaG9sZGVyLWdyYXktNTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItbmVvbi1ibHVlIHJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgcHktMiBiZy1hY2NlbnQtZXJyb3IvMTAgYm9yZGVyIGJvcmRlci1hY2NlbnQtZXJyb3IvMjAgcm91bmRlZC1sZyB0ZXh0LWFjY2VudC1lcnJvciB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmROZXdDaGF0fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtuZXdDaGF0U2VuZGluZyB8fCAhbmV3Q2hhdFBob25lLnRyaW0oKSB8fCAoIW5ld0NoYXRNZXNzYWdlLnRyaW0oKSAmJiAhc2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUpIHx8ICEhKHNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlICYmIG5ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcy5sZW5ndGggPiAwICYmIG5ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcy5zb21lKHYgPT4gIXYudHJpbSgpKSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTIuNSBiZy1uZW9uLWJsdWUgdGV4dC1kYXJrLWJnIHJvdW5kZWQtbGcgZm9udC1tZWRpdW0gaG92ZXI6YmctbmVvbi1ibHVlLWxpZ2h0IGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtuZXdDaGF0U2VuZGluZyA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGJvcmRlci0yIGJvcmRlci1kYXJrLWJnIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICBFbnZpYW5kby4uLlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICdFbnZpYXIgbWVuc2FqZSdcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICB7aW5zdGFuY2VQcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnICYmIChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIFBhcmEgbnVtZXJvcyBudWV2b3MgZW4gTWV0YSBDbG91ZCwgdXNhIHVuYSBwbGFudGlsbGEgYXByb2JhZGFcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VCdXNpbmVzc1N0b3JlIiwibWVzc2FnZUFwaSIsIndhQXBpIiwibWVkaWFBcGkiLCJidXNpbmVzc0FwaSIsInRhZ3NBcGkiLCJiaWxsaW5nQXBpIiwidGVtcGxhdGVzQXBpIiwiQ2hhdFBhZ2UiLCJnZXRDb250YWN0VGFnIiwic2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQiLCJjdXJyZW50QnVzaW5lc3MiLCJjb252ZXJzYXRpb25zIiwic2V0Q29udmVyc2F0aW9ucyIsInNlbGVjdGVkUGhvbmUiLCJzZXRTZWxlY3RlZFBob25lIiwic2VsZWN0ZWRDb250YWN0TmFtZSIsInNldFNlbGVjdGVkQ29udGFjdE5hbWUiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwibmV3TWVzc2FnZSIsInNldE5ld01lc3NhZ2UiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNlbmRpbmciLCJzZXRTZW5kaW5nIiwiY2hhdExpc3RPcGVuIiwic2V0Q2hhdExpc3RPcGVuIiwidXBsb2FkaW5nIiwic2V0VXBsb2FkaW5nIiwicHJldmlld0ZpbGUiLCJzZXRQcmV2aWV3RmlsZSIsImVycm9yIiwic2V0RXJyb3IiLCJib3RUb2dnbGluZyIsInNldEJvdFRvZ2dsaW5nIiwiaXNSZWNvcmRpbmciLCJzZXRJc1JlY29yZGluZyIsInZpZXdNb2RlIiwic2V0Vmlld01vZGUiLCJ0YWdzIiwic2V0VGFncyIsImFzc2lnbm1lbnRzIiwic2V0QXNzaWdubWVudHMiLCJzZWxlY3RlZFRhZyIsInNldFNlbGVjdGVkVGFnIiwiYXNzaWduaW5nVGFnIiwic2V0QXNzaWduaW5nVGFnIiwid2luZG93U3RhdHVzIiwic2V0V2luZG93U3RhdHVzIiwiZGFpbHlDb250YWN0cyIsInNldERhaWx5Q29udGFjdHMiLCJjb250YWN0Qm90RGlzYWJsZWQiLCJzZXRDb250YWN0Qm90RGlzYWJsZWQiLCJjb250YWN0Qm90VG9nZ2xpbmciLCJzZXRDb250YWN0Qm90VG9nZ2xpbmciLCJ0ZW1wbGF0ZXMiLCJzZXRUZW1wbGF0ZXMiLCJzaG93VGVtcGxhdGVNb2RhbCIsInNldFNob3dUZW1wbGF0ZU1vZGFsIiwic2VuZGluZ1RlbXBsYXRlIiwic2V0U2VuZGluZ1RlbXBsYXRlIiwic2VhcmNoUXVlcnkiLCJzZXRTZWFyY2hRdWVyeSIsInNob3dOZXdDaGF0TW9kYWwiLCJzZXRTaG93TmV3Q2hhdE1vZGFsIiwibmV3Q2hhdFBob25lIiwic2V0TmV3Q2hhdFBob25lIiwibmV3Q2hhdE1lc3NhZ2UiLCJzZXROZXdDaGF0TWVzc2FnZSIsIm5ld0NoYXRTZW5kaW5nIiwic2V0TmV3Q2hhdFNlbmRpbmciLCJpbnN0YW5jZVByb3ZpZGVyIiwic2V0SW5zdGFuY2VQcm92aWRlciIsIm5ld0NoYXRUZW1wbGF0ZXMiLCJzZXROZXdDaGF0VGVtcGxhdGVzIiwibmV3Q2hhdFVzZVRlbXBsYXRlIiwic2V0TmV3Q2hhdFVzZVRlbXBsYXRlIiwic2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUiLCJzZXRTZWxlY3RlZE5ld0NoYXRUZW1wbGF0ZSIsInRlbXBsYXRlVmFyaWFibGVzIiwic2V0VGVtcGxhdGVWYXJpYWJsZXMiLCJuZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMiLCJzZXROZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMiLCJtZXNzYWdlc0VuZFJlZiIsImZpbGVJbnB1dFJlZiIsImlucHV0UmVmIiwiY2hhdENvbnRhaW5lclJlZiIsIm1lZGlhUmVjb3JkZXJSZWYiLCJhdWRpb1N0cmVhbVJlZiIsImtleWJvYXJkSGVpZ2h0Iiwic2V0S2V5Ym9hcmRIZWlnaHQiLCJpc0lucHV0Rm9jdXNlZCIsInNldElzSW5wdXRGb2N1c2VkIiwiaGFuZGxlVmlld3BvcnRSZXNpemUiLCJ3aW5kb3ciLCJ2aXN1YWxWaWV3cG9ydCIsInZpZXdwb3J0Iiwid2luZG93SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJ2aWV3cG9ydEhlaWdodCIsImhlaWdodCIsIm5ld0tleWJvYXJkSGVpZ2h0Iiwic2V0VGltZW91dCIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZldGNoQ29udmVyc2F0aW9ucyIsImZldGNoVGFncyIsImZldGNoRGFpbHlDb250YWN0cyIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwicmVzcG9uc2UiLCJnZXRDb250YWN0c1RvZGF5IiwiaWQiLCJkYXRhIiwiZXJyIiwiY29uc29sZSIsInRhZ3NSZXMiLCJhc3NpZ25tZW50c1JlcyIsIlByb21pc2UiLCJhbGwiLCJsaXN0IiwiZ2V0QXNzaWdubWVudHMiLCJsZW5ndGgiLCJpbml0UmVzIiwiaW5pdERlZmF1bHRzIiwiaGFuZGxlQXNzaWduVGFnIiwicGhvbmUiLCJ0YWdJZCIsInVuYXNzaWduIiwiYnVzaW5lc3NfaWQiLCJjb250YWN0X3Bob25lIiwiYXNzaWduIiwidGFnX2lkIiwiYXNzaWdubWVudCIsImZpbmQiLCJhIiwiY29udGFjdFBob25lIiwidGFnIiwiZ2V0Q29udmVyc2F0aW9uc0J5VGFnIiwiYXNzaWduZWRQaG9uZXMiLCJtYXAiLCJmaWx0ZXIiLCJjIiwiaW5jbHVkZXMiLCJwaG9uZXNGb3JUYWciLCJmZXRjaE1lc3NhZ2VzIiwiZmV0Y2hXaW5kb3dTdGF0dXMiLCJmZXRjaENvbnRhY3RCb3RTdGF0dXMiLCJnZXRDb250YWN0Qm90U3RhdHVzIiwiYm90RGlzYWJsZWQiLCJoYW5kbGVUb2dnbGVDb250YWN0Qm90IiwibmV3U3RhdHVzIiwidG9nZ2xlQ29udGFjdEJvdCIsImZldGNoVGVtcGxhdGVzIiwiYXBwcm92ZWRUZW1wbGF0ZXMiLCJ0Iiwic3RhdHVzIiwiZ2V0VGVtcGxhdGVWYXJpYWJsZUNvdW50IiwidGVtcGxhdGUiLCJib2R5Q29tcG9uZW50IiwiY29tcG9uZW50cyIsInR5cGUiLCJ0ZXh0IiwibWF0Y2hlcyIsIm1hdGNoIiwic2V0U2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQiLCJoYW5kbGVTZWxlY3RUZW1wbGF0ZSIsInZhckNvdW50IiwiQXJyYXkiLCJmaWxsIiwiaGFuZGxlU2VuZFRlbXBsYXRlIiwidmFyaWFibGVzIiwic2VuZCIsInRlbXBsYXRlTmFtZSIsIm5hbWUiLCJ0byIsInVuZGVmaW5lZCIsInByb3ZpZGVyIiwid2luZG93T3BlbiIsImZldGNoSW5zdGFuY2VQcm92aWRlciIsImZldGNoTmV3Q2hhdFRlbXBsYXRlcyIsIm9wZW5OZXdDaGF0TW9kYWwiLCJoYW5kbGVTZW5kTmV3Q2hhdCIsInRyaW0iLCJjbGVhblBob25lIiwicmVwbGFjZSIsInNvbWUiLCJ2IiwibWVzc2FnZSIsImZpbHRlcmVkQ29udmVyc2F0aW9ucyIsImNvbnYiLCJxdWVyeSIsInRvTG93ZXJDYXNlIiwicGhvbmVNYXRjaCIsIm5hbWVNYXRjaCIsImNvbnRhY3ROYW1lIiwiY29udmVyc2F0aW9uIiwiaGFuZGxlU2VuZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInVwbG9hZFJlcyIsInVwbG9hZCIsImZpbGUiLCJ1cmwiLCJtaW1ldHlwZSIsInNlbmREYXRhIiwiaW1hZ2VVcmwiLCJ2aWRlb1VybCIsImF1ZGlvVXJsIiwiZmlsZVVybCIsImZpbGVOYW1lIiwibWltZVR5cGUiLCJoYW5kbGVGaWxlU2VsZWN0IiwidGFyZ2V0IiwiZmlsZXMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJzdGFydHNXaXRoIiwidmFsdWUiLCJjYW5jZWxQcmV2aWV3IiwicmV2b2tlT2JqZWN0VVJMIiwiaGFuZGxlVG9nZ2xlQm90IiwidG9nZ2xlQm90IiwiYm90RW5hYmxlZCIsImdldCIsInNldFN0YXRlIiwiaGFuZGxlU3RhcnRSZWNvcmRpbmciLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJhdWRpbyIsIm1lZGlhUmVjb3JkZXIiLCJNZWRpYVJlY29yZGVyIiwiYXVkaW9DaHVua3MiLCJvbmRhdGFhdmFpbGFibGUiLCJldmVudCIsInB1c2giLCJvbnN0b3AiLCJhdWRpb0Jsb2IiLCJCbG9iIiwiRmlsZSIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsInN0b3AiLCJzdGFydCIsImhhbmRsZVN0b3BSZWNvcmRpbmciLCJoYW5kbGVJbnB1dEZvY3VzIiwiaGFuZGxlSW5wdXRCbHVyIiwiZm9ybWF0VGltZSIsImRhdGVTdHIiLCJkYXRlIiwiRGF0ZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJmb3JtYXREYXRlIiwidG9kYXkiLCJ0b0RhdGVTdHJpbmciLCJ5ZXN0ZXJkYXkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImRheSIsIm1vbnRoIiwiaXNJbWFnZVVybCIsInRlc3QiLCJpc1ZpZGVvVXJsIiwiaXNBdWRpb1VybCIsInJlbmRlck1lZGlhIiwibWVkaWFVcmwiLCJpc091dGJvdW5kIiwiZGl2IiwiY2xhc3NOYW1lIiwiaW1nIiwic3JjIiwiYWx0Iiwic3R5bGUiLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsIm9uQ2xpY2siLCJvcGVuIiwidmlkZW8iLCJjb250cm9scyIsInByZWxvYWQiLCJzb3VyY2UiLCJocmVmIiwicmVsIiwic3ZnIiwic3Ryb2tlIiwidmlld0JveCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJzcGFuIiwicCIsInNob3dDaGF0TGlzdCIsImNvbnRhaW5lclN0eWxlIiwicmVmIiwiaDIiLCJidXR0b24iLCJ0aXRsZSIsImlucHV0Iiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJlbWFpbmluZyIsImNvdW50IiwibGltaXQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImNvbnRhY3RUYWciLCJsYXN0TWVzc2FnZUF0IiwibGFzdE1lc3NhZ2UiLCJkaXNhYmxlZCIsImhvdXJzUmVtYWluaW5nIiwic2VsZWN0Iiwib3B0aW9uIiwibXNnIiwiZGlyZWN0aW9uIiwibWV0YWRhdGEiLCJtZWRpYUFuYWx5c2lzIiwibWVkaWFUeXBlIiwiY3JlYXRlZEF0IiwiZm9ybSIsIm9uU3VibWl0IiwiYWNjZXB0IiwiY2xpY2siLCJvbkZvY3VzIiwib25CbHVyIiwiZW50ZXJLZXlIaW50IiwiYXV0b0NvbXBsZXRlIiwiYXV0b0NvcnJlY3QiLCJoMyIsImluZGV4IiwibGFiZWwiLCJuZXdWYXJzIiwiY2F0ZWdvcnkiLCJzdWJzdHJpbmciLCJsYW5ndWFnZSIsImNoZWNrZWQiLCJ0ZXh0YXJlYSIsInJvd3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/dashboard/chat/page.tsx\n"));

/***/ })

});