"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/chat/page",{

/***/ "(app-pages-browser)/./app/dashboard/chat/page.tsx":
/*!*************************************!*\
  !*** ./app/dashboard/chat/page.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _store_business__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/store/business */ \"(app-pages-browser)/./store/business.ts\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction ChatPage() {\n    var _getContactTag, _selectedTemplateForSend_components_find, _selectedTemplateForSend_components;\n    _s();\n    var _s1 = $RefreshSig$();\n    const { currentBusiness } = (0,_store_business__WEBPACK_IMPORTED_MODULE_2__.useBusinessStore)();\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedPhone, setSelectedPhone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedContactName, setSelectedContactName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newMessage, setNewMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [chatListOpen, setChatListOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [previewFile, setPreviewFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [botToggling, setBotToggling] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"list\");\n    const [tags, setTags] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [assignments, setAssignments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedTag, setSelectedTag] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [assigningTag, setAssigningTag] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [windowStatus, setWindowStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [dailyContacts, setDailyContacts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [contactBotDisabled, setContactBotDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [contactBotToggling, setContactBotToggling] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [templates, setTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showTemplateModal, setShowTemplateModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sendingTemplate, setSendingTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showNewChatModal, setShowNewChatModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newChatPhone, setNewChatPhone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChatMessage, setNewChatMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newChatSending, setNewChatSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [instanceProvider, setInstanceProvider] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [newChatTemplates, setNewChatTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newChatUseTemplate, setNewChatUseTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedNewChatTemplate, setSelectedNewChatTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [templateVariables, setTemplateVariables] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newChatTemplateVariables, setNewChatTemplateVariables] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [contactData, setContactData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [currentStage, setCurrentStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showContactPanel, setShowContactPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const chatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mediaRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [keyboardHeight, setKeyboardHeight] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isInputFocused, setIsInputFocused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const isNearBottomRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const prevMessagesLengthRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleViewportResize = ()=>{\n            if ( true && window.visualViewport) {\n                const viewport = window.visualViewport;\n                const windowHeight = window.innerHeight;\n                const viewportHeight = viewport.height;\n                const newKeyboardHeight = windowHeight - viewportHeight;\n                if (newKeyboardHeight > 100) {\n                    setKeyboardHeight(newKeyboardHeight);\n                    setTimeout(()=>{\n                        var _messagesEndRef_current;\n                        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n                            behavior: \"smooth\",\n                            block: \"end\"\n                        });\n                    }, 100);\n                } else {\n                    setKeyboardHeight(0);\n                }\n            }\n        };\n        if ( true && window.visualViewport) {\n            window.visualViewport.addEventListener(\"resize\", handleViewportResize);\n            window.visualViewport.addEventListener(\"scroll\", handleViewportResize);\n        }\n        return ()=>{\n            if ( true && window.visualViewport) {\n                window.visualViewport.removeEventListener(\"resize\", handleViewportResize);\n                window.visualViewport.removeEventListener(\"scroll\", handleViewportResize);\n            }\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentBusiness) {\n            fetchConversations();\n            fetchTags();\n            fetchDailyContacts();\n            const interval = setInterval(()=>{\n                fetchConversations();\n                fetchDailyContacts();\n            }, 10000);\n            return ()=>clearInterval(interval);\n        }\n    }, [\n        currentBusiness\n    ]);\n    const fetchDailyContacts = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.billingApi.getContactsToday(currentBusiness.id);\n            setDailyContacts(response.data);\n        } catch (err) {\n            console.error(\"Failed to fetch daily contacts:\", err);\n        }\n    };\n    const fetchTags = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const [tagsRes, assignmentsRes] = await Promise.all([\n                _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.list(currentBusiness.id),\n                _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.getAssignments(currentBusiness.id)\n            ]);\n            setTags(tagsRes.data);\n            setAssignments(assignmentsRes.data);\n            if (tagsRes.data.length === 0) {\n                const initRes = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.initDefaults(currentBusiness.id);\n                setTags(initRes.data);\n            }\n        } catch (err) {\n            console.error(\"Failed to fetch tags:\", err);\n        }\n    };\n    const handleAssignTag = async (phone, tagId)=>{\n        if (!currentBusiness) return;\n        if (!tagId) {\n            try {\n                setAssigningTag(true);\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.unassign({\n                    business_id: currentBusiness.id,\n                    contact_phone: phone\n                });\n                fetchTags();\n            } catch (err) {\n                console.error(\"Failed to unassign tag:\", err);\n            } finally{\n                setAssigningTag(false);\n            }\n            return;\n        }\n        setAssigningTag(true);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.assign({\n                business_id: currentBusiness.id,\n                contact_phone: phone,\n                tag_id: tagId\n            });\n            fetchTags();\n        } catch (err) {\n            console.error(\"Failed to assign tag:\", err);\n        } finally{\n            setAssigningTag(false);\n        }\n    };\n    const getContactTag = (phone)=>{\n        const assignment = assignments.find((a)=>a.contactPhone === phone);\n        return assignment === null || assignment === void 0 ? void 0 : assignment.tag;\n    };\n    const getConversationsByTag = (tagId)=>{\n        if (!tagId) {\n            const assignedPhones = assignments.map((a)=>a.contactPhone);\n            return conversations.filter((c)=>!assignedPhones.includes(c.phone));\n        }\n        const phonesForTag = assignments.filter((a)=>a.tagId === tagId).map((a)=>a.contactPhone);\n        return conversations.filter((c)=>phonesForTag.includes(c.phone));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedPhone && currentBusiness) {\n            prevMessagesLengthRef.current = 0;\n            isNearBottomRef.current = true;\n            fetchMessages(selectedPhone);\n            fetchWindowStatus(selectedPhone);\n            fetchContactBotStatus(selectedPhone);\n            fetchContactExtractedData(selectedPhone);\n            const interval = setInterval(()=>{\n                fetchMessages(selectedPhone);\n                fetchWindowStatus(selectedPhone);\n                fetchContactExtractedData(selectedPhone);\n            }, 5000);\n            return ()=>clearInterval(interval);\n        }\n    }, [\n        selectedPhone,\n        currentBusiness\n    ]);\n    const fetchContactBotStatus = async (phone)=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.getContactBotStatus(currentBusiness.id, phone);\n            setContactBotDisabled(response.data.botDisabled || false);\n        } catch (err) {\n            console.error(\"Failed to fetch contact bot status:\", err);\n            setContactBotDisabled(false);\n        }\n    };\n    const fetchContactExtractedData = async (phone)=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.getContactExtractedData(currentBusiness.id, phone);\n            setContactData(response.data.extractedData || {});\n            setCurrentStage(response.data.currentStage || null);\n        } catch (err) {\n            console.error(\"Failed to fetch contact extracted data:\", err);\n            setContactData({});\n        }\n    };\n    const handleToggleContactBot = async ()=>{\n        if (!currentBusiness || !selectedPhone) return;\n        setContactBotToggling(true);\n        try {\n            const newStatus = !contactBotDisabled;\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.tagsApi.toggleContactBot(currentBusiness.id, selectedPhone, newStatus);\n            setContactBotDisabled(newStatus);\n        } catch (err) {\n            console.error(\"Failed to toggle contact bot:\", err);\n        } finally{\n            setContactBotToggling(false);\n        }\n    };\n    const fetchWindowStatus = async (phone)=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.messageApi.windowStatus(currentBusiness.id, phone);\n            setWindowStatus(response.data);\n        } catch (err) {\n            console.error(\"Failed to fetch window status:\", err);\n        }\n    };\n    const fetchTemplates = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.templatesApi.list(currentBusiness.id);\n            const approvedTemplates = (response.data || []).filter((t)=>t.status === \"APPROVED\");\n            setTemplates(approvedTemplates);\n        } catch (err) {\n            console.error(\"Failed to fetch templates:\", err);\n        }\n    };\n    const getTemplateVariableCount = (template)=>{\n        var _template_components;\n        const bodyComponent = (_template_components = template.components) === null || _template_components === void 0 ? void 0 : _template_components.find((c)=>c.type === \"BODY\");\n        if (!(bodyComponent === null || bodyComponent === void 0 ? void 0 : bodyComponent.text)) return 0;\n        const matches = bodyComponent.text.match(/\\{\\{\\d+\\}\\}/g) || [];\n        return matches.length;\n    };\n    const [selectedTemplateForSend, setSelectedTemplateForSend] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleSelectTemplate = (template)=>{\n        const varCount = getTemplateVariableCount(template);\n        if (varCount > 0) {\n            setSelectedTemplateForSend(template);\n            setTemplateVariables(Array(varCount).fill(\"\"));\n        } else {\n            handleSendTemplate(template, []);\n        }\n    };\n    const handleSendTemplate = async (template, variables)=>{\n        if (!currentBusiness || !selectedPhone) return;\n        setSendingTemplate(true);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.templatesApi.send(currentBusiness.id, {\n                templateName: template.name,\n                to: selectedPhone,\n                variables: variables.length > 0 ? variables : undefined\n            });\n            setShowTemplateModal(false);\n            setSelectedTemplateForSend(null);\n            setTemplateVariables([]);\n            fetchMessages(selectedPhone);\n        } catch (err) {\n            var _err_response_data, _err_response;\n            console.error(\"Failed to send template:\", err);\n            setError(((_err_response = err.response) === null || _err_response === void 0 ? void 0 : (_err_response_data = _err_response.data) === null || _err_response_data === void 0 ? void 0 : _err_response_data.error) || \"Error al enviar plantilla\");\n            setTimeout(()=>setError(null), 5000);\n        } finally{\n            setSendingTemplate(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if ((windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen)) {\n            fetchTemplates();\n        }\n    }, [\n        windowStatus,\n        currentBusiness\n    ]);\n    const fetchInstanceProvider = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            var _response_data;\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.waApi.status(currentBusiness.id);\n            if ((_response_data = response.data) === null || _response_data === void 0 ? void 0 : _response_data.provider) {\n                setInstanceProvider(response.data.provider);\n            }\n        } catch (err) {\n            console.error(\"Failed to fetch instance provider:\", err);\n        }\n    };\n    const fetchNewChatTemplates = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.templatesApi.list(currentBusiness.id);\n            const approvedTemplates = (response.data || []).filter((t)=>t.status === \"APPROVED\");\n            setNewChatTemplates(approvedTemplates);\n        } catch (err) {\n            console.error(\"Failed to fetch templates for new chat:\", err);\n        }\n    };\n    const openNewChatModal = ()=>{\n        setNewChatPhone(\"\");\n        setNewChatMessage(\"\");\n        setNewChatUseTemplate(false);\n        setSelectedNewChatTemplate(null);\n        fetchInstanceProvider();\n        if (instanceProvider === \"META_CLOUD\") {\n            fetchNewChatTemplates();\n        }\n        setShowNewChatModal(true);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (showNewChatModal && instanceProvider === \"META_CLOUD\") {\n            fetchNewChatTemplates();\n        }\n    }, [\n        showNewChatModal,\n        instanceProvider\n    ]);\n    const handleSendNewChat = async ()=>{\n        if (!currentBusiness || !newChatPhone.trim()) return;\n        const cleanPhone = newChatPhone.replace(/\\D/g, \"\");\n        if (cleanPhone.length < 10) {\n            setError(\"Numero invalido\");\n            setTimeout(()=>setError(null), 3000);\n            return;\n        }\n        if (newChatUseTemplate && selectedNewChatTemplate) {\n            const varCount = getTemplateVariableCount(selectedNewChatTemplate);\n            if (varCount > 0 && newChatTemplateVariables.some((v)=>!v.trim())) {\n                setError(\"Completa todas las variables de la plantilla\");\n                setTimeout(()=>setError(null), 3000);\n                return;\n            }\n        }\n        setNewChatSending(true);\n        setError(null);\n        try {\n            if (newChatUseTemplate && selectedNewChatTemplate) {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.templatesApi.send(currentBusiness.id, {\n                    templateName: selectedNewChatTemplate.name,\n                    to: cleanPhone,\n                    variables: newChatTemplateVariables.length > 0 ? newChatTemplateVariables : undefined\n                });\n            } else if (newChatMessage.trim()) {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.waApi.send(currentBusiness.id, {\n                    to: cleanPhone,\n                    message: newChatMessage\n                });\n            } else {\n                setError(\"Escribe un mensaje o selecciona una plantilla\");\n                setNewChatSending(false);\n                return;\n            }\n            setShowNewChatModal(false);\n            setNewChatTemplateVariables([]);\n            fetchConversations();\n            setSelectedPhone(cleanPhone);\n            setSelectedContactName(\"\");\n            fetchMessages(cleanPhone);\n            fetchWindowStatus(cleanPhone);\n        } catch (err) {\n            var _err_response_data, _err_response;\n            console.error(\"Failed to send new chat:\", err);\n            setError(((_err_response = err.response) === null || _err_response === void 0 ? void 0 : (_err_response_data = _err_response.data) === null || _err_response_data === void 0 ? void 0 : _err_response_data.error) || \"Error al enviar mensaje\");\n            setTimeout(()=>setError(null), 5000);\n        } finally{\n            setNewChatSending(false);\n        }\n    };\n    const filteredConversations = conversations.filter((conv)=>{\n        var _conv_contactName;\n        if (!searchQuery.trim()) return true;\n        const query = searchQuery.toLowerCase();\n        const phoneMatch = conv.phone.toLowerCase().includes(query);\n        const nameMatch = (_conv_contactName = conv.contactName) === null || _conv_contactName === void 0 ? void 0 : _conv_contactName.toLowerCase().includes(query);\n        return phoneMatch || nameMatch;\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const isNewConversation = prevMessagesLengthRef.current === 0 && messages.length > 0;\n        const hasNewMessages = messages.length > prevMessagesLengthRef.current;\n        if (isNewConversation || hasNewMessages && isNearBottomRef.current) {\n            var _messagesEndRef_current;\n            (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n                behavior: \"smooth\"\n            });\n        }\n        prevMessagesLengthRef.current = messages.length;\n    }, [\n        messages\n    ]);\n    const fetchConversations = async ()=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.messageApi.conversations(currentBusiness.id);\n            setConversations(response.data);\n        } catch (err) {\n            console.error(\"Failed to fetch conversations:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const fetchMessages = async (phone)=>{\n        if (!currentBusiness) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.messageApi.conversation(currentBusiness.id, phone);\n            setMessages(response.data);\n        } catch (err) {\n            console.error(\"Failed to fetch messages:\", err);\n        }\n    };\n    const handleSend = async (e)=>{\n        e.preventDefault();\n        if (!currentBusiness || !selectedPhone || !newMessage.trim() && !previewFile) return;\n        setSending(true);\n        setError(null);\n        try {\n            if (previewFile) {\n                setUploading(true);\n                const uploadRes = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.mediaApi.upload(currentBusiness.id, previewFile.file);\n                const { url, type, mimetype } = uploadRes.data;\n                const sendData = {\n                    to: selectedPhone\n                };\n                if (type === \"image\") {\n                    sendData.imageUrl = url;\n                    sendData.message = newMessage || undefined;\n                } else if (type === \"video\") {\n                    sendData.videoUrl = url;\n                    sendData.message = newMessage || undefined;\n                } else if (type === \"audio\") {\n                    sendData.audioUrl = url;\n                } else {\n                    sendData.fileUrl = url;\n                    sendData.fileName = previewFile.file.name;\n                    sendData.mimeType = mimetype || previewFile.file.type;\n                }\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.waApi.send(currentBusiness.id, sendData);\n                setPreviewFile(null);\n                setUploading(false);\n            } else {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.waApi.send(currentBusiness.id, {\n                    to: selectedPhone,\n                    message: newMessage\n                });\n            }\n            setNewMessage(\"\");\n            fetchMessages(selectedPhone);\n        } catch (err) {\n            var _err_response_data, _err_response;\n            console.error(\"Failed to send message:\", err);\n            setError(((_err_response = err.response) === null || _err_response === void 0 ? void 0 : (_err_response_data = _err_response.data) === null || _err_response_data === void 0 ? void 0 : _err_response_data.error) || \"Error al enviar mensaje\");\n            setTimeout(()=>setError(null), 5000);\n        } finally{\n            setSending(false);\n            setUploading(false);\n        }\n    };\n    const handleFileSelect = (e)=>{\n        var _e_target_files;\n        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (!file) return;\n        const url = URL.createObjectURL(file);\n        let type = \"file\";\n        if (file.type.startsWith(\"image/\")) type = \"image\";\n        else if (file.type.startsWith(\"video/\")) type = \"video\";\n        else if (file.type.startsWith(\"audio/\")) type = \"audio\";\n        setPreviewFile({\n            file,\n            url,\n            type\n        });\n        if (fileInputRef.current) fileInputRef.current.value = \"\";\n    };\n    const cancelPreview = ()=>{\n        if (previewFile) {\n            URL.revokeObjectURL(previewFile.url);\n            setPreviewFile(null);\n        }\n    };\n    const handleToggleBot = async ()=>{\n        if (!currentBusiness) return;\n        setBotToggling(true);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.businessApi.toggleBot(currentBusiness.id, !currentBusiness.botEnabled);\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.businessApi.get(currentBusiness.id);\n            _store_business__WEBPACK_IMPORTED_MODULE_2__.useBusinessStore.setState({\n                currentBusiness: response.data\n            });\n        } catch (err) {\n            console.error(\"Failed to toggle bot:\", err);\n        } finally{\n            setBotToggling(false);\n        }\n    };\n    const handleStartRecording = async ()=>{\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            audioStreamRef.current = stream;\n            const mediaRecorder = new MediaRecorder(stream);\n            mediaRecorderRef.current = mediaRecorder;\n            const audioChunks = [];\n            mediaRecorder.ondataavailable = (event)=>audioChunks.push(event.data);\n            mediaRecorder.onstop = async ()=>{\n                const audioBlob = new Blob(audioChunks, {\n                    type: \"audio/webm\"\n                });\n                const file = new File([\n                    audioBlob\n                ], \"audio.webm\", {\n                    type: \"audio/webm\"\n                });\n                setPreviewFile({\n                    file,\n                    url: URL.createObjectURL(file),\n                    type: \"audio\"\n                });\n                stream.getTracks().forEach((track)=>track.stop());\n                setIsRecording(false);\n            };\n            mediaRecorder.start();\n            setIsRecording(true);\n        } catch (error) {\n            console.error(\"Error accessing microphone:\", error);\n            setError(\"No se pudo acceder al microfono\");\n        }\n    };\n    const handleStopRecording = ()=>{\n        if (mediaRecorderRef.current) mediaRecorderRef.current.stop();\n    };\n    const handleInputFocus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setIsInputFocused(true);\n        setTimeout(()=>{\n            var _messagesEndRef_current;\n            (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"end\"\n            });\n        }, 300);\n    }, []);\n    const handleInputBlur = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setIsInputFocused(false);\n    }, []);\n    const formatTime = (dateStr)=>{\n        const date = new Date(dateStr);\n        return date.toLocaleTimeString(\"es\", {\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n        });\n    };\n    const formatDate = (dateStr)=>{\n        const date = new Date(dateStr);\n        const today = new Date();\n        if (date.toDateString() === today.toDateString()) return formatTime(dateStr);\n        const yesterday = new Date(today);\n        yesterday.setDate(yesterday.getDate() - 1);\n        if (date.toDateString() === yesterday.toDateString()) return \"Ayer\";\n        return date.toLocaleDateString(\"es\", {\n            day: \"2-digit\",\n            month: \"2-digit\"\n        });\n    };\n    const isImageUrl = (url)=>/\\.(jpg|jpeg|png|gif|webp)(\\?.*)?$/i.test(url);\n    const isVideoUrl = (url)=>/\\.(mp4|mov|webm|avi)(\\?.*)?$/i.test(url);\n    const isAudioUrl = (url)=>/\\.(ogg|mp3|wav|m4a|aac|opus|webm)(\\?.*)?$/i.test(url);\n    const AudioPlayer = (param)=>{\n        let { src, isOutbound } = param;\n        _s1();\n        const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n        const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n        const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n        const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n        const waveHeights = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([\n            10,\n            14,\n            8,\n            16,\n            12,\n            10,\n            14,\n            8,\n            12,\n            16,\n            10,\n            14\n        ]);\n        const togglePlay = ()=>{\n            if (audioRef.current) {\n                if (isPlaying) {\n                    audioRef.current.pause();\n                } else {\n                    audioRef.current.play();\n                }\n                setIsPlaying(!isPlaying);\n            }\n        };\n        const formatDuration = (sec)=>{\n            const m = Math.floor(sec / 60);\n            const s = Math.floor(sec % 60);\n            return \"\".concat(m, \":\").concat(s.toString().padStart(2, \"0\"));\n        };\n        const progress = duration > 0 ? Math.floor(currentTime / duration * 12) : 0;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center gap-2 min-w-[160px]\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                    ref: audioRef,\n                    src: src,\n                    preload: \"metadata\",\n                    onLoadedMetadata: (e)=>setDuration(e.target.duration),\n                    onTimeUpdate: (e)=>setCurrentTime(e.target.currentTime),\n                    onEnded: ()=>{\n                        setIsPlaying(false);\n                        setCurrentTime(0);\n                    },\n                    className: \"hidden\"\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 662,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: togglePlay,\n                    className: \"w-9 h-9 rounded-full flex items-center justify-center flex-shrink-0 transition-colors \".concat(isOutbound ? \"bg-white/20 hover:bg-white/30\" : \"bg-neon-blue/20 hover:bg-neon-blue/30\"),\n                    children: isPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"w-4 h-4\",\n                        fill: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                x: \"6\",\n                                y: \"4\",\n                                width: \"4\",\n                                height: \"16\"\n                            }, void 0, false, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 676,\n                                columnNumber: 78\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                                x: \"14\",\n                                y: \"4\",\n                                width: \"4\",\n                                height: \"16\"\n                            }, void 0, false, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 676,\n                                columnNumber: 120\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                        lineNumber: 676,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"w-4 h-4 ml-0.5\",\n                        fill: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            d: \"M8 5v14l11-7z\"\n                        }, void 0, false, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 678,\n                            columnNumber: 85\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                        lineNumber: 678,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 671,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 flex flex-col gap-1\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-end gap-[3px] h-4\",\n                            children: waveHeights.current.map((h, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-[3px] rounded-sm transition-colors duration-150 \".concat(i < progress ? isOutbound ? \"bg-white\" : \"bg-neon-blue\" : isOutbound ? \"bg-white/30\" : \"bg-gray-600\"),\n                                    style: {\n                                        height: \"\".concat(h, \"px\")\n                                    }\n                                }, i, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 684,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 682,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-[10px] \".concat(isOutbound ? \"text-white/60\" : \"text-gray-400\"),\n                            children: formatDuration(currentTime > 0 ? currentTime : duration || 0)\n                        }, void 0, false, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 695,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 681,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n            lineNumber: 661,\n            columnNumber: 7\n        }, this);\n    };\n    _s1(AudioPlayer, \"fWyolU7LU5TTgMtd2RQcHjWqN7U=\");\n    const renderMedia = (mediaUrl, isOutbound, mediaType)=>{\n        var _mediaUrl_split_pop;\n        const type = (mediaType === null || mediaType === void 0 ? void 0 : mediaType.toLowerCase()) || \"\";\n        const isAudio = type === \"audio\" || type === \"ptt\" || isAudioUrl(mediaUrl);\n        const isImage = type === \"image\" || type === \"sticker\" || isImageUrl(mediaUrl);\n        const isVideo = type === \"video\" || isVideoUrl(mediaUrl);\n        if (isImage) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                src: mediaUrl,\n                alt: \"\",\n                className: \"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity\",\n                style: {\n                    maxHeight: \"200px\",\n                    maxWidth: \"220px\"\n                },\n                onClick: ()=>window.open(mediaUrl, \"_blank\")\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 711,\n                columnNumber: 9\n            }, this);\n        }\n        if (isVideo) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative rounded-lg overflow-hidden\",\n                style: {\n                    maxWidth: \"220px\"\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                    src: mediaUrl,\n                    controls: true,\n                    className: \"max-w-full\",\n                    style: {\n                        maxHeight: \"180px\"\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 723,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 722,\n                columnNumber: 9\n            }, this);\n        }\n        if (isAudio) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AudioPlayer, {\n                src: mediaUrl,\n                isOutbound: isOutbound\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 733,\n                columnNumber: 14\n            }, this);\n        }\n        const fileName = ((_mediaUrl_split_pop = mediaUrl.split(\"/\").pop()) === null || _mediaUrl_split_pop === void 0 ? void 0 : _mediaUrl_split_pop.split(\"?\")[0]) || \"archivo\";\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n            href: mediaUrl,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"inline-flex items-center gap-1.5 text-sm \".concat(isOutbound ? \"text-white/90 hover:text-white\" : \"text-neon-blue hover:text-neon-blue-light\"),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: \"\\uD83D\\uDCC4\"\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 743,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"underline underline-offset-2\",\n                    children: fileName.length > 20 ? fileName.slice(0, 17) + \"...\" : fileName\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 744,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n            lineNumber: 737,\n            columnNumber: 7\n        }, this);\n    };\n    if (!currentBusiness) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-[calc(100vh-8rem)] flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center text-gray-500\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Primero debes crear una empresa para ver conversaciones.\"\n                }, void 0, false, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 753,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 752,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n            lineNumber: 751,\n            columnNumber: 7\n        }, this);\n    }\n    const showChatList = chatListOpen || !selectedPhone;\n    const containerStyle = keyboardHeight > 0 ? {\n        height: \"calc(100vh - 120px - \".concat(keyboardHeight, \"px)\")\n    } : undefined;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: chatContainerRef,\n        className: \"h-[calc(100dvh-120px)] sm:h-[calc(100vh-6rem)] flex flex-col bg-dark-bg transition-all duration-150\",\n        style: containerStyle,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex overflow-hidden sm:rounded-2xl border border-dark-border bg-dark-surface shadow-dark-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"\".concat(showChatList ? \"w-full sm:w-80\" : \"hidden sm:block sm:w-0\", \" transition-all duration-300 overflow-hidden border-r border-dark-border flex flex-col\"),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-3 border-b border-dark-border bg-dark-card\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"font-semibold text-white\",\n                                                children: \"Chats\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 775,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-gray-400 bg-dark-hover px-2 py-0.5 rounded-full\",\n                                                        children: filteredConversations.length\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 777,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: openNewChatModal,\n                                                        className: \"p-1.5 rounded-lg text-neon-blue hover:bg-neon-blue/20 transition-colors\",\n                                                        title: \"Nuevo chat\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-4 h-4\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\",\n                                                                strokeWidth: 2,\n                                                                d: \"M12 4v16m8-8H4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 779,\n                                                                columnNumber: 98\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 779,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 778,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>setViewMode(viewMode === \"list\" ? \"kanban\" : \"list\"),\n                                                        className: \"p-1.5 rounded-lg transition-colors \".concat(viewMode === \"kanban\" ? \"bg-neon-blue/20 text-neon-blue\" : \"text-gray-400 hover:bg-dark-hover\"),\n                                                        children: viewMode === \"list\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-4 h-4\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\",\n                                                                strokeWidth: 2,\n                                                                d: \"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 783,\n                                                                columnNumber: 100\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 783,\n                                                            columnNumber: 21\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-4 h-4\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\",\n                                                                strokeWidth: 2,\n                                                                d: \"M4 6h16M4 10h16M4 14h16M4 18h16\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 785,\n                                                                columnNumber: 100\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 785,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 781,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 776,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 774,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: searchQuery,\n                                                onChange: (e)=>setSearchQuery(e.target.value),\n                                                placeholder: \"Buscar por numero o nombre...\",\n                                                className: \"w-full pl-8 pr-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white text-sm placeholder-gray-500 focus:outline-none focus:border-neon-blue\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 791,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-4 h-4 text-gray-500 absolute left-2.5 top-1/2 -translate-y-1/2\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 798,\n                                                    columnNumber: 151\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 798,\n                                                columnNumber: 15\n                                            }, this),\n                                            searchQuery && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSearchQuery(\"\"),\n                                                className: \"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-white\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-3 h-3\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M6 18L18 6M6 6l12 12\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 801,\n                                                        columnNumber: 98\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 801,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 800,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 790,\n                                        columnNumber: 13\n                                    }, this),\n                                    dailyContacts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between text-xs px-2 py-1.5 rounded-lg mb-2 \".concat(dailyContacts.remaining <= 10 ? \"bg-accent-error/20 text-accent-error\" : dailyContacts.remaining <= 25 ? \"bg-accent-warning/20 text-accent-warning\" : \"bg-accent-success/20 text-accent-success\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"flex items-center gap-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        className: \"w-3.5 h-3.5\",\n                                                        fill: \"none\",\n                                                        stroke: \"currentColor\",\n                                                        viewBox: \"0 0 24 24\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            strokeLinecap: \"round\",\n                                                            strokeLinejoin: \"round\",\n                                                            strokeWidth: 2,\n                                                            d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 808,\n                                                            columnNumber: 102\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 808,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    \"Contactos hoy\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 807,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    dailyContacts.count,\n                                                    \"/\",\n                                                    dailyContacts.limit\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 811,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 806,\n                                        columnNumber: 15\n                                    }, this),\n                                    viewMode === \"kanban\" && tags.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-1 overflow-x-auto pb-1 hide-scrollbar\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSelectedTag(null),\n                                                className: \"text-xs px-2 py-1 rounded-full whitespace-nowrap flex-shrink-0 \".concat(selectedTag === null ? \"bg-white text-dark-bg\" : \"bg-dark-hover text-gray-400 hover:bg-dark-border\"),\n                                                children: \"Sin etiqueta\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 816,\n                                                columnNumber: 17\n                                            }, this),\n                                            tags.map((tag)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setSelectedTag(tag.id),\n                                                    className: \"text-xs px-2 py-1 rounded-full whitespace-nowrap flex-shrink-0\",\n                                                    style: {\n                                                        backgroundColor: selectedTag === tag.id ? tag.color : \"\".concat(tag.color, \"30\"),\n                                                        color: selectedTag === tag.id ? \"white\" : tag.color\n                                                    },\n                                                    children: [\n                                                        tag.name,\n                                                        \" (\",\n                                                        getConversationsByTag(tag.id).length,\n                                                        \")\"\n                                                    ]\n                                                }, tag.id, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 818,\n                                                    columnNumber: 19\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 815,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 773,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto scrollbar-thin scroll-smooth-ios\",\n                                children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4 text-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-neon-blue mx-auto\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 826,\n                                        columnNumber: 48\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 826,\n                                    columnNumber: 15\n                                }, this) : filteredConversations.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 text-center text-gray-500 text-sm\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-16 h-16 mx-auto mb-3 bg-dark-card rounded-full flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-8 h-8 text-gray-600\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 830,\n                                                    columnNumber: 112\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 830,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 829,\n                                            columnNumber: 17\n                                        }, this),\n                                        searchQuery ? \"No se encontraron resultados\" : \"No hay conversaciones\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 828,\n                                    columnNumber: 15\n                                }, this) : (viewMode === \"kanban\" ? getConversationsByTag(selectedTag) : filteredConversations).map((conv)=>{\n                                    const contactTag = getContactTag(conv.phone);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            setSelectedPhone(conv.phone);\n                                            setSelectedContactName(conv.contactName || \"\");\n                                            setChatListOpen(false);\n                                        },\n                                        className: \"w-full p-3 text-left hover:bg-dark-hover transition-colors flex items-center gap-3 \".concat(selectedPhone === conv.phone ? \"bg-neon-blue/10 border-l-2 border-neon-blue\" : \"\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-12 h-12 bg-dark-card rounded-full flex items-center justify-center flex-shrink-0 relative\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xl\",\n                                                        children: \"\\uD83D\\uDC64\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 840,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    contactTag && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-dark-surface\",\n                                                        style: {\n                                                            backgroundColor: contactTag.color\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 841,\n                                                        columnNumber: 38\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 839,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium text-white truncate text-sm\",\n                                                                children: conv.contactName || \"+\".concat(conv.phone)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 845,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-gray-500 flex-shrink-0 ml-2\",\n                                                                children: formatDate(conv.lastMessageAt)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 846,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 844,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2 mt-0.5\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm text-gray-400 truncate flex-1\",\n                                                                children: conv.lastMessage || \"Sin mensajes\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 849,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            contactTag && viewMode === \"list\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs px-1.5 py-0.5 rounded-full flex-shrink-0\",\n                                                                style: {\n                                                                    backgroundColor: \"\".concat(contactTag.color, \"20\"),\n                                                                    color: contactTag.color\n                                                                },\n                                                                children: contactTag.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 850,\n                                                                columnNumber: 63\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 848,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 843,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, conv.phone, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 838,\n                                        columnNumber: 19\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 824,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                        lineNumber: 772,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"\".concat(selectedPhone ? \"flex\" : \"hidden sm:flex\", \" flex-1 flex-col min-w-0\"),\n                        children: selectedPhone ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-3 sm:px-4 py-3 border-b border-dark-border bg-dark-card flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                setChatListOpen(true);\n                                                setSelectedPhone(null);\n                                            },\n                                            className: \"sm:hidden p-1.5 text-gray-400 hover:text-white transition-colors\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M15 19l-7-7 7-7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 865,\n                                                    columnNumber: 98\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 865,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 864,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setChatListOpen(!chatListOpen),\n                                            className: \"hidden sm:block p-1 text-gray-500 hover:text-white transition-colors\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-4 h-4\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: chatListOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2.5,\n                                                    d: \"M11 19l-7-7 7-7m8 14l-7-7 7-7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 869,\n                                                    columnNumber: 37\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2.5,\n                                                    d: \"M13 5l7 7-7 7M5 5l7 7-7 7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 869,\n                                                    columnNumber: 145\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 868,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 867,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 bg-neon-blue/20 rounded-full flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-neon-blue text-lg\",\n                                                children: \"\\uD83D\\uDC64\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 873,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 872,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1 min-w-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"font-semibold text-white truncate\",\n                                                    children: selectedContactName || \"+\".concat(selectedPhone)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 876,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-1.5 flex-wrap\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: handleToggleContactBot,\n                                                            disabled: contactBotToggling,\n                                                            title: contactBotDisabled ? \"Bot desactivado para este contacto\" : \"Bot activo para este contacto\",\n                                                            className: \"text-xs px-1.5 py-0.5 rounded cursor-pointer transition-colors \".concat(contactBotDisabled ? \"bg-accent-error/20 text-accent-error\" : currentBusiness.botEnabled ? \"bg-accent-success/20 text-accent-success\" : \"bg-dark-hover text-gray-400\"),\n                                                            children: contactBotDisabled ? \"\\uD83D\\uDEAB Bot off\" : currentBusiness.botEnabled ? \"\\uD83E\\uDD16 Bot\" : \"\\uD83D\\uDE34 Global off\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 878,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xs px-1.5 py-0.5 rounded \".concat(windowStatus.windowOpen ? \"bg-neon-blue/20 text-neon-blue\" : \"bg-accent-warning/20 text-accent-warning\"),\n                                                            children: windowStatus.windowOpen ? \"\\uD83D\\uDCEC \".concat(windowStatus.hoursRemaining, \"h\") : \"\\uD83D\\uDCED Template\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 893,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 877,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 875,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: ((_getContactTag = getContactTag(selectedPhone)) === null || _getContactTag === void 0 ? void 0 : _getContactTag.id) || \"\",\n                                            onChange: (e)=>handleAssignTag(selectedPhone, e.target.value),\n                                            className: \"hidden sm:block text-xs bg-dark-card border border-dark-border rounded px-2 py-1 text-white\",\n                                            disabled: assigningTag,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"\",\n                                                    children: \"Sin etapa\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 900,\n                                                    columnNumber: 19\n                                                }, this),\n                                                tags.map((tag)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: tag.id,\n                                                        children: tag.name\n                                                    }, tag.id, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 901,\n                                                        columnNumber: 36\n                                                    }, this))\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 899,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowContactPanel(!showContactPanel),\n                                            className: \"p-2 rounded-full transition-colors \".concat(showContactPanel ? \"bg-neon-blue/20 text-neon-blue\" : \"text-gray-400 hover:text-white hover:bg-dark-hover\"),\n                                            title: \"Datos del contacto\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-5 h-5\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 909,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 908,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 903,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 863,\n                                    columnNumber: 15\n                                }, this),\n                                showContactPanel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-4 py-3 border-b border-dark-border bg-dark-surface\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"text-sm font-medium text-white\",\n                                                    children: \"Datos del Contacto\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 917,\n                                                    columnNumber: 21\n                                                }, this),\n                                                currentStage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs px-2 py-0.5 rounded-full\",\n                                                    style: {\n                                                        backgroundColor: \"\".concat(currentStage.color, \"20\"),\n                                                        color: currentStage.color\n                                                    },\n                                                    children: currentStage.name\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 919,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 916,\n                                            columnNumber: 19\n                                        }, this),\n                                        Object.keys(contactData).length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-2 gap-2 text-xs\",\n                                            children: [\n                                                contactData.nombre && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-500\",\n                                                            children: \"Nombre:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 927,\n                                                            columnNumber: 30\n                                                        }, this),\n                                                        \" \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-white\",\n                                                            children: contactData.nombre\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 927,\n                                                            columnNumber: 77\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 927,\n                                                    columnNumber: 25\n                                                }, this),\n                                                contactData.email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-500\",\n                                                            children: \"Email:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 930,\n                                                            columnNumber: 30\n                                                        }, this),\n                                                        \" \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-white\",\n                                                            children: contactData.email\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 930,\n                                                            columnNumber: 76\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 930,\n                                                    columnNumber: 25\n                                                }, this),\n                                                contactData.direccion && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"col-span-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-500\",\n                                                            children: \"Direcci\\xf3n:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 933,\n                                                            columnNumber: 53\n                                                        }, this),\n                                                        \" \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-white\",\n                                                            children: contactData.direccion\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 933,\n                                                            columnNumber: 103\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 933,\n                                                    columnNumber: 25\n                                                }, this),\n                                                contactData.ciudad && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-500\",\n                                                            children: \"Ciudad:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 936,\n                                                            columnNumber: 30\n                                                        }, this),\n                                                        \" \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-white\",\n                                                            children: contactData.ciudad\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 936,\n                                                            columnNumber: 77\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 936,\n                                                    columnNumber: 25\n                                                }, this),\n                                                contactData.codigo_postal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-500\",\n                                                            children: \"C.P.:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 939,\n                                                            columnNumber: 30\n                                                        }, this),\n                                                        \" \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-white\",\n                                                            children: contactData.codigo_postal\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 939,\n                                                            columnNumber: 75\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 939,\n                                                    columnNumber: 25\n                                                }, this),\n                                                contactData.documento && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-500\",\n                                                            children: \"Documento:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 942,\n                                                            columnNumber: 30\n                                                        }, this),\n                                                        \" \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-white\",\n                                                            children: contactData.documento\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 942,\n                                                            columnNumber: 80\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 942,\n                                                    columnNumber: 25\n                                                }, this),\n                                                contactData.notas && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"col-span-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-500\",\n                                                            children: \"Notas:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 945,\n                                                            columnNumber: 53\n                                                        }, this),\n                                                        \" \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-gray-400\",\n                                                            children: contactData.notas\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 945,\n                                                            columnNumber: 99\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 945,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 925,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: \"Sin datos extra\\xeddos a\\xfan. Los datos se extraen autom\\xe1ticamente de las conversaciones.\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 949,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 915,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto p-3 sm:p-4 space-y-2 scroll-smooth-ios scrollbar-thin bg-dark-bg\",\n                                    onScroll: (e)=>{\n                                        const el = e.currentTarget;\n                                        const threshold = 150;\n                                        isNearBottomRef.current = el.scrollHeight - el.scrollTop - el.clientHeight < threshold;\n                                    },\n                                    children: [\n                                        messages.map((msg)=>{\n                                            var _msg_metadata, _msg_metadata1, _msg_metadata2, _msg_metadata3, _msg_metadata4, _msg_metadata5, _msg_metadata6, _msg_metadata7, _msg_metadata8, _msg_metadata9, _msg_metadata10;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex \".concat(msg.direction === \"outbound\" ? \"justify-end\" : \"justify-start\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"chat-bubble \".concat(msg.direction === \"outbound\" ? \"chat-bubble-outgoing\" : \"chat-bubble-incoming\"),\n                                                    children: [\n                                                        msg.mediaUrl && renderMedia(msg.mediaUrl, msg.direction === \"outbound\", ((_msg_metadata = msg.metadata) === null || _msg_metadata === void 0 ? void 0 : _msg_metadata.mediaType) || ((_msg_metadata1 = msg.metadata) === null || _msg_metadata1 === void 0 ? void 0 : _msg_metadata1.type)),\n                                                        msg.message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"break-words whitespace-pre-wrap text-sm sm:text-base\",\n                                                            children: msg.message\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 966,\n                                                            columnNumber: 39\n                                                        }, this),\n                                                        msg.direction === \"inbound\" && ((_msg_metadata2 = msg.metadata) === null || _msg_metadata2 === void 0 ? void 0 : _msg_metadata2.mediaAnalysis) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1 group relative inline-block\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"flex items-center gap-1 text-[10px] px-1.5 py-0.5 bg-purple-500/15 text-purple-400 rounded cursor-help\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            children: \"\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                            lineNumber: 970,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            children: \"Analizado\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                            lineNumber: 971,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 969,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"absolute bottom-full left-0 mb-1 w-56 sm:w-64 p-2 bg-dark-card border border-purple-500/20 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-purple-400 font-medium mb-0.5\",\n                                                                            children: ((_msg_metadata3 = msg.metadata) === null || _msg_metadata3 === void 0 ? void 0 : _msg_metadata3.mediaType) === \"audio\" || ((_msg_metadata4 = msg.metadata) === null || _msg_metadata4 === void 0 ? void 0 : _msg_metadata4.type) === \"audio\" || ((_msg_metadata5 = msg.metadata) === null || _msg_metadata5 === void 0 ? void 0 : _msg_metadata5.type) === \"ptt\" ? \"\\uD83C\\uDFA4 Transcripci\\xf3n:\" : ((_msg_metadata6 = msg.metadata) === null || _msg_metadata6 === void 0 ? void 0 : _msg_metadata6.mediaType) === \"image\" || ((_msg_metadata7 = msg.metadata) === null || _msg_metadata7 === void 0 ? void 0 : _msg_metadata7.type) === \"image\" || ((_msg_metadata8 = msg.metadata) === null || _msg_metadata8 === void 0 ? void 0 : _msg_metadata8.type) === \"sticker\" ? \"\\uD83D\\uDDBC Descripci\\xf3n:\" : ((_msg_metadata9 = msg.metadata) === null || _msg_metadata9 === void 0 ? void 0 : _msg_metadata9.mediaType) === \"video\" || ((_msg_metadata10 = msg.metadata) === null || _msg_metadata10 === void 0 ? void 0 : _msg_metadata10.type) === \"video\" ? \"\\uD83C\\uDFAC Descripci\\xf3n:\" : \"\\uD83D\\uDCCE An\\xe1lisis:\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                            lineNumber: 974,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-gray-400 whitespace-pre-wrap max-h-32 overflow-y-auto leading-relaxed\",\n                                                                            children: msg.metadata.mediaAnalysis\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                            lineNumber: 979,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 973,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 968,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs mt-1 text-right \".concat(msg.direction === \"outbound\" ? \"text-neon-blue-dark\" : \"text-gray-500\"),\n                                                            children: [\n                                                                formatTime(msg.createdAt),\n                                                                msg.direction === \"outbound\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"ml-1\",\n                                                                    children: \"\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 987,\n                                                                    columnNumber: 58\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 985,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 964,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, msg.id, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 963,\n                                                columnNumber: 19\n                                            }, this);\n                                        }),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: messagesEndRef\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 992,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 954,\n                                    columnNumber: 15\n                                }, this),\n                                previewFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-3 py-2 border-t border-dark-border bg-dark-card\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3 p-2 bg-dark-surface rounded-lg border border-dark-border\",\n                                        children: [\n                                            previewFile.type === \"image\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: previewFile.url,\n                                                alt: \"Preview\",\n                                                className: \"w-14 h-14 object-cover rounded\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 999,\n                                                columnNumber: 23\n                                            }, this) : previewFile.type === \"audio\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 flex-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-10 h-10 bg-neon-blue/20 rounded-full flex items-center justify-center\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                            className: \"w-5 h-5 text-neon-blue\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                strokeLinecap: \"round\",\n                                                                strokeLinejoin: \"round\",\n                                                                strokeWidth: 2,\n                                                                d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 1002,\n                                                                columnNumber: 208\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 1002,\n                                                            columnNumber: 114\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1002,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                                                        controls: true,\n                                                        className: \"h-10 flex-1\",\n                                                        style: {\n                                                            maxWidth: \"180px\"\n                                                        },\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                                            src: previewFile.url\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 1003,\n                                                            columnNumber: 95\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1003,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1001,\n                                                columnNumber: 23\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-14 h-14 bg-dark-hover rounded flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-6 h-6 text-gray-400\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1006,\n                                                        columnNumber: 198\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1006,\n                                                    columnNumber: 105\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1006,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: cancelPreview,\n                                                className: \"p-1.5 text-gray-400 hover:text-accent-error hover:bg-accent-error/10 rounded-full transition-colors\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M6 18L18 6M6 6l12 12\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1008,\n                                                        columnNumber: 244\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1008,\n                                                    columnNumber: 165\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1008,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 997,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 996,\n                                    columnNumber: 17\n                                }, this),\n                                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-3 mb-2 px-4 py-2 bg-accent-error/10 border border-accent-error/20 rounded-lg text-accent-error text-sm\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1013,\n                                    columnNumber: 25\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                                    onSubmit: handleSend,\n                                    className: \"p-3 border-t border-dark-border bg-dark-card safe-area-pb\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"file\",\n                                                ref: fileInputRef,\n                                                onChange: handleFileSelect,\n                                                className: \"hidden\",\n                                                accept: \"image/*,video/*,.pdf,.doc,.docx\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1017,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>{\n                                                    var _fileInputRef_current;\n                                                    return (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                                                },\n                                                className: \"flex-shrink-0 p-2.5 text-gray-400 hover:text-white hover:bg-dark-hover rounded-full transition-colors\",\n                                                disabled: sending || (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1019,\n                                                        columnNumber: 114\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1019,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1018,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: isRecording ? handleStopRecording : handleStartRecording,\n                                                className: \"flex-shrink-0 p-2.5 rounded-full transition-colors \".concat(isRecording ? \"bg-accent-error text-white animate-pulse\" : \"text-gray-400 hover:text-white hover:bg-dark-hover\"),\n                                                disabled: sending && !isRecording || (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1022,\n                                                        columnNumber: 114\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1022,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1021,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                ref: inputRef,\n                                                type: \"text\",\n                                                value: newMessage,\n                                                onChange: (e)=>setNewMessage(e.target.value),\n                                                onFocus: handleInputFocus,\n                                                onBlur: handleInputBlur,\n                                                placeholder: (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen) ? \"Ventana cerrada - usa plantilla\" : \"Escribe un mensaje...\",\n                                                className: \"flex-1 min-w-0 px-4 py-2.5 bg-dark-surface border border-dark-border rounded-full text-white placeholder-gray-500 focus:outline-none focus:border-neon-blue focus:ring-1 focus:ring-neon-blue/50 text-sm sm:text-base\",\n                                                disabled: sending || (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen),\n                                                enterKeyHint: \"send\",\n                                                autoComplete: \"off\",\n                                                autoCorrect: \"on\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1024,\n                                                columnNumber: 19\n                                            }, this),\n                                            (windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.provider) === \"META_CLOUD\" && !(windowStatus === null || windowStatus === void 0 ? void 0 : windowStatus.windowOpen) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: ()=>setShowTemplateModal(true),\n                                                className: \"flex-shrink-0 p-2.5 bg-accent-warning text-dark-bg rounded-full hover:bg-accent-warning/80 transition-colors\",\n                                                title: \"Enviar plantilla\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1045,\n                                                        columnNumber: 116\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1045,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1039,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"submit\",\n                                                disabled: sending || !newMessage.trim() && !previewFile,\n                                                className: \"flex-shrink-0 p-2.5 bg-neon-blue text-dark-bg rounded-full hover:bg-neon-blue-light disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-neon-sm\",\n                                                children: sending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6 border-2 border-dark-bg border-t-transparent rounded-full animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1049,\n                                                    columnNumber: 34\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5 sm:w-6 sm:h-6\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1049,\n                                                        columnNumber: 242\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1049,\n                                                    columnNumber: 149\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1048,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1016,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1015,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 flex flex-col items-center justify-center text-gray-500 bg-dark-bg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-24 h-24 bg-dark-card rounded-full flex items-center justify-center mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-12 h-12 text-gray-600\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1058,\n                                            columnNumber: 112\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1058,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1057,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-lg font-medium text-gray-400\",\n                                    children: \"Selecciona un chat\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1060,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500 mt-1\",\n                                    children: \"Elige una conversacion para comenzar\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1061,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 1056,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                        lineNumber: 860,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 771,\n                columnNumber: 7\n            }, this),\n            showTemplateModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-dark-card border border-dark-border rounded-xl w-full max-w-md max-h-[80vh] overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 border-b border-dark-border flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: selectedTemplateForSend ? \"Completar Variables\" : \"Seleccionar Plantilla\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1071,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        setShowTemplateModal(false);\n                                        setSelectedTemplateForSend(null);\n                                        setTemplateVariables([]);\n                                    },\n                                    className: \"p-1 text-gray-400 hover:text-white transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-5 h-5\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M6 18L18 6M6 6l12 12\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1075,\n                                            columnNumber: 96\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1075,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1074,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 1070,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 overflow-y-auto max-h-[60vh]\",\n                            children: selectedTemplateForSend ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 bg-dark-surface border border-dark-border rounded-lg\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-medium text-white mb-1\",\n                                                children: selectedTemplateForSend.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1082,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-400\",\n                                                children: ((_selectedTemplateForSend_components = selectedTemplateForSend.components) === null || _selectedTemplateForSend_components === void 0 ? void 0 : (_selectedTemplateForSend_components_find = _selectedTemplateForSend_components.find((c)=>c.type === \"BODY\")) === null || _selectedTemplateForSend_components_find === void 0 ? void 0 : _selectedTemplateForSend_components_find.text) || \"\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1083,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1081,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-400\",\n                                                children: \"Completa los valores para las variables:\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1088,\n                                                columnNumber: 21\n                                            }, this),\n                                            templateVariables.map((value, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            className: \"block text-xs text-gray-500 mb-1\",\n                                                            children: [\n                                                                \"Variable \",\n                                                                \"{{\".concat(index + 1, \"}}\")\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 1091,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"text\",\n                                                            value: value,\n                                                            onChange: (e)=>{\n                                                                const newVars = [\n                                                                    ...templateVariables\n                                                                ];\n                                                                newVars[index] = e.target.value;\n                                                                setTemplateVariables(newVars);\n                                                            },\n                                                            placeholder: \"Valor para {{\".concat(index + 1, \"}}\"),\n                                                            className: \"w-full px-3 py-2 bg-dark-bg border border-dark-border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-neon-blue\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 1092,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, index, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1090,\n                                                    columnNumber: 23\n                                                }, this))\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1087,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setSelectedTemplateForSend(null);\n                                                    setTemplateVariables([]);\n                                                },\n                                                className: \"flex-1 py-2 bg-dark-surface border border-dark-border rounded-lg text-gray-400 hover:text-white transition-colors\",\n                                                children: \"Volver\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1107,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleSendTemplate(selectedTemplateForSend, templateVariables),\n                                                disabled: sendingTemplate || templateVariables.some((v)=>!v.trim()),\n                                                className: \"flex-1 py-2 bg-neon-blue text-dark-bg rounded-lg font-medium hover:bg-neon-blue-light disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n                                                children: sendingTemplate ? \"Enviando...\" : \"Enviar\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1113,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1106,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 1080,\n                                columnNumber: 17\n                            }, this) : templates.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-400\",\n                                        children: \"No hay plantillas aprobadas\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1124,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-500 text-sm mt-2\",\n                                        children: \"Ve a Plantillas para sincronizar desde Meta\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1125,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 1123,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: templates.map((template)=>{\n                                    var _template_components_find_text, _template_components_find, _template_components, _template_components_find_text1, _template_components_find1, _template_components1;\n                                    const varCount = getTemplateVariableCount(template);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>handleSelectTemplate(template),\n                                        disabled: sendingTemplate,\n                                        className: \"w-full p-3 bg-dark-surface border border-dark-border rounded-lg text-left hover:border-neon-blue transition-colors disabled:opacity-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-white\",\n                                                        children: template.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1139,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            varCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs px-2 py-0.5 bg-accent-warning/20 text-accent-warning rounded\",\n                                                                children: [\n                                                                    varCount,\n                                                                    \" var\",\n                                                                    varCount > 1 ? \"s\" : \"\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 1142,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs px-2 py-0.5 bg-accent-success/20 text-accent-success rounded\",\n                                                                children: template.category\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                lineNumber: 1144,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1140,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1138,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-400\",\n                                                children: [\n                                                    ((_template_components = template.components) === null || _template_components === void 0 ? void 0 : (_template_components_find = _template_components.find((c)=>c.type === \"BODY\")) === null || _template_components_find === void 0 ? void 0 : (_template_components_find_text = _template_components_find.text) === null || _template_components_find_text === void 0 ? void 0 : _template_components_find_text.substring(0, 100)) || \"Sin contenido de cuerpo\",\n                                                    (((_template_components1 = template.components) === null || _template_components1 === void 0 ? void 0 : (_template_components_find1 = _template_components1.find((c)=>c.type === \"BODY\")) === null || _template_components_find1 === void 0 ? void 0 : (_template_components_find_text1 = _template_components_find1.text) === null || _template_components_find_text1 === void 0 ? void 0 : _template_components_find_text1.length) || 0) > 100 && \"...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1147,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 mt-1\",\n                                                children: [\n                                                    \"Idioma: \",\n                                                    template.language\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1151,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, template.id, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1132,\n                                        columnNumber: 23\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                lineNumber: 1128,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 1078,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 1069,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 1068,\n                columnNumber: 9\n            }, this),\n            showNewChatModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-dark-card border border-dark-border rounded-xl w-full max-w-md max-h-[80vh] overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 border-b border-dark-border flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: \"Nuevo Chat\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1166,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowNewChatModal(false),\n                                    className: \"p-1 text-gray-400 hover:text-white transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-5 h-5\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M6 18L18 6M6 6l12 12\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1168,\n                                            columnNumber: 96\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1168,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1167,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 1165,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm text-gray-400 mb-1\",\n                                            children: \"Numero de telefono\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1173,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"tel\",\n                                            value: newChatPhone,\n                                            onChange: (e)=>setNewChatPhone(e.target.value),\n                                            placeholder: \"51999999999\",\n                                            className: \"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-neon-blue\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1174,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500 mt-1\",\n                                            children: \"Incluye el codigo de pais sin + ni espacios\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1181,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1172,\n                                    columnNumber: 15\n                                }, this),\n                                instanceProvider === \"META_CLOUD\" && newChatTemplates.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"flex items-center gap-2 text-sm text-gray-400 mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"checkbox\",\n                                                    checked: newChatUseTemplate,\n                                                    onChange: (e)=>{\n                                                        setNewChatUseTemplate(e.target.checked);\n                                                        setSelectedNewChatTemplate(null);\n                                                        setNewChatTemplateVariables([]);\n                                                    },\n                                                    className: \"w-4 h-4 rounded bg-dark-surface border-dark-border text-neon-blue focus:ring-neon-blue\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1187,\n                                                    columnNumber: 21\n                                                }, this),\n                                                \"Usar plantilla (Meta Cloud)\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1186,\n                                            columnNumber: 19\n                                        }, this),\n                                        newChatUseTemplate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2 max-h-40 overflow-y-auto\",\n                                            children: newChatTemplates.map((template)=>{\n                                                var _template_components_find_text, _template_components_find, _template_components;\n                                                const varCount = getTemplateVariableCount(template);\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    onClick: ()=>{\n                                                        setSelectedNewChatTemplate(template);\n                                                        setNewChatTemplateVariables(Array(varCount).fill(\"\"));\n                                                    },\n                                                    className: \"w-full p-2 text-left rounded-lg border transition-colors \".concat((selectedNewChatTemplate === null || selectedNewChatTemplate === void 0 ? void 0 : selectedNewChatTemplate.id) === template.id ? \"border-neon-blue bg-neon-blue/10\" : \"border-dark-border bg-dark-surface hover:border-gray-600\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-sm text-white\",\n                                                                    children: template.name\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 1218,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                varCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs px-1.5 py-0.5 bg-accent-warning/20 text-accent-warning rounded\",\n                                                                    children: [\n                                                                        varCount,\n                                                                        \" var\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                                    lineNumber: 1220,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 1217,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-500 truncate\",\n                                                            children: ((_template_components = template.components) === null || _template_components === void 0 ? void 0 : (_template_components_find = _template_components.find((c)=>c.type === \"BODY\")) === null || _template_components_find === void 0 ? void 0 : (_template_components_find_text = _template_components_find.text) === null || _template_components_find_text === void 0 ? void 0 : _template_components_find_text.substring(0, 50)) || \"\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                            lineNumber: 1223,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, template.id, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1204,\n                                                    columnNumber: 27\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1200,\n                                            columnNumber: 21\n                                        }, this),\n                                        selectedNewChatTemplate && newChatTemplateVariables.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 space-y-2 p-3 bg-dark-surface rounded-lg border border-dark-border\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-400\",\n                                                    children: [\n                                                        \"Variables para \",\n                                                        selectedNewChatTemplate.name,\n                                                        \":\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                    lineNumber: 1233,\n                                                    columnNumber: 23\n                                                }, this),\n                                                newChatTemplateVariables.map((value, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: value,\n                                                        onChange: (e)=>{\n                                                            const newVars = [\n                                                                ...newChatTemplateVariables\n                                                            ];\n                                                            newVars[index] = e.target.value;\n                                                            setNewChatTemplateVariables(newVars);\n                                                        },\n                                                        placeholder: \"Valor para {{\".concat(index + 1, \"}}\"),\n                                                        className: \"w-full px-2 py-1.5 bg-dark-bg border border-dark-border rounded text-white text-sm placeholder-gray-500 focus:outline-none focus:border-neon-blue\"\n                                                    }, index, false, {\n                                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                        lineNumber: 1235,\n                                                        columnNumber: 25\n                                                    }, this))\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1232,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1185,\n                                    columnNumber: 17\n                                }, this),\n                                !newChatUseTemplate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm text-gray-400 mb-1\",\n                                            children: \"Mensaje\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1255,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            value: newChatMessage,\n                                            onChange: (e)=>setNewChatMessage(e.target.value),\n                                            placeholder: \"Escribe tu mensaje...\",\n                                            rows: 3,\n                                            className: \"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-neon-blue resize-none\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                            lineNumber: 1256,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1254,\n                                    columnNumber: 17\n                                }, this),\n                                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-3 py-2 bg-accent-error/10 border border-accent-error/20 rounded-lg text-accent-error text-sm\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1267,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSendNewChat,\n                                    disabled: newChatSending || !newChatPhone.trim() || !newChatMessage.trim() && !selectedNewChatTemplate || !!(selectedNewChatTemplate && newChatTemplateVariables.length > 0 && newChatTemplateVariables.some((v)=>!v.trim())),\n                                    className: \"w-full py-2.5 bg-neon-blue text-dark-bg rounded-lg font-medium hover:bg-neon-blue-light disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n                                    children: newChatSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-4 h-4 border-2 border-dark-bg border-t-transparent rounded-full animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                                lineNumber: 1279,\n                                                columnNumber: 21\n                                            }, this),\n                                            \"Enviando...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                        lineNumber: 1278,\n                                        columnNumber: 19\n                                    }, this) : \"Enviar mensaje\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1272,\n                                    columnNumber: 15\n                                }, this),\n                                instanceProvider === \"META_CLOUD\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500 text-center\",\n                                    children: \"Para numeros nuevos en Meta Cloud, usa una plantilla aprobada\"\n                                }, void 0, false, {\n                                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                                    lineNumber: 1288,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                            lineNumber: 1171,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                    lineNumber: 1164,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n                lineNumber: 1163,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/runner/workspace/frontend/app/dashboard/chat/page.tsx\",\n        lineNumber: 766,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"Lz5GiD9hMndX/X7mVRH75/P793c=\", false, function() {\n    return [\n        _store_business__WEBPACK_IMPORTED_MODULE_2__.useBusinessStore\n    ];\n});\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9kYXNoYm9hcmQvY2hhdC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVpRTtBQUNiO0FBQ29EO0FBK0R6RixTQUFTWTtRQSt6Qk9DLGdCQXlMUkMsMENBQUFBOzs7SUF2L0JyQixNQUFNLEVBQUVDLGVBQWUsRUFBRSxHQUFHWCxpRUFBZ0JBO0lBQzVDLE1BQU0sQ0FBQ1ksZUFBZUMsaUJBQWlCLEdBQUdqQiwrQ0FBUUEsQ0FBaUIsRUFBRTtJQUNyRSxNQUFNLENBQUNrQixlQUFlQyxpQkFBaUIsR0FBR25CLCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNLENBQUNvQixxQkFBcUJDLHVCQUF1QixHQUFHckIsK0NBQVFBLENBQVM7SUFDdkUsTUFBTSxDQUFDc0IsVUFBVUMsWUFBWSxHQUFHdkIsK0NBQVFBLENBQVksRUFBRTtJQUN0RCxNQUFNLENBQUN3QixZQUFZQyxjQUFjLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUMwQixTQUFTQyxXQUFXLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUM0QixTQUFTQyxXQUFXLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUM4QixjQUFjQyxnQkFBZ0IsR0FBRy9CLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2dDLFdBQVdDLGFBQWEsR0FBR2pDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ2tDLGFBQWFDLGVBQWUsR0FBR25DLCtDQUFRQSxDQUFtRDtJQUNqRyxNQUFNLENBQUNvQyxPQUFPQyxTQUFTLEdBQUdyQywrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDc0MsYUFBYUMsZUFBZSxHQUFHdkMsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDd0MsYUFBYUMsZUFBZSxHQUFHekMsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDMEMsVUFBVUMsWUFBWSxHQUFHM0MsK0NBQVFBLENBQW9CO0lBQzVELE1BQU0sQ0FBQzRDLE1BQU1DLFFBQVEsR0FBRzdDLCtDQUFRQSxDQUFRLEVBQUU7SUFDMUMsTUFBTSxDQUFDOEMsYUFBYUMsZUFBZSxHQUFHL0MsK0NBQVFBLENBQWtCLEVBQUU7SUFDbEUsTUFBTSxDQUFDZ0QsYUFBYUMsZUFBZSxHQUFHakQsK0NBQVFBLENBQWdCO0lBQzlELE1BQU0sQ0FBQ2tELGNBQWNDLGdCQUFnQixHQUFHbkQsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDb0QsY0FBY0MsZ0JBQWdCLEdBQUdyRCwrQ0FBUUEsQ0FBc0I7SUFDdEUsTUFBTSxDQUFDc0QsZUFBZUMsaUJBQWlCLEdBQUd2RCwrQ0FBUUEsQ0FBMkI7SUFDN0UsTUFBTSxDQUFDd0Qsb0JBQW9CQyxzQkFBc0IsR0FBR3pELCtDQUFRQSxDQUFVO0lBQ3RFLE1BQU0sQ0FBQzBELG9CQUFvQkMsc0JBQXNCLEdBQUczRCwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUM0RCxXQUFXQyxhQUFhLEdBQUc3RCwrQ0FBUUEsQ0FBYSxFQUFFO0lBQ3pELE1BQU0sQ0FBQzhELG1CQUFtQkMscUJBQXFCLEdBQUcvRCwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUNnRSxpQkFBaUJDLG1CQUFtQixHQUFHakUsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDa0UsYUFBYUMsZUFBZSxHQUFHbkUsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDb0Usa0JBQWtCQyxvQkFBb0IsR0FBR3JFLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ3NFLGNBQWNDLGdCQUFnQixHQUFHdkUsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDd0UsZ0JBQWdCQyxrQkFBa0IsR0FBR3pFLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQzBFLGdCQUFnQkMsa0JBQWtCLEdBQUczRSwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUM0RSxrQkFBa0JDLG9CQUFvQixHQUFHN0UsK0NBQVFBLENBQWdCO0lBQ3hFLE1BQU0sQ0FBQzhFLGtCQUFrQkMsb0JBQW9CLEdBQUcvRSwrQ0FBUUEsQ0FBYSxFQUFFO0lBQ3ZFLE1BQU0sQ0FBQ2dGLG9CQUFvQkMsc0JBQXNCLEdBQUdqRiwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUNrRix5QkFBeUJDLDJCQUEyQixHQUFHbkYsK0NBQVFBLENBQWtCO0lBQ3hGLE1BQU0sQ0FBQ29GLG1CQUFtQkMscUJBQXFCLEdBQUdyRiwrQ0FBUUEsQ0FBVyxFQUFFO0lBQ3ZFLE1BQU0sQ0FBQ3NGLDBCQUEwQkMsNEJBQTRCLEdBQUd2RiwrQ0FBUUEsQ0FBVyxFQUFFO0lBQ3JGLE1BQU0sQ0FBQ3dGLGFBQWFDLGVBQWUsR0FBR3pGLCtDQUFRQSxDQUFzQixDQUFDO0lBQ3JFLE1BQU0sQ0FBQzBGLGNBQWNDLGdCQUFnQixHQUFHM0YsK0NBQVFBLENBQW1EO0lBQ25HLE1BQU0sQ0FBQzRGLGtCQUFrQkMsb0JBQW9CLEdBQUc3RiwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNOEYsaUJBQWlCNUYsNkNBQU1BLENBQWlCO0lBQzlDLE1BQU02RixlQUFlN0YsNkNBQU1BLENBQW1CO0lBQzlDLE1BQU04RixXQUFXOUYsNkNBQU1BLENBQW1CO0lBQzFDLE1BQU0rRixtQkFBbUIvRiw2Q0FBTUEsQ0FBaUI7SUFDaEQsTUFBTWdHLG1CQUFtQmhHLDZDQUFNQSxDQUF1QjtJQUN0RCxNQUFNaUcsaUJBQWlCakcsNkNBQU1BLENBQXFCO0lBQ2xELE1BQU0sQ0FBQ2tHLGdCQUFnQkMsa0JBQWtCLEdBQUdyRywrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUNzRyxnQkFBZ0JDLGtCQUFrQixHQUFHdkcsK0NBQVFBLENBQUM7SUFDckQsTUFBTXdHLGtCQUFrQnRHLDZDQUFNQSxDQUFDO0lBQy9CLE1BQU11Ryx3QkFBd0J2Ryw2Q0FBTUEsQ0FBQztJQUVyQ0QsZ0RBQVNBLENBQUM7UUFDUixNQUFNeUcsdUJBQXVCO1lBQzNCLElBQUksS0FBa0IsSUFBZUMsT0FBT0MsY0FBYyxFQUFFO2dCQUMxRCxNQUFNQyxXQUFXRixPQUFPQyxjQUFjO2dCQUN0QyxNQUFNRSxlQUFlSCxPQUFPSSxXQUFXO2dCQUN2QyxNQUFNQyxpQkFBaUJILFNBQVNJLE1BQU07Z0JBQ3RDLE1BQU1DLG9CQUFvQkosZUFBZUU7Z0JBRXpDLElBQUlFLG9CQUFvQixLQUFLO29CQUMzQmIsa0JBQWtCYTtvQkFDbEJDLFdBQVc7NEJBQ1RyQjt5QkFBQUEsMEJBQUFBLGVBQWVzQixPQUFPLGNBQXRCdEIsOENBQUFBLHdCQUF3QnVCLGNBQWMsQ0FBQzs0QkFBRUMsVUFBVTs0QkFBVUMsT0FBTzt3QkFBTTtvQkFDNUUsR0FBRztnQkFDTCxPQUFPO29CQUNMbEIsa0JBQWtCO2dCQUNwQjtZQUNGO1FBQ0Y7UUFFQSxJQUFJLEtBQWtCLElBQWVNLE9BQU9DLGNBQWMsRUFBRTtZQUMxREQsT0FBT0MsY0FBYyxDQUFDWSxnQkFBZ0IsQ0FBQyxVQUFVZDtZQUNqREMsT0FBT0MsY0FBYyxDQUFDWSxnQkFBZ0IsQ0FBQyxVQUFVZDtRQUNuRDtRQUVBLE9BQU87WUFDTCxJQUFJLEtBQWtCLElBQWVDLE9BQU9DLGNBQWMsRUFBRTtnQkFDMURELE9BQU9DLGNBQWMsQ0FBQ2EsbUJBQW1CLENBQUMsVUFBVWY7Z0JBQ3BEQyxPQUFPQyxjQUFjLENBQUNhLG1CQUFtQixDQUFDLFVBQVVmO1lBQ3REO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFFTHpHLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWMsaUJBQWlCO1lBQ25CMkc7WUFDQUM7WUFDQUM7WUFDQSxNQUFNQyxXQUFXQyxZQUFZO2dCQUMzQko7Z0JBQ0FFO1lBQ0YsR0FBRztZQUNILE9BQU8sSUFBTUcsY0FBY0Y7UUFDN0I7SUFDRixHQUFHO1FBQUM5RztLQUFnQjtJQUVwQixNQUFNNkcscUJBQXFCO1FBQ3pCLElBQUksQ0FBQzdHLGlCQUFpQjtRQUN0QixJQUFJO1lBQ0YsTUFBTWlILFdBQVcsTUFBTXRILGdEQUFVQSxDQUFDdUgsZ0JBQWdCLENBQUNsSCxnQkFBZ0JtSCxFQUFFO1lBQ3JFM0UsaUJBQWlCeUUsU0FBU0csSUFBSTtRQUNoQyxFQUFFLE9BQU9DLEtBQUs7WUFDWkMsUUFBUWpHLEtBQUssQ0FBQyxtQ0FBbUNnRztRQUNuRDtJQUNGO0lBRUEsTUFBTVQsWUFBWTtRQUNoQixJQUFJLENBQUM1RyxpQkFBaUI7UUFDdEIsSUFBSTtZQUNGLE1BQU0sQ0FBQ3VILFNBQVNDLGVBQWUsR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7Z0JBQ2xEaEksNkNBQU9BLENBQUNpSSxJQUFJLENBQUMzSCxnQkFBZ0JtSCxFQUFFO2dCQUMvQnpILDZDQUFPQSxDQUFDa0ksY0FBYyxDQUFDNUgsZ0JBQWdCbUgsRUFBRTthQUMxQztZQUNEckYsUUFBUXlGLFFBQVFILElBQUk7WUFDcEJwRixlQUFld0YsZUFBZUosSUFBSTtZQUVsQyxJQUFJRyxRQUFRSCxJQUFJLENBQUNTLE1BQU0sS0FBSyxHQUFHO2dCQUM3QixNQUFNQyxVQUFVLE1BQU1wSSw2Q0FBT0EsQ0FBQ3FJLFlBQVksQ0FBQy9ILGdCQUFnQm1ILEVBQUU7Z0JBQzdEckYsUUFBUWdHLFFBQVFWLElBQUk7WUFDdEI7UUFDRixFQUFFLE9BQU9DLEtBQUs7WUFDWkMsUUFBUWpHLEtBQUssQ0FBQyx5QkFBeUJnRztRQUN6QztJQUNGO0lBRUEsTUFBTVcsa0JBQWtCLE9BQU9DLE9BQWVDO1FBQzVDLElBQUksQ0FBQ2xJLGlCQUFpQjtRQUN0QixJQUFJLENBQUNrSSxPQUFPO1lBQ1YsSUFBSTtnQkFDRjlGLGdCQUFnQjtnQkFDaEIsTUFBTTFDLDZDQUFPQSxDQUFDeUksUUFBUSxDQUFDO29CQUFFQyxhQUFhcEksZ0JBQWdCbUgsRUFBRTtvQkFBRWtCLGVBQWVKO2dCQUFNO2dCQUMvRXJCO1lBQ0YsRUFBRSxPQUFPUyxLQUFLO2dCQUNaQyxRQUFRakcsS0FBSyxDQUFDLDJCQUEyQmdHO1lBQzNDLFNBQVU7Z0JBQ1JqRixnQkFBZ0I7WUFDbEI7WUFDQTtRQUNGO1FBQ0FBLGdCQUFnQjtRQUNoQixJQUFJO1lBQ0YsTUFBTTFDLDZDQUFPQSxDQUFDNEksTUFBTSxDQUFDO2dCQUFFRixhQUFhcEksZ0JBQWdCbUgsRUFBRTtnQkFBRWtCLGVBQWVKO2dCQUFPTSxRQUFRTDtZQUFNO1lBQzVGdEI7UUFDRixFQUFFLE9BQU9TLEtBQUs7WUFDWkMsUUFBUWpHLEtBQUssQ0FBQyx5QkFBeUJnRztRQUN6QyxTQUFVO1lBQ1JqRixnQkFBZ0I7UUFDbEI7SUFDRjtJQUVBLE1BQU10QyxnQkFBZ0IsQ0FBQ21JO1FBQ3JCLE1BQU1PLGFBQWF6RyxZQUFZMEcsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxZQUFZLEtBQUtWO1FBQzVELE9BQU9PLHVCQUFBQSxpQ0FBQUEsV0FBWUksR0FBRztJQUN4QjtJQUVBLE1BQU1DLHdCQUF3QixDQUFDWDtRQUM3QixJQUFJLENBQUNBLE9BQU87WUFDVixNQUFNWSxpQkFBaUIvRyxZQUFZZ0gsR0FBRyxDQUFDTCxDQUFBQSxJQUFLQSxFQUFFQyxZQUFZO1lBQzFELE9BQU8xSSxjQUFjK0ksTUFBTSxDQUFDQyxDQUFBQSxJQUFLLENBQUNILGVBQWVJLFFBQVEsQ0FBQ0QsRUFBRWhCLEtBQUs7UUFDbkU7UUFDQSxNQUFNa0IsZUFBZXBILFlBQVlpSCxNQUFNLENBQUNOLENBQUFBLElBQUtBLEVBQUVSLEtBQUssS0FBS0EsT0FBT2EsR0FBRyxDQUFDTCxDQUFBQSxJQUFLQSxFQUFFQyxZQUFZO1FBQ3ZGLE9BQU8xSSxjQUFjK0ksTUFBTSxDQUFDQyxDQUFBQSxJQUFLRSxhQUFhRCxRQUFRLENBQUNELEVBQUVoQixLQUFLO0lBQ2hFO0lBRUEvSSxnREFBU0EsQ0FBQztRQUNSLElBQUlpQixpQkFBaUJILGlCQUFpQjtZQUNwQzBGLHNCQUFzQlcsT0FBTyxHQUFHO1lBQ2hDWixnQkFBZ0JZLE9BQU8sR0FBRztZQUMxQitDLGNBQWNqSjtZQUNka0osa0JBQWtCbEo7WUFDbEJtSixzQkFBc0JuSjtZQUN0Qm9KLDBCQUEwQnBKO1lBQzFCLE1BQU0yRyxXQUFXQyxZQUFZO2dCQUMzQnFDLGNBQWNqSjtnQkFDZGtKLGtCQUFrQmxKO2dCQUNsQm9KLDBCQUEwQnBKO1lBQzVCLEdBQUc7WUFDSCxPQUFPLElBQU02RyxjQUFjRjtRQUM3QjtJQUNGLEdBQUc7UUFBQzNHO1FBQWVIO0tBQWdCO0lBRW5DLE1BQU1zSix3QkFBd0IsT0FBT3JCO1FBQ25DLElBQUksQ0FBQ2pJLGlCQUFpQjtRQUN0QixJQUFJO1lBQ0YsTUFBTWlILFdBQVcsTUFBTXZILDZDQUFPQSxDQUFDOEosbUJBQW1CLENBQUN4SixnQkFBZ0JtSCxFQUFFLEVBQUVjO1lBQ3ZFdkYsc0JBQXNCdUUsU0FBU0csSUFBSSxDQUFDcUMsV0FBVyxJQUFJO1FBQ3JELEVBQUUsT0FBT3BDLEtBQUs7WUFDWkMsUUFBUWpHLEtBQUssQ0FBQyx1Q0FBdUNnRztZQUNyRDNFLHNCQUFzQjtRQUN4QjtJQUNGO0lBRUEsTUFBTTZHLDRCQUE0QixPQUFPdEI7UUFDdkMsSUFBSSxDQUFDakksaUJBQWlCO1FBQ3RCLElBQUk7WUFDRixNQUFNaUgsV0FBVyxNQUFNdkgsNkNBQU9BLENBQUNnSyx1QkFBdUIsQ0FBQzFKLGdCQUFnQm1ILEVBQUUsRUFBRWM7WUFDM0V2RCxlQUFldUMsU0FBU0csSUFBSSxDQUFDdUMsYUFBYSxJQUFJLENBQUM7WUFDL0MvRSxnQkFBZ0JxQyxTQUFTRyxJQUFJLENBQUN6QyxZQUFZLElBQUk7UUFDaEQsRUFBRSxPQUFPMEMsS0FBSztZQUNaQyxRQUFRakcsS0FBSyxDQUFDLDJDQUEyQ2dHO1lBQ3pEM0MsZUFBZSxDQUFDO1FBQ2xCO0lBQ0Y7SUFFQSxNQUFNa0YseUJBQXlCO1FBQzdCLElBQUksQ0FBQzVKLG1CQUFtQixDQUFDRyxlQUFlO1FBQ3hDeUMsc0JBQXNCO1FBQ3RCLElBQUk7WUFDRixNQUFNaUgsWUFBWSxDQUFDcEg7WUFDbkIsTUFBTS9DLDZDQUFPQSxDQUFDb0ssZ0JBQWdCLENBQUM5SixnQkFBZ0JtSCxFQUFFLEVBQUVoSCxlQUFlMEo7WUFDbEVuSCxzQkFBc0JtSDtRQUN4QixFQUFFLE9BQU94QyxLQUFLO1lBQ1pDLFFBQVFqRyxLQUFLLENBQUMsaUNBQWlDZ0c7UUFDakQsU0FBVTtZQUNSekUsc0JBQXNCO1FBQ3hCO0lBQ0Y7SUFFQSxNQUFNeUcsb0JBQW9CLE9BQU9wQjtRQUMvQixJQUFJLENBQUNqSSxpQkFBaUI7UUFDdEIsSUFBSTtZQUNGLE1BQU1pSCxXQUFXLE1BQU0zSCxnREFBVUEsQ0FBQytDLFlBQVksQ0FBQ3JDLGdCQUFnQm1ILEVBQUUsRUFBRWM7WUFDbkUzRixnQkFBZ0IyRSxTQUFTRyxJQUFJO1FBQy9CLEVBQUUsT0FBT0MsS0FBSztZQUNaQyxRQUFRakcsS0FBSyxDQUFDLGtDQUFrQ2dHO1FBQ2xEO0lBQ0Y7SUFFQSxNQUFNMEMsaUJBQWlCO1FBQ3JCLElBQUksQ0FBQy9KLGlCQUFpQjtRQUN0QixJQUFJO1lBQ0YsTUFBTWlILFdBQVcsTUFBTXJILGtEQUFZQSxDQUFDK0gsSUFBSSxDQUFDM0gsZ0JBQWdCbUgsRUFBRTtZQUMzRCxNQUFNNkMsb0JBQW9CLENBQUMvQyxTQUFTRyxJQUFJLElBQUksRUFBRSxFQUFFNEIsTUFBTSxDQUFDLENBQUNpQixJQUFnQkEsRUFBRUMsTUFBTSxLQUFLO1lBQ3JGcEgsYUFBYWtIO1FBQ2YsRUFBRSxPQUFPM0MsS0FBSztZQUNaQyxRQUFRakcsS0FBSyxDQUFDLDhCQUE4QmdHO1FBQzlDO0lBQ0Y7SUFFQSxNQUFNOEMsMkJBQTJCLENBQUNDO1lBQ1ZBO1FBQXRCLE1BQU1DLGlCQUFnQkQsdUJBQUFBLFNBQVNFLFVBQVUsY0FBbkJGLDJDQUFBQSxxQkFBcUIzQixJQUFJLENBQUMsQ0FBQ1EsSUFBV0EsRUFBRXNCLElBQUksS0FBSztRQUN2RSxJQUFJLEVBQUNGLDBCQUFBQSxvQ0FBQUEsY0FBZUcsSUFBSSxHQUFFLE9BQU87UUFDakMsTUFBTUMsVUFBVUosY0FBY0csSUFBSSxDQUFDRSxLQUFLLENBQUMsbUJBQW1CLEVBQUU7UUFDOUQsT0FBT0QsUUFBUTVDLE1BQU07SUFDdkI7SUFFQSxNQUFNLENBQUM5SCx5QkFBeUI0SywyQkFBMkIsR0FBRzFMLCtDQUFRQSxDQUFrQjtJQUV4RixNQUFNMkwsdUJBQXVCLENBQUNSO1FBQzVCLE1BQU1TLFdBQVdWLHlCQUF5QkM7UUFDMUMsSUFBSVMsV0FBVyxHQUFHO1lBQ2hCRiwyQkFBMkJQO1lBQzNCOUYscUJBQXFCd0csTUFBTUQsVUFBVUUsSUFBSSxDQUFDO1FBQzVDLE9BQU87WUFDTEMsbUJBQW1CWixVQUFVLEVBQUU7UUFDakM7SUFDRjtJQUVBLE1BQU1ZLHFCQUFxQixPQUFPWixVQUFvQmE7UUFDcEQsSUFBSSxDQUFDakwsbUJBQW1CLENBQUNHLGVBQWU7UUFDeEMrQyxtQkFBbUI7UUFDbkIsSUFBSTtZQUNGLE1BQU10RCxrREFBWUEsQ0FBQ3NMLElBQUksQ0FBQ2xMLGdCQUFnQm1ILEVBQUUsRUFBRTtnQkFDMUNnRSxjQUFjZixTQUFTZ0IsSUFBSTtnQkFDM0JDLElBQUlsTDtnQkFDSjhLLFdBQVdBLFVBQVVwRCxNQUFNLEdBQUcsSUFBSW9ELFlBQVlLO1lBQ2hEO1lBQ0F0SSxxQkFBcUI7WUFDckIySCwyQkFBMkI7WUFDM0JyRyxxQkFBcUIsRUFBRTtZQUN2QjhFLGNBQWNqSjtRQUNoQixFQUFFLE9BQU9rSCxLQUFVO2dCQUVSQSxvQkFBQUE7WUFEVEMsUUFBUWpHLEtBQUssQ0FBQyw0QkFBNEJnRztZQUMxQy9GLFNBQVMrRixFQUFBQSxnQkFBQUEsSUFBSUosUUFBUSxjQUFaSSxxQ0FBQUEscUJBQUFBLGNBQWNELElBQUksY0FBbEJDLHlDQUFBQSxtQkFBb0JoRyxLQUFLLEtBQUk7WUFDdEMrRSxXQUFXLElBQU05RSxTQUFTLE9BQU87UUFDbkMsU0FBVTtZQUNSNEIsbUJBQW1CO1FBQ3JCO0lBQ0Y7SUFFQWhFLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSW1ELENBQUFBLHlCQUFBQSxtQ0FBQUEsYUFBY2tKLFFBQVEsTUFBSyxnQkFBZ0IsRUFBQ2xKLHlCQUFBQSxtQ0FBQUEsYUFBY21KLFVBQVUsR0FBRTtZQUN4RXpCO1FBQ0Y7SUFDRixHQUFHO1FBQUMxSDtRQUFjckM7S0FBZ0I7SUFFbEMsTUFBTXlMLHdCQUF3QjtRQUM1QixJQUFJLENBQUN6TCxpQkFBaUI7UUFDdEIsSUFBSTtnQkFFRWlIO1lBREosTUFBTUEsV0FBVyxNQUFNMUgsMkNBQUtBLENBQUMySyxNQUFNLENBQUNsSyxnQkFBZ0JtSCxFQUFFO1lBQ3RELEtBQUlGLGlCQUFBQSxTQUFTRyxJQUFJLGNBQWJILHFDQUFBQSxlQUFlc0UsUUFBUSxFQUFFO2dCQUMzQnpILG9CQUFvQm1ELFNBQVNHLElBQUksQ0FBQ21FLFFBQVE7WUFDNUM7UUFDRixFQUFFLE9BQU9sRSxLQUFLO1lBQ1pDLFFBQVFqRyxLQUFLLENBQUMsc0NBQXNDZ0c7UUFDdEQ7SUFDRjtJQUVBLE1BQU1xRSx3QkFBd0I7UUFDNUIsSUFBSSxDQUFDMUwsaUJBQWlCO1FBQ3RCLElBQUk7WUFDRixNQUFNaUgsV0FBVyxNQUFNckgsa0RBQVlBLENBQUMrSCxJQUFJLENBQUMzSCxnQkFBZ0JtSCxFQUFFO1lBQzNELE1BQU02QyxvQkFBb0IsQ0FBQy9DLFNBQVNHLElBQUksSUFBSSxFQUFFLEVBQUU0QixNQUFNLENBQUMsQ0FBQ2lCLElBQWdCQSxFQUFFQyxNQUFNLEtBQUs7WUFDckZsRyxvQkFBb0JnRztRQUN0QixFQUFFLE9BQU8zQyxLQUFLO1lBQ1pDLFFBQVFqRyxLQUFLLENBQUMsMkNBQTJDZ0c7UUFDM0Q7SUFDRjtJQUVBLE1BQU1zRSxtQkFBbUI7UUFDdkJuSSxnQkFBZ0I7UUFDaEJFLGtCQUFrQjtRQUNsQlEsc0JBQXNCO1FBQ3RCRSwyQkFBMkI7UUFDM0JxSDtRQUNBLElBQUk1SCxxQkFBcUIsY0FBYztZQUNyQzZIO1FBQ0Y7UUFDQXBJLG9CQUFvQjtJQUN0QjtJQUVBcEUsZ0RBQVNBLENBQUM7UUFDUixJQUFJbUUsb0JBQW9CUSxxQkFBcUIsY0FBYztZQUN6RDZIO1FBQ0Y7SUFDRixHQUFHO1FBQUNySTtRQUFrQlE7S0FBaUI7SUFFdkMsTUFBTStILG9CQUFvQjtRQUN4QixJQUFJLENBQUM1TCxtQkFBbUIsQ0FBQ3VELGFBQWFzSSxJQUFJLElBQUk7UUFFOUMsTUFBTUMsYUFBYXZJLGFBQWF3SSxPQUFPLENBQUMsT0FBTztRQUMvQyxJQUFJRCxXQUFXakUsTUFBTSxHQUFHLElBQUk7WUFDMUJ2RyxTQUFTO1lBQ1Q4RSxXQUFXLElBQU05RSxTQUFTLE9BQU87WUFDakM7UUFDRjtRQUVBLElBQUkyQyxzQkFBc0JFLHlCQUF5QjtZQUNqRCxNQUFNMEcsV0FBV1YseUJBQXlCaEc7WUFDMUMsSUFBSTBHLFdBQVcsS0FBS3RHLHlCQUF5QnlILElBQUksQ0FBQ0MsQ0FBQUEsSUFBSyxDQUFDQSxFQUFFSixJQUFJLEtBQUs7Z0JBQ2pFdkssU0FBUztnQkFDVDhFLFdBQVcsSUFBTTlFLFNBQVMsT0FBTztnQkFDakM7WUFDRjtRQUNGO1FBRUFzQyxrQkFBa0I7UUFDbEJ0QyxTQUFTO1FBRVQsSUFBSTtZQUNGLElBQUkyQyxzQkFBc0JFLHlCQUF5QjtnQkFDakQsTUFBTXZFLGtEQUFZQSxDQUFDc0wsSUFBSSxDQUFDbEwsZ0JBQWdCbUgsRUFBRSxFQUFFO29CQUMxQ2dFLGNBQWNoSCx3QkFBd0JpSCxJQUFJO29CQUMxQ0MsSUFBSVM7b0JBQ0piLFdBQVcxRyx5QkFBeUJzRCxNQUFNLEdBQUcsSUFBSXRELDJCQUEyQitHO2dCQUM5RTtZQUNGLE9BQU8sSUFBSTdILGVBQWVvSSxJQUFJLElBQUk7Z0JBQ2hDLE1BQU10TSwyQ0FBS0EsQ0FBQzJMLElBQUksQ0FBQ2xMLGdCQUFnQm1ILEVBQUUsRUFBRTtvQkFDbkNrRSxJQUFJUztvQkFDSkksU0FBU3pJO2dCQUNYO1lBQ0YsT0FBTztnQkFDTG5DLFNBQVM7Z0JBQ1RzQyxrQkFBa0I7Z0JBQ2xCO1lBQ0Y7WUFFQU4sb0JBQW9CO1lBQ3BCa0IsNEJBQTRCLEVBQUU7WUFDOUJtQztZQUNBdkcsaUJBQWlCMEw7WUFDakJ4TCx1QkFBdUI7WUFDdkI4SSxjQUFjMEM7WUFDZHpDLGtCQUFrQnlDO1FBQ3BCLEVBQUUsT0FBT3pFLEtBQVU7Z0JBRVJBLG9CQUFBQTtZQURUQyxRQUFRakcsS0FBSyxDQUFDLDRCQUE0QmdHO1lBQzFDL0YsU0FBUytGLEVBQUFBLGdCQUFBQSxJQUFJSixRQUFRLGNBQVpJLHFDQUFBQSxxQkFBQUEsY0FBY0QsSUFBSSxjQUFsQkMseUNBQUFBLG1CQUFvQmhHLEtBQUssS0FBSTtZQUN0QytFLFdBQVcsSUFBTTlFLFNBQVMsT0FBTztRQUNuQyxTQUFVO1lBQ1JzQyxrQkFBa0I7UUFDcEI7SUFDRjtJQUVBLE1BQU11SSx3QkFBd0JsTSxjQUFjK0ksTUFBTSxDQUFDb0QsQ0FBQUE7WUFJL0JBO1FBSGxCLElBQUksQ0FBQ2pKLFlBQVkwSSxJQUFJLElBQUksT0FBTztRQUNoQyxNQUFNUSxRQUFRbEosWUFBWW1KLFdBQVc7UUFDckMsTUFBTUMsYUFBYUgsS0FBS25FLEtBQUssQ0FBQ3FFLFdBQVcsR0FBR3BELFFBQVEsQ0FBQ21EO1FBQ3JELE1BQU1HLGFBQVlKLG9CQUFBQSxLQUFLSyxXQUFXLGNBQWhCTCx3Q0FBQUEsa0JBQWtCRSxXQUFXLEdBQUdwRCxRQUFRLENBQUNtRDtRQUMzRCxPQUFPRSxjQUFjQztJQUN2QjtJQUVBdE4sZ0RBQVNBLENBQUM7UUFDUixNQUFNd04sb0JBQW9CaEgsc0JBQXNCVyxPQUFPLEtBQUssS0FBSzlGLFNBQVNzSCxNQUFNLEdBQUc7UUFDbkYsTUFBTThFLGlCQUFpQnBNLFNBQVNzSCxNQUFNLEdBQUduQyxzQkFBc0JXLE9BQU87UUFFdEUsSUFBSXFHLHFCQUFzQkMsa0JBQWtCbEgsZ0JBQWdCWSxPQUFPLEVBQUc7Z0JBQ3BFdEI7YUFBQUEsMEJBQUFBLGVBQWVzQixPQUFPLGNBQXRCdEIsOENBQUFBLHdCQUF3QnVCLGNBQWMsQ0FBQztnQkFBRUMsVUFBVTtZQUFTO1FBQzlEO1FBRUFiLHNCQUFzQlcsT0FBTyxHQUFHOUYsU0FBU3NILE1BQU07SUFDakQsR0FBRztRQUFDdEg7S0FBUztJQUViLE1BQU1vRyxxQkFBcUI7UUFDekIsSUFBSSxDQUFDM0csaUJBQWlCO1FBQ3RCLElBQUk7WUFDRixNQUFNaUgsV0FBVyxNQUFNM0gsZ0RBQVVBLENBQUNXLGFBQWEsQ0FBQ0QsZ0JBQWdCbUgsRUFBRTtZQUNsRWpILGlCQUFpQitHLFNBQVNHLElBQUk7UUFDaEMsRUFBRSxPQUFPQyxLQUFLO1lBQ1pDLFFBQVFqRyxLQUFLLENBQUMsa0NBQWtDZ0c7UUFDbEQsU0FBVTtZQUNSekcsV0FBVztRQUNiO0lBQ0Y7SUFFQSxNQUFNd0ksZ0JBQWdCLE9BQU9uQjtRQUMzQixJQUFJLENBQUNqSSxpQkFBaUI7UUFDdEIsSUFBSTtZQUNGLE1BQU1pSCxXQUFXLE1BQU0zSCxnREFBVUEsQ0FBQ3NOLFlBQVksQ0FBQzVNLGdCQUFnQm1ILEVBQUUsRUFBRWM7WUFDbkV6SCxZQUFZeUcsU0FBU0csSUFBSTtRQUMzQixFQUFFLE9BQU9DLEtBQUs7WUFDWkMsUUFBUWpHLEtBQUssQ0FBQyw2QkFBNkJnRztRQUM3QztJQUNGO0lBRUEsTUFBTXdGLGFBQWEsT0FBT0M7UUFDeEJBLEVBQUVDLGNBQWM7UUFDaEIsSUFBSSxDQUFDL00sbUJBQW1CLENBQUNHLGlCQUFrQixDQUFDTSxXQUFXb0wsSUFBSSxNQUFNLENBQUMxSyxhQUFjO1FBRWhGTCxXQUFXO1FBQ1hRLFNBQVM7UUFFVCxJQUFJO1lBQ0YsSUFBSUgsYUFBYTtnQkFDZkQsYUFBYTtnQkFDYixNQUFNOEwsWUFBWSxNQUFNeE4sOENBQVFBLENBQUN5TixNQUFNLENBQUNqTixnQkFBZ0JtSCxFQUFFLEVBQUVoRyxZQUFZK0wsSUFBSTtnQkFDNUUsTUFBTSxFQUFFQyxHQUFHLEVBQUU1QyxJQUFJLEVBQUU2QyxRQUFRLEVBQUUsR0FBR0osVUFBVTVGLElBQUk7Z0JBRTlDLE1BQU1pRyxXQUFnQjtvQkFBRWhDLElBQUlsTDtnQkFBYztnQkFDMUMsSUFBSW9LLFNBQVMsU0FBUztvQkFDcEI4QyxTQUFTQyxRQUFRLEdBQUdIO29CQUNwQkUsU0FBU25CLE9BQU8sR0FBR3pMLGNBQWM2SztnQkFDbkMsT0FBTyxJQUFJZixTQUFTLFNBQVM7b0JBQzNCOEMsU0FBU0UsUUFBUSxHQUFHSjtvQkFDcEJFLFNBQVNuQixPQUFPLEdBQUd6TCxjQUFjNks7Z0JBQ25DLE9BQU8sSUFBSWYsU0FBUyxTQUFTO29CQUMzQjhDLFNBQVNHLFFBQVEsR0FBR0w7Z0JBQ3RCLE9BQU87b0JBQ0xFLFNBQVNJLE9BQU8sR0FBR047b0JBQ25CRSxTQUFTSyxRQUFRLEdBQUd2TSxZQUFZK0wsSUFBSSxDQUFDOUIsSUFBSTtvQkFDekNpQyxTQUFTTSxRQUFRLEdBQUdQLFlBQVlqTSxZQUFZK0wsSUFBSSxDQUFDM0MsSUFBSTtnQkFDdkQ7Z0JBRUEsTUFBTWhMLDJDQUFLQSxDQUFDMkwsSUFBSSxDQUFDbEwsZ0JBQWdCbUgsRUFBRSxFQUFFa0c7Z0JBQ3JDak0sZUFBZTtnQkFDZkYsYUFBYTtZQUNmLE9BQU87Z0JBQ0wsTUFBTTNCLDJDQUFLQSxDQUFDMkwsSUFBSSxDQUFDbEwsZ0JBQWdCbUgsRUFBRSxFQUFFO29CQUFFa0UsSUFBSWxMO29CQUFlK0wsU0FBU3pMO2dCQUFXO1lBQ2hGO1lBRUFDLGNBQWM7WUFDZDBJLGNBQWNqSjtRQUNoQixFQUFFLE9BQU9rSCxLQUFVO2dCQUVSQSxvQkFBQUE7WUFEVEMsUUFBUWpHLEtBQUssQ0FBQywyQkFBMkJnRztZQUN6Qy9GLFNBQVMrRixFQUFBQSxnQkFBQUEsSUFBSUosUUFBUSxjQUFaSSxxQ0FBQUEscUJBQUFBLGNBQWNELElBQUksY0FBbEJDLHlDQUFBQSxtQkFBb0JoRyxLQUFLLEtBQUk7WUFDdEMrRSxXQUFXLElBQU05RSxTQUFTLE9BQU87UUFDbkMsU0FBVTtZQUNSUixXQUFXO1lBQ1hJLGFBQWE7UUFDZjtJQUNGO0lBRUEsTUFBTTBNLG1CQUFtQixDQUFDZDtZQUNYQTtRQUFiLE1BQU1JLFFBQU9KLGtCQUFBQSxFQUFFZSxNQUFNLENBQUNDLEtBQUssY0FBZGhCLHNDQUFBQSxlQUFnQixDQUFDLEVBQUU7UUFDaEMsSUFBSSxDQUFDSSxNQUFNO1FBRVgsTUFBTUMsTUFBTVksSUFBSUMsZUFBZSxDQUFDZDtRQUNoQyxJQUFJM0MsT0FBTztRQUNYLElBQUkyQyxLQUFLM0MsSUFBSSxDQUFDMEQsVUFBVSxDQUFDLFdBQVcxRCxPQUFPO2FBQ3RDLElBQUkyQyxLQUFLM0MsSUFBSSxDQUFDMEQsVUFBVSxDQUFDLFdBQVcxRCxPQUFPO2FBQzNDLElBQUkyQyxLQUFLM0MsSUFBSSxDQUFDMEQsVUFBVSxDQUFDLFdBQVcxRCxPQUFPO1FBRWhEbkosZUFBZTtZQUFFOEw7WUFBTUM7WUFBSzVDO1FBQUs7UUFDakMsSUFBSXZGLGFBQWFxQixPQUFPLEVBQUVyQixhQUFhcUIsT0FBTyxDQUFDNkgsS0FBSyxHQUFHO0lBQ3pEO0lBRUEsTUFBTUMsZ0JBQWdCO1FBQ3BCLElBQUloTixhQUFhO1lBQ2Y0TSxJQUFJSyxlQUFlLENBQUNqTixZQUFZZ00sR0FBRztZQUNuQy9MLGVBQWU7UUFDakI7SUFDRjtJQUVBLE1BQU1pTixrQkFBa0I7UUFDdEIsSUFBSSxDQUFDck8saUJBQWlCO1FBQ3RCd0IsZUFBZTtRQUNmLElBQUk7WUFDRixNQUFNL0IsaURBQVdBLENBQUM2TyxTQUFTLENBQUN0TyxnQkFBZ0JtSCxFQUFFLEVBQUUsQ0FBQ25ILGdCQUFnQnVPLFVBQVU7WUFDM0UsTUFBTXRILFdBQVcsTUFBTXhILGlEQUFXQSxDQUFDK08sR0FBRyxDQUFDeE8sZ0JBQWdCbUgsRUFBRTtZQUN6RDlILDZEQUFnQkEsQ0FBQ29QLFFBQVEsQ0FBQztnQkFBRXpPLGlCQUFpQmlILFNBQVNHLElBQUk7WUFBQztRQUM3RCxFQUFFLE9BQU9DLEtBQUs7WUFDWkMsUUFBUWpHLEtBQUssQ0FBQyx5QkFBeUJnRztRQUN6QyxTQUFVO1lBQ1I3RixlQUFlO1FBQ2pCO0lBQ0Y7SUFFQSxNQUFNa04sdUJBQXVCO1FBQzNCLElBQUk7WUFDRixNQUFNQyxTQUFTLE1BQU1DLFVBQVVDLFlBQVksQ0FBQ0MsWUFBWSxDQUFDO2dCQUFFQyxPQUFPO1lBQUs7WUFDdkUzSixlQUFlaUIsT0FBTyxHQUFHc0k7WUFDekIsTUFBTUssZ0JBQWdCLElBQUlDLGNBQWNOO1lBQ3hDeEosaUJBQWlCa0IsT0FBTyxHQUFHMkk7WUFDM0IsTUFBTUUsY0FBc0IsRUFBRTtZQUU5QkYsY0FBY0csZUFBZSxHQUFHLENBQUNDLFFBQVVGLFlBQVlHLElBQUksQ0FBQ0QsTUFBTWhJLElBQUk7WUFDdEU0SCxjQUFjTSxNQUFNLEdBQUc7Z0JBQ3JCLE1BQU1DLFlBQVksSUFBSUMsS0FBS04sYUFBYTtvQkFBRTNFLE1BQU07Z0JBQWE7Z0JBQzdELE1BQU0yQyxPQUFPLElBQUl1QyxLQUFLO29CQUFDRjtpQkFBVSxFQUFFLGNBQWM7b0JBQUVoRixNQUFNO2dCQUFhO2dCQUN0RW5KLGVBQWU7b0JBQUU4TDtvQkFBTUMsS0FBS1ksSUFBSUMsZUFBZSxDQUFDZDtvQkFBTzNDLE1BQU07Z0JBQVE7Z0JBQ3JFb0UsT0FBT2UsU0FBUyxHQUFHQyxPQUFPLENBQUNDLENBQUFBLFFBQVNBLE1BQU1DLElBQUk7Z0JBQzlDbk8sZUFBZTtZQUNqQjtZQUVBc04sY0FBY2MsS0FBSztZQUNuQnBPLGVBQWU7UUFDakIsRUFBRSxPQUFPTCxPQUFPO1lBQ2RpRyxRQUFRakcsS0FBSyxDQUFDLCtCQUErQkE7WUFDN0NDLFNBQVM7UUFDWDtJQUNGO0lBRUEsTUFBTXlPLHNCQUFzQjtRQUMxQixJQUFJNUssaUJBQWlCa0IsT0FBTyxFQUFFbEIsaUJBQWlCa0IsT0FBTyxDQUFDd0osSUFBSTtJQUM3RDtJQUVBLE1BQU1HLG1CQUFtQjVRLGtEQUFXQSxDQUFDO1FBQ25Db0csa0JBQWtCO1FBQ2xCWSxXQUFXO2dCQUNUckI7YUFBQUEsMEJBQUFBLGVBQWVzQixPQUFPLGNBQXRCdEIsOENBQUFBLHdCQUF3QnVCLGNBQWMsQ0FBQztnQkFBRUMsVUFBVTtnQkFBVUMsT0FBTztZQUFNO1FBQzVFLEdBQUc7SUFDTCxHQUFHLEVBQUU7SUFFTCxNQUFNeUosa0JBQWtCN1Esa0RBQVdBLENBQUM7UUFDbENvRyxrQkFBa0I7SUFDcEIsR0FBRyxFQUFFO0lBRUwsTUFBTTBLLGFBQWEsQ0FBQ0M7UUFDbEIsTUFBTUMsT0FBTyxJQUFJQyxLQUFLRjtRQUN0QixPQUFPQyxLQUFLRSxrQkFBa0IsQ0FBQyxNQUFNO1lBQUVDLE1BQU07WUFBV0MsUUFBUTtRQUFVO0lBQzVFO0lBRUEsTUFBTUMsYUFBYSxDQUFDTjtRQUNsQixNQUFNQyxPQUFPLElBQUlDLEtBQUtGO1FBQ3RCLE1BQU1PLFFBQVEsSUFBSUw7UUFDbEIsSUFBSUQsS0FBS08sWUFBWSxPQUFPRCxNQUFNQyxZQUFZLElBQUksT0FBT1QsV0FBV0M7UUFDcEUsTUFBTVMsWUFBWSxJQUFJUCxLQUFLSztRQUMzQkUsVUFBVUMsT0FBTyxDQUFDRCxVQUFVRSxPQUFPLEtBQUs7UUFDeEMsSUFBSVYsS0FBS08sWUFBWSxPQUFPQyxVQUFVRCxZQUFZLElBQUksT0FBTztRQUM3RCxPQUFPUCxLQUFLVyxrQkFBa0IsQ0FBQyxNQUFNO1lBQUVDLEtBQUs7WUFBV0MsT0FBTztRQUFVO0lBQzFFO0lBRUEsTUFBTUMsYUFBYSxDQUFDL0QsTUFBZ0IscUNBQXFDZ0UsSUFBSSxDQUFDaEU7SUFDOUUsTUFBTWlFLGFBQWEsQ0FBQ2pFLE1BQWdCLGdDQUFnQ2dFLElBQUksQ0FBQ2hFO0lBQ3pFLE1BQU1rRSxhQUFhLENBQUNsRSxNQUFnQiw2Q0FBNkNnRSxJQUFJLENBQUNoRTtJQUV0RixNQUFNbUUsY0FBYztZQUFDLEVBQUVDLEdBQUcsRUFBRUMsVUFBVSxFQUF3Qzs7UUFDNUUsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUd6UywrQ0FBUUEsQ0FBQztRQUMzQyxNQUFNLENBQUMwUyxVQUFVQyxZQUFZLEdBQUczUywrQ0FBUUEsQ0FBQztRQUN6QyxNQUFNLENBQUM0UyxhQUFhQyxlQUFlLEdBQUc3UywrQ0FBUUEsQ0FBQztRQUMvQyxNQUFNOFMsV0FBVzVTLDZDQUFNQSxDQUFtQjtRQUMxQyxNQUFNNlMsY0FBYzdTLDZDQUFNQSxDQUFDO1lBQUM7WUFBSTtZQUFJO1lBQUc7WUFBSTtZQUFJO1lBQUk7WUFBSTtZQUFHO1lBQUk7WUFBSTtZQUFJO1NBQUc7UUFFekUsTUFBTThTLGFBQWE7WUFDakIsSUFBSUYsU0FBUzFMLE9BQU8sRUFBRTtnQkFDcEIsSUFBSW9MLFdBQVc7b0JBQ2JNLFNBQVMxTCxPQUFPLENBQUM2TCxLQUFLO2dCQUN4QixPQUFPO29CQUNMSCxTQUFTMUwsT0FBTyxDQUFDOEwsSUFBSTtnQkFDdkI7Z0JBQ0FULGFBQWEsQ0FBQ0Q7WUFDaEI7UUFDRjtRQUVBLE1BQU1XLGlCQUFpQixDQUFDQztZQUN0QixNQUFNQyxJQUFJQyxLQUFLQyxLQUFLLENBQUNILE1BQU07WUFDM0IsTUFBTUksSUFBSUYsS0FBS0MsS0FBSyxDQUFDSCxNQUFNO1lBQzNCLE9BQU8sR0FBUUksT0FBTEgsR0FBRSxLQUFpQyxPQUE5QkcsRUFBRUMsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRztRQUMxQztRQUVBLE1BQU1DLFdBQVdqQixXQUFXLElBQUlZLEtBQUtDLEtBQUssQ0FBQyxjQUFlYixXQUFZLE1BQU07UUFFNUUscUJBQ0UsOERBQUNrQjtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQy9EO29CQUNDZ0UsS0FBS2hCO29CQUNMUixLQUFLQTtvQkFDTHlCLFNBQVE7b0JBQ1JDLGtCQUFrQixDQUFDbkcsSUFBTThFLFlBQVksRUFBRy9ELE1BQU0sQ0FBc0I4RCxRQUFRO29CQUM1RXVCLGNBQWMsQ0FBQ3BHLElBQU1nRixlQUFlLEVBQUdqRSxNQUFNLENBQXNCZ0UsV0FBVztvQkFDOUVzQixTQUFTO3dCQUFRekIsYUFBYTt3QkFBUUksZUFBZTtvQkFBSTtvQkFDekRnQixXQUFVOzs7Ozs7OEJBRVosOERBQUNNO29CQUNDQyxTQUFTcEI7b0JBQ1RhLFdBQVcseUZBQWdMLE9BQXZGdEIsYUFBYSxrQ0FBa0M7OEJBRWxKQywwQkFDQyw4REFBQzZCO3dCQUFJUixXQUFVO3dCQUFVL0gsTUFBSzt3QkFBZXdJLFNBQVE7OzBDQUFZLDhEQUFDQztnQ0FBS0MsR0FBRTtnQ0FBSUMsR0FBRTtnQ0FBSUMsT0FBTTtnQ0FBSXpOLFFBQU87Ozs7OzswQ0FBTyw4REFBQ3NOO2dDQUFLQyxHQUFFO2dDQUFLQyxHQUFFO2dDQUFJQyxPQUFNO2dDQUFJek4sUUFBTzs7Ozs7Ozs7Ozs7NkNBRS9JLDhEQUFDb047d0JBQUlSLFdBQVU7d0JBQWlCL0gsTUFBSzt3QkFBZXdJLFNBQVE7a0NBQVksNEVBQUNLOzRCQUFLQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7OzhCQUdwRiw4REFBQ2hCO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ1pkLFlBQVkzTCxPQUFPLENBQUMwQyxHQUFHLENBQUMsQ0FBQytLLEdBQUdDLGtCQUMzQiw4REFBQ2xCO29DQUVDQyxXQUFXLHFEQUlWLE9BSENpQixJQUFJbkIsV0FDQ3BCLGFBQWEsYUFBYSxpQkFDMUJBLGFBQWEsZ0JBQWdCO29DQUVwQ3dDLE9BQU87d0NBQUU5TixRQUFRLEdBQUssT0FBRjROLEdBQUU7b0NBQUk7bUNBTnJCQzs7Ozs7Ozs7OztzQ0FVWCw4REFBQ0U7NEJBQUtuQixXQUFXLGVBQThELE9BQS9DdEIsYUFBYSxrQkFBa0I7c0NBQzVEWSxlQUFlUCxjQUFjLElBQUlBLGNBQWNGLFlBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUt0RTtRQW5FTUw7SUFxRU4sTUFBTTRDLGNBQWMsQ0FBQ0MsVUFBa0IzQyxZQUFxQjRDO1lBZ0N6Q0Q7UUEvQmpCLE1BQU01SixPQUFPNkosQ0FBQUEsc0JBQUFBLGdDQUFBQSxVQUFXOUgsV0FBVyxPQUFNO1FBQ3pDLE1BQU0rSCxVQUFVOUosU0FBUyxXQUFXQSxTQUFTLFNBQVM4RyxXQUFXOEM7UUFDakUsTUFBTUcsVUFBVS9KLFNBQVMsV0FBV0EsU0FBUyxhQUFhMkcsV0FBV2lEO1FBQ3JFLE1BQU1JLFVBQVVoSyxTQUFTLFdBQVc2RyxXQUFXK0M7UUFFL0MsSUFBSUcsU0FBUztZQUNYLHFCQUNFLDhEQUFDRTtnQkFDQ2pELEtBQUs0QztnQkFDTE0sS0FBSTtnQkFDSjNCLFdBQVU7Z0JBQ1ZrQixPQUFPO29CQUFFVSxXQUFXO29CQUFTQyxVQUFVO2dCQUFRO2dCQUMvQ3RCLFNBQVMsSUFBTXpOLE9BQU9nUCxJQUFJLENBQUNULFVBQVU7Ozs7OztRQUczQztRQUNBLElBQUlJLFNBQVM7WUFDWCxxQkFDRSw4REFBQzFCO2dCQUFJQyxXQUFVO2dCQUFzQ2tCLE9BQU87b0JBQUVXLFVBQVU7Z0JBQVE7MEJBQzlFLDRFQUFDRTtvQkFDQ3RELEtBQUs0QztvQkFDTFcsUUFBUTtvQkFDUmhDLFdBQVU7b0JBQ1ZrQixPQUFPO3dCQUFFVSxXQUFXO29CQUFROzs7Ozs7Ozs7OztRQUlwQztRQUNBLElBQUlMLFNBQVM7WUFDWCxxQkFBTyw4REFBQy9DO2dCQUFZQyxLQUFLNEM7Z0JBQVUzQyxZQUFZQTs7Ozs7O1FBQ2pEO1FBQ0EsTUFBTTlELFdBQVd5RyxFQUFBQSxzQkFBQUEsU0FBU1ksS0FBSyxDQUFDLEtBQUtDLEdBQUcsZ0JBQXZCYiwwQ0FBQUEsb0JBQTJCWSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSTtRQUM3RCxxQkFDRSw4REFBQ3JNO1lBQ0N1TSxNQUFNZDtZQUNOdEcsUUFBTztZQUNQcUgsS0FBSTtZQUNKcEMsV0FBVyw0Q0FBd0ksT0FBNUZ0QixhQUFhLG1DQUFtQzs7OEJBRXZHLDhEQUFDeUM7OEJBQUs7Ozs7Ozs4QkFDTiw4REFBQ0E7b0JBQUtuQixXQUFVOzhCQUFnQ3BGLFNBQVM3RixNQUFNLEdBQUcsS0FBSzZGLFNBQVN5SCxLQUFLLENBQUMsR0FBRyxNQUFNLFFBQVF6SDs7Ozs7Ozs7Ozs7O0lBRzdHO0lBRUEsSUFBSSxDQUFDMU4saUJBQWlCO1FBQ3BCLHFCQUNFLDhEQUFDNlM7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNzQzs4QkFBRTs7Ozs7Ozs7Ozs7Ozs7OztJQUlYO0lBRUEsTUFBTUMsZUFBZXRVLGdCQUFnQixDQUFDWjtJQUV0QyxNQUFNbVYsaUJBQWlCalEsaUJBQWlCLElBQ3BDO1FBQUVhLFFBQVEsd0JBQXVDLE9BQWZiLGdCQUFlO0lBQUssSUFDdERpRztJQUVKLHFCQUNFLDhEQUFDdUg7UUFDQ0UsS0FBSzdOO1FBQ0w0TixXQUFVO1FBQ1ZrQixPQUFPc0I7OzBCQUVQLDhEQUFDekM7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVyxHQUE4RCxPQUEzRHVDLGVBQWUsbUJBQW1CLDBCQUF5Qjs7MENBQzVFLDhEQUFDeEM7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUN5QztnREFBR3pDLFdBQVU7MERBQTJCOzs7Ozs7MERBQ3pDLDhEQUFDRDtnREFBSUMsV0FBVTs7a0VBQ2IsOERBQUNtQjt3REFBS25CLFdBQVU7a0VBQWdFM0csc0JBQXNCdEUsTUFBTTs7Ozs7O2tFQUM1Ryw4REFBQ3VMO3dEQUFPQyxTQUFTMUg7d0RBQWtCbUgsV0FBVTt3REFBMEUwQyxPQUFNO2tFQUMzSCw0RUFBQ2xDOzREQUFJUixXQUFVOzREQUFVL0gsTUFBSzs0REFBTzBLLFFBQU87NERBQWVsQyxTQUFRO3NFQUFZLDRFQUFDSztnRUFBSzhCLGVBQWM7Z0VBQVFDLGdCQUFlO2dFQUFRQyxhQUFhO2dFQUFHL0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7OztrRUFFdEosOERBQUNUO3dEQUFPQyxTQUFTLElBQU16UixZQUFZRCxhQUFhLFNBQVMsV0FBVzt3REFBU21SLFdBQVcsc0NBQXFJLE9BQS9GblIsYUFBYSxXQUFXLG1DQUFtQztrRUFDdExBLGFBQWEsdUJBQ1osOERBQUMyUjs0REFBSVIsV0FBVTs0REFBVS9ILE1BQUs7NERBQU8wSyxRQUFPOzREQUFlbEMsU0FBUTtzRUFBWSw0RUFBQ0s7Z0VBQUs4QixlQUFjO2dFQUFRQyxnQkFBZTtnRUFBUUMsYUFBYTtnRUFBRy9CLEdBQUU7Ozs7Ozs7Ozs7aUZBRXBKLDhEQUFDUDs0REFBSVIsV0FBVTs0REFBVS9ILE1BQUs7NERBQU8wSyxRQUFPOzREQUFlbEMsU0FBUTtzRUFBWSw0RUFBQ0s7Z0VBQUs4QixlQUFjO2dFQUFRQyxnQkFBZTtnRUFBUUMsYUFBYTtnRUFBRy9CLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0RBSzVKLDhEQUFDaEI7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDK0M7Z0RBQ0N0TCxNQUFLO2dEQUNMMkQsT0FBTy9LO2dEQUNQMlMsVUFBVSxDQUFDaEosSUFBTTFKLGVBQWUwSixFQUFFZSxNQUFNLENBQUNLLEtBQUs7Z0RBQzlDNkgsYUFBWTtnREFDWmpELFdBQVU7Ozs7OzswREFFWiw4REFBQ1E7Z0RBQUlSLFdBQVU7Z0RBQW1FL0gsTUFBSztnREFBTzBLLFFBQU87Z0RBQWVsQyxTQUFROzBEQUFZLDRFQUFDSztvREFBSzhCLGVBQWM7b0RBQVFDLGdCQUFlO29EQUFRQyxhQUFhO29EQUFHL0IsR0FBRTs7Ozs7Ozs7Ozs7NENBQzVNMVEsNkJBQ0MsOERBQUNpUTtnREFBT0MsU0FBUyxJQUFNalEsZUFBZTtnREFBSzBQLFdBQVU7MERBQ25ELDRFQUFDUTtvREFBSVIsV0FBVTtvREFBVS9ILE1BQUs7b0RBQU8wSyxRQUFPO29EQUFlbEMsU0FBUTs4REFBWSw0RUFBQ0s7d0RBQUs4QixlQUFjO3dEQUFRQyxnQkFBZTt3REFBUUMsYUFBYTt3REFBRy9CLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0NBSXpKdFIsK0JBQ0MsOERBQUNzUTt3Q0FBSUMsV0FBVyx5RUFBMFEsT0FBak12USxjQUFjeVQsU0FBUyxJQUFJLEtBQUsseUNBQXlDelQsY0FBY3lULFNBQVMsSUFBSSxLQUFLLDZDQUE2Qzs7MERBQzdPLDhEQUFDL0I7Z0RBQUtuQixXQUFVOztrRUFDZCw4REFBQ1E7d0RBQUlSLFdBQVU7d0RBQWMvSCxNQUFLO3dEQUFPMEssUUFBTzt3REFBZWxDLFNBQVE7a0VBQVksNEVBQUNLOzREQUFLOEIsZUFBYzs0REFBUUMsZ0JBQWU7NERBQVFDLGFBQWE7NERBQUcvQixHQUFFOzs7Ozs7Ozs7OztvREFBaVI7Ozs7Ozs7MERBRzNhLDhEQUFDSTtnREFBS25CLFdBQVU7O29EQUFldlEsY0FBYzBULEtBQUs7b0RBQUM7b0RBQUUxVCxjQUFjMlQsS0FBSzs7Ozs7Ozs7Ozs7OztvQ0FHM0V2VSxhQUFhLFlBQVlFLEtBQUtnRyxNQUFNLEdBQUcsbUJBQ3RDLDhEQUFDZ0w7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDTTtnREFBT0MsU0FBUyxJQUFNblIsZUFBZTtnREFBTzRRLFdBQVcsa0VBQXNLLE9BQXBHN1EsZ0JBQWdCLE9BQU8sMEJBQTBCOzBEQUFzRDs7Ozs7OzRDQUNoT0osS0FBS2tILEdBQUcsQ0FBQ0gsQ0FBQUEsb0JBQ1IsOERBQUN3SztvREFBb0JDLFNBQVMsSUFBTW5SLGVBQWUwRyxJQUFJekIsRUFBRTtvREFBRzJMLFdBQVU7b0RBQWlFa0IsT0FBTzt3REFBRW1DLGlCQUFpQmxVLGdCQUFnQjJHLElBQUl6QixFQUFFLEdBQUd5QixJQUFJd04sS0FBSyxHQUFHLEdBQWEsT0FBVnhOLElBQUl3TixLQUFLLEVBQUM7d0RBQUtBLE9BQU9uVSxnQkFBZ0IyRyxJQUFJekIsRUFBRSxHQUFHLFVBQVV5QixJQUFJd04sS0FBSztvREFBQzs7d0RBQUl4TixJQUFJd0MsSUFBSTt3REFBQzt3REFBR3ZDLHNCQUFzQkQsSUFBSXpCLEVBQUUsRUFBRVUsTUFBTTt3REFBQzs7bURBQXBUZSxJQUFJekIsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7MENBTTNCLDhEQUFDMEw7Z0NBQUlDLFdBQVU7MENBQ1puUyx3QkFDQyw4REFBQ2tTO29DQUFJQyxXQUFVOzhDQUFrQiw0RUFBQ0Q7d0NBQUlDLFdBQVU7Ozs7Ozs7Ozs7MkNBQzlDM0csc0JBQXNCdEUsTUFBTSxLQUFLLGtCQUNuQyw4REFBQ2dMO29DQUFJQyxXQUFVOztzREFDYiw4REFBQ0Q7NENBQUlDLFdBQVU7c0RBQ2IsNEVBQUNRO2dEQUFJUixXQUFVO2dEQUF3Qi9ILE1BQUs7Z0RBQU8wSyxRQUFPO2dEQUFlbEMsU0FBUTswREFBWSw0RUFBQ0s7b0RBQUs4QixlQUFjO29EQUFRQyxnQkFBZTtvREFBUUMsYUFBYTtvREFBRy9CLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7d0NBRW5LMVEsY0FBYyxpQ0FBaUM7Ozs7OzsyQ0FHbEQsQ0FBQ3hCLGFBQWEsV0FBV2tILHNCQUFzQjVHLGVBQWVrSyxxQkFBb0IsRUFBR3BELEdBQUcsQ0FBQyxDQUFDcUQ7b0NBQ3hGLE1BQU1pSyxhQUFhdlcsY0FBY3NNLEtBQUtuRSxLQUFLO29DQUMzQyxxQkFDRSw4REFBQ21MO3dDQUF3QkMsU0FBUzs0Q0FBUWpULGlCQUFpQmdNLEtBQUtuRSxLQUFLOzRDQUFHM0gsdUJBQXVCOEwsS0FBS0ssV0FBVyxJQUFJOzRDQUFLekwsZ0JBQWdCO3dDQUFRO3dDQUFHOFIsV0FBVyxzRkFBd0ssT0FBbEYzUyxrQkFBa0JpTSxLQUFLbkUsS0FBSyxHQUFHLGdEQUFnRDs7MERBQ2pVLDhEQUFDNEs7Z0RBQUlDLFdBQVU7O2tFQUNiLDhEQUFDbUI7d0RBQUtuQixXQUFVO2tFQUFVOzs7Ozs7b0RBQ3pCdUQsNEJBQWMsOERBQUN4RDt3REFBSUMsV0FBVTt3REFBZ0ZrQixPQUFPOzREQUFFbUMsaUJBQWlCRSxXQUFXRCxLQUFLO3dEQUFDOzs7Ozs7Ozs7Ozs7MERBRTNKLDhEQUFDdkQ7Z0RBQUlDLFdBQVU7O2tFQUNiLDhEQUFDRDt3REFBSUMsV0FBVTs7MEVBQ2IsOERBQUNzQztnRUFBRXRDLFdBQVU7MEVBQTJDMUcsS0FBS0ssV0FBVyxJQUFJLElBQWUsT0FBWEwsS0FBS25FLEtBQUs7Ozs7OzswRUFDMUYsOERBQUNnTTtnRUFBS25CLFdBQVU7MEVBQTRDckMsV0FBV3JFLEtBQUtrSyxhQUFhOzs7Ozs7Ozs7Ozs7a0VBRTNGLDhEQUFDekQ7d0RBQUlDLFdBQVU7OzBFQUNiLDhEQUFDc0M7Z0VBQUV0QyxXQUFVOzBFQUF5QzFHLEtBQUttSyxXQUFXLElBQUk7Ozs7Ozs0REFDekVGLGNBQWMxVSxhQUFhLHdCQUFVLDhEQUFDc1M7Z0VBQUtuQixXQUFVO2dFQUFtRGtCLE9BQU87b0VBQUVtQyxpQkFBaUIsR0FBb0IsT0FBakJFLFdBQVdELEtBQUssRUFBQztvRUFBS0EsT0FBT0MsV0FBV0QsS0FBSztnRUFBQzswRUFBSUMsV0FBV2pMLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7dUNBWmhNZ0IsS0FBS25FLEtBQUs7Ozs7O2dDQWlCM0I7Ozs7Ozs7Ozs7OztrQ0FLTiw4REFBQzRLO3dCQUFJQyxXQUFXLEdBQTZDLE9BQTFDM1MsZ0JBQWdCLFNBQVMsa0JBQWlCO2tDQUMxREEsOEJBQ0M7OzhDQUNFLDhEQUFDMFM7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDTTs0Q0FBT0MsU0FBUztnREFBUXJTLGdCQUFnQjtnREFBT1osaUJBQWlCOzRDQUFPOzRDQUFHMFMsV0FBVTtzREFDbkYsNEVBQUNRO2dEQUFJUixXQUFVO2dEQUFVL0gsTUFBSztnREFBTzBLLFFBQU87Z0RBQWVsQyxTQUFROzBEQUFZLDRFQUFDSztvREFBSzhCLGVBQWM7b0RBQVFDLGdCQUFlO29EQUFRQyxhQUFhO29EQUFHL0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7OztzREFFdEosOERBQUNUOzRDQUFPQyxTQUFTLElBQU1yUyxnQkFBZ0IsQ0FBQ0Q7NENBQWUrUixXQUFVO3NEQUMvRCw0RUFBQ1E7Z0RBQUlSLFdBQVU7Z0RBQVUvSCxNQUFLO2dEQUFPMEssUUFBTztnREFBZWxDLFNBQVE7MERBQ2hFeFMsNkJBQWUsOERBQUM2UztvREFBSzhCLGVBQWM7b0RBQVFDLGdCQUFlO29EQUFRQyxhQUFhO29EQUFLL0IsR0FBRTs7Ozs7eUVBQXFDLDhEQUFDRDtvREFBSzhCLGVBQWM7b0RBQVFDLGdCQUFlO29EQUFRQyxhQUFhO29EQUFLL0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7OztzREFHdk0sOERBQUNoQjs0Q0FBSUMsV0FBVTtzREFDYiw0RUFBQ21CO2dEQUFLbkIsV0FBVTswREFBeUI7Ozs7Ozs7Ozs7O3NEQUUzQyw4REFBQ0Q7NENBQUlDLFdBQVU7OzhEQUNiLDhEQUFDc0M7b0RBQUV0QyxXQUFVOzhEQUFxQ3pTLHVCQUF1QixJQUFrQixPQUFkRjs7Ozs7OzhEQUM3RSw4REFBQzBTO29EQUFJQyxXQUFVOztzRUFDYiw4REFBQ007NERBQ0NDLFNBQVN6Sjs0REFDVDRNLFVBQVU3VDs0REFDVjZTLE9BQU8vUyxxQkFBcUIsdUNBQXVDOzREQUNuRXFRLFdBQVcsa0VBTVYsT0FMQ3JRLHFCQUNJLHlDQUNBekMsZ0JBQWdCdU8sVUFBVSxHQUN4Qiw2Q0FDQTtzRUFHUDlMLHFCQUFxQix5QkFBZXpDLGdCQUFnQnVPLFVBQVUsR0FBRyxxQkFBVzs7Ozs7O3dEQUU5RWxNLENBQUFBLHlCQUFBQSxtQ0FBQUEsYUFBY2tKLFFBQVEsTUFBSyw4QkFDMUIsOERBQUMwSTs0REFBS25CLFdBQVcsaUNBQXlJLE9BQXhHelEsYUFBYW1KLFVBQVUsR0FBRyxtQ0FBbUM7c0VBQzVHbkosYUFBYW1KLFVBQVUsR0FBRyxnQkFBa0MsT0FBNUJuSixhQUFhb1UsY0FBYyxFQUFDLE9BQUs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzREFLMUUsOERBQUNDOzRDQUFPeEksT0FBT3BPLEVBQUFBLGlCQUFBQSxjQUFjSyw0QkFBZEwscUNBQUFBLGVBQThCcUgsRUFBRSxLQUFJOzRDQUFJMk8sVUFBVSxDQUFDaEosSUFBTTlFLGdCQUFnQjdILGVBQWUyTSxFQUFFZSxNQUFNLENBQUNLLEtBQUs7NENBQUc0RSxXQUFVOzRDQUE4RjBELFVBQVVyVTs7OERBQ3hPLDhEQUFDd1U7b0RBQU96SSxPQUFNOzhEQUFHOzs7Ozs7Z0RBQ2hCck0sS0FBS2tILEdBQUcsQ0FBQ0gsQ0FBQUEsb0JBQU8sOERBQUMrTjt3REFBb0J6SSxPQUFPdEYsSUFBSXpCLEVBQUU7a0VBQUd5QixJQUFJd0MsSUFBSTt1REFBaEN4QyxJQUFJekIsRUFBRTs7Ozs7Ozs7Ozs7c0RBRXRDLDhEQUFDaU07NENBQ0NDLFNBQVMsSUFBTXZPLG9CQUFvQixDQUFDRDs0Q0FDcENpTyxXQUFXLHNDQUFpSixPQUEzR2pPLG1CQUFtQixtQ0FBbUM7NENBQ3ZHMlEsT0FBTTtzREFFTiw0RUFBQ2xDO2dEQUFJUixXQUFVO2dEQUFVL0gsTUFBSztnREFBTzBLLFFBQU87Z0RBQWVsQyxTQUFROzBEQUNqRSw0RUFBQ0s7b0RBQUs4QixlQUFjO29EQUFRQyxnQkFBZTtvREFBUUMsYUFBYTtvREFBRy9CLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0NBSzFFaFAsa0NBQ0MsOERBQUNnTztvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNEOzRDQUFJQyxXQUFVOzs4REFDYiw4REFBQzhEO29EQUFHOUQsV0FBVTs4REFBaUM7Ozs7OztnREFDOUNuTyw4QkFDQyw4REFBQ3NQO29EQUFLbkIsV0FBVTtvREFBbUNrQixPQUFPO3dEQUFFbUMsaUJBQWlCLEdBQXNCLE9BQW5CeFIsYUFBYXlSLEtBQUssRUFBQzt3REFBS0EsT0FBT3pSLGFBQWF5UixLQUFLO29EQUFDOzhEQUMvSHpSLGFBQWF5RyxJQUFJOzs7Ozs7Ozs7Ozs7d0NBSXZCeUwsT0FBT0MsSUFBSSxDQUFDclMsYUFBYW9ELE1BQU0sR0FBRyxrQkFDakMsOERBQUNnTDs0Q0FBSUMsV0FBVTs7Z0RBQ1pyTyxZQUFZc1MsTUFBTSxrQkFDakIsOERBQUNsRTs7c0VBQUksOERBQUNvQjs0REFBS25CLFdBQVU7c0VBQWdCOzs7Ozs7d0RBQWM7c0VBQUMsOERBQUNtQjs0REFBS25CLFdBQVU7c0VBQWNyTyxZQUFZc1MsTUFBTTs7Ozs7Ozs7Ozs7O2dEQUVyR3RTLFlBQVl1UyxLQUFLLGtCQUNoQiw4REFBQ25FOztzRUFBSSw4REFBQ29COzREQUFLbkIsV0FBVTtzRUFBZ0I7Ozs7Ozt3REFBYTtzRUFBQyw4REFBQ21COzREQUFLbkIsV0FBVTtzRUFBY3JPLFlBQVl1UyxLQUFLOzs7Ozs7Ozs7Ozs7Z0RBRW5HdlMsWUFBWXdTLFNBQVMsa0JBQ3BCLDhEQUFDcEU7b0RBQUlDLFdBQVU7O3NFQUFhLDhEQUFDbUI7NERBQUtuQixXQUFVO3NFQUFnQjs7Ozs7O3dEQUFpQjtzRUFBQyw4REFBQ21COzREQUFLbkIsV0FBVTtzRUFBY3JPLFlBQVl3UyxTQUFTOzs7Ozs7Ozs7Ozs7Z0RBRWxJeFMsWUFBWXlTLE1BQU0sa0JBQ2pCLDhEQUFDckU7O3NFQUFJLDhEQUFDb0I7NERBQUtuQixXQUFVO3NFQUFnQjs7Ozs7O3dEQUFjO3NFQUFDLDhEQUFDbUI7NERBQUtuQixXQUFVO3NFQUFjck8sWUFBWXlTLE1BQU07Ozs7Ozs7Ozs7OztnREFFckd6UyxZQUFZMFMsYUFBYSxrQkFDeEIsOERBQUN0RTs7c0VBQUksOERBQUNvQjs0REFBS25CLFdBQVU7c0VBQWdCOzs7Ozs7d0RBQVk7c0VBQUMsOERBQUNtQjs0REFBS25CLFdBQVU7c0VBQWNyTyxZQUFZMFMsYUFBYTs7Ozs7Ozs7Ozs7O2dEQUUxRzFTLFlBQVkyUyxTQUFTLGtCQUNwQiw4REFBQ3ZFOztzRUFBSSw4REFBQ29COzREQUFLbkIsV0FBVTtzRUFBZ0I7Ozs7Ozt3REFBaUI7c0VBQUMsOERBQUNtQjs0REFBS25CLFdBQVU7c0VBQWNyTyxZQUFZMlMsU0FBUzs7Ozs7Ozs7Ozs7O2dEQUUzRzNTLFlBQVk0UyxLQUFLLGtCQUNoQiw4REFBQ3hFO29EQUFJQyxXQUFVOztzRUFBYSw4REFBQ21COzREQUFLbkIsV0FBVTtzRUFBZ0I7Ozs7Ozt3REFBYTtzRUFBQyw4REFBQ21COzREQUFLbkIsV0FBVTtzRUFBaUJyTyxZQUFZNFMsS0FBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7aUVBSWhJLDhEQUFDakM7NENBQUV0QyxXQUFVO3NEQUF3Qjs7Ozs7Ozs7Ozs7OzhDQUszQyw4REFBQ0Q7b0NBQ0NDLFdBQVU7b0NBQ1Z3RSxVQUFVLENBQUN4Szt3Q0FDVCxNQUFNeUssS0FBS3pLLEVBQUUwSyxhQUFhO3dDQUMxQixNQUFNQyxZQUFZO3dDQUNsQmhTLGdCQUFnQlksT0FBTyxHQUFHa1IsR0FBR0csWUFBWSxHQUFHSCxHQUFHSSxTQUFTLEdBQUdKLEdBQUdLLFlBQVksR0FBR0g7b0NBQy9FOzt3Q0FFQ2xYLFNBQVN3SSxHQUFHLENBQUMsQ0FBQzhPO2dEQUdnRUEsZUFBMkJBLGdCQUVwRUEsZ0JBUXZCQSxnQkFBdUNBLGdCQUFrQ0EsZ0JBQ3pFQSxnQkFBdUNBLGdCQUFrQ0EsZ0JBQ3pFQSxnQkFBdUNBO2lFQWRwRCw4REFBQ2hGO2dEQUFpQkMsV0FBVyxRQUF1RSxPQUEvRCtFLElBQUlDLFNBQVMsS0FBSyxhQUFhLGdCQUFnQjswREFDbEYsNEVBQUNqRjtvREFBSUMsV0FBVyxlQUE4RixPQUEvRStFLElBQUlDLFNBQVMsS0FBSyxhQUFhLHlCQUF5Qjs7d0RBQ3BGRCxJQUFJMUQsUUFBUSxJQUFJRCxZQUFZMkQsSUFBSTFELFFBQVEsRUFBRTBELElBQUlDLFNBQVMsS0FBSyxZQUFZRCxFQUFBQSxnQkFBQUEsSUFBSUUsUUFBUSxjQUFaRixvQ0FBQUEsY0FBY3pELFNBQVMsT0FBSXlELGlCQUFBQSxJQUFJRSxRQUFRLGNBQVpGLHFDQUFBQSxlQUFjdE4sSUFBSTt3REFDckhzTixJQUFJM0wsT0FBTyxrQkFBSSw4REFBQ2tKOzREQUFFdEMsV0FBVTtzRUFBd0QrRSxJQUFJM0wsT0FBTzs7Ozs7O3dEQUMvRjJMLElBQUlDLFNBQVMsS0FBSyxlQUFhRCxpQkFBQUEsSUFBSUUsUUFBUSxjQUFaRixxQ0FBQUEsZUFBY0csYUFBYSxtQkFDekQsOERBQUNuRjs0REFBSUMsV0FBVTs7OEVBQ2IsOERBQUNtQjtvRUFBS25CLFdBQVU7O3NGQUNkLDhEQUFDbUI7c0ZBQUs7Ozs7OztzRkFDTiw4REFBQ0E7c0ZBQUs7Ozs7Ozs7Ozs7Ozs4RUFFUiw4REFBQ3BCO29FQUFJQyxXQUFVOztzRkFDYiw4REFBQ3NDOzRFQUFFdEMsV0FBVTtzRkFDVitFLEVBQUFBLGlCQUFBQSxJQUFJRSxRQUFRLGNBQVpGLHFDQUFBQSxlQUFjekQsU0FBUyxNQUFLLFdBQVd5RCxFQUFBQSxpQkFBQUEsSUFBSUUsUUFBUSxjQUFaRixxQ0FBQUEsZUFBY3ROLElBQUksTUFBSyxXQUFXc04sRUFBQUEsaUJBQUFBLElBQUlFLFFBQVEsY0FBWkYscUNBQUFBLGVBQWN0TixJQUFJLE1BQUssUUFBUSxtQ0FDeEdzTixFQUFBQSxpQkFBQUEsSUFBSUUsUUFBUSxjQUFaRixxQ0FBQUEsZUFBY3pELFNBQVMsTUFBSyxXQUFXeUQsRUFBQUEsaUJBQUFBLElBQUlFLFFBQVEsY0FBWkYscUNBQUFBLGVBQWN0TixJQUFJLE1BQUssV0FBV3NOLEVBQUFBLGlCQUFBQSxJQUFJRSxRQUFRLGNBQVpGLHFDQUFBQSxlQUFjdE4sSUFBSSxNQUFLLFlBQVksa0NBQzVHc04sRUFBQUEsaUJBQUFBLElBQUlFLFFBQVEsY0FBWkYscUNBQUFBLGVBQWN6RCxTQUFTLE1BQUssV0FBV3lELEVBQUFBLGtCQUFBQSxJQUFJRSxRQUFRLGNBQVpGLHNDQUFBQSxnQkFBY3ROLElBQUksTUFBSyxVQUFVLGlDQUFvQjs7Ozs7O3NGQUUvRiw4REFBQzZLOzRFQUFFdEMsV0FBVTtzRkFDVitFLElBQUlFLFFBQVEsQ0FBQ0MsYUFBYTs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NFQUtuQyw4REFBQzVDOzREQUFFdEMsV0FBVywyQkFBa0csT0FBdkUrRSxJQUFJQyxTQUFTLEtBQUssYUFBYSx3QkFBd0I7O2dFQUM3RjVILFdBQVcySCxJQUFJSSxTQUFTO2dFQUN4QkosSUFBSUMsU0FBUyxLQUFLLDRCQUFjLDhEQUFDN0Q7b0VBQUtuQixXQUFVOzhFQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7K0NBeEJwRCtFLElBQUkxUSxFQUFFOzs7Ozs7c0RBNkJsQiw4REFBQzBMOzRDQUFJRSxLQUFLaE87Ozs7Ozs7Ozs7OztnQ0FHWDVELDZCQUNDLDhEQUFDMFI7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUNEO3dDQUFJQyxXQUFVOzs0Q0FDWjNSLFlBQVlvSixJQUFJLEtBQUssd0JBQ3BCLDhEQUFDaUs7Z0RBQUlqRCxLQUFLcFEsWUFBWWdNLEdBQUc7Z0RBQUVzSCxLQUFJO2dEQUFVM0IsV0FBVTs7Ozs7dURBQ2pEM1IsWUFBWW9KLElBQUksS0FBSyx3QkFDdkIsOERBQUNzSTtnREFBSUMsV0FBVTs7a0VBQ2IsOERBQUNEO3dEQUFJQyxXQUFVO2tFQUEwRSw0RUFBQ1E7NERBQUlSLFdBQVU7NERBQXlCL0gsTUFBSzs0REFBTzBLLFFBQU87NERBQWVsQyxTQUFRO3NFQUFZLDRFQUFDSztnRUFBSzhCLGVBQWM7Z0VBQVFDLGdCQUFlO2dFQUFRQyxhQUFhO2dFQUFHL0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7OztrRUFDNVAsOERBQUM5RTt3REFBTStGLFFBQVE7d0RBQUNoQyxXQUFVO3dEQUFja0IsT0FBTzs0REFBRVcsVUFBVTt3REFBUTtrRUFBRyw0RUFBQ3VEOzREQUFPM0csS0FBS3BRLFlBQVlnTSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7O3FFQUdwRyw4REFBQzBGO2dEQUFJQyxXQUFVOzBEQUFtRSw0RUFBQ1E7b0RBQUlSLFdBQVU7b0RBQXdCL0gsTUFBSztvREFBTzBLLFFBQU87b0RBQWVsQyxTQUFROzhEQUFZLDRFQUFDSzt3REFBSzhCLGVBQWM7d0RBQVFDLGdCQUFlO3dEQUFRQyxhQUFhO3dEQUFHL0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7OzswREFFdFAsOERBQUNUO2dEQUFPQyxTQUFTbEY7Z0RBQWUyRSxXQUFVOzBEQUFzRyw0RUFBQ1E7b0RBQUlSLFdBQVU7b0RBQVUvSCxNQUFLO29EQUFPMEssUUFBTztvREFBZWxDLFNBQVE7OERBQVksNEVBQUNLO3dEQUFLOEIsZUFBYzt3REFBUUMsZ0JBQWU7d0RBQVFDLGFBQWE7d0RBQUcvQixHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0NBS3pTeFMsdUJBQVMsOERBQUN3UjtvQ0FBSUMsV0FBVTs4Q0FBNkd6Ujs7Ozs7OzhDQUV0SSw4REFBQzhXO29DQUFLQyxVQUFVdkw7b0NBQVlpRyxXQUFVOzhDQUNwQyw0RUFBQ0Q7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDK0M7Z0RBQU10TCxNQUFLO2dEQUFPd0ksS0FBSy9OO2dEQUFjOFEsVUFBVWxJO2dEQUFrQmtGLFdBQVU7Z0RBQVN1RixRQUFPOzs7Ozs7MERBQzVGLDhEQUFDakY7Z0RBQU83SSxNQUFLO2dEQUFTOEksU0FBUzt3REFBTXJPOzREQUFBQSx3QkFBQUEsYUFBYXFCLE9BQU8sY0FBcEJyQiw0Q0FBQUEsc0JBQXNCc1QsS0FBSzs7Z0RBQUl4RixXQUFVO2dEQUF3RzBELFVBQVUzVixXQUFZd0IsQ0FBQUEseUJBQUFBLG1DQUFBQSxhQUFja0osUUFBUSxNQUFLLGdCQUFnQixFQUFDbEoseUJBQUFBLG1DQUFBQSxhQUFjbUosVUFBVTswREFDOVEsNEVBQUM4SDtvREFBSVIsV0FBVTtvREFBd0IvSCxNQUFLO29EQUFPMEssUUFBTztvREFBZWxDLFNBQVE7OERBQVksNEVBQUNLO3dEQUFLOEIsZUFBYzt3REFBUUMsZ0JBQWU7d0RBQVFDLGFBQWE7d0RBQUcvQixHQUFFOzs7Ozs7Ozs7Ozs7Ozs7OzBEQUVwSyw4REFBQ1Q7Z0RBQU83SSxNQUFLO2dEQUFTOEksU0FBUzVSLGNBQWNzTyxzQkFBc0JyQjtnREFBc0JvRSxXQUFXLHNEQUFzSyxPQUFoSHJSLGNBQWMsNkNBQTZDO2dEQUF3RCtVLFVBQVUsV0FBWSxDQUFDL1UsZUFBaUJZLENBQUFBLHlCQUFBQSxtQ0FBQUEsYUFBY2tKLFFBQVEsTUFBSyxnQkFBZ0IsRUFBQ2xKLHlCQUFBQSxtQ0FBQUEsYUFBY21KLFVBQVU7MERBQ3ZYLDRFQUFDOEg7b0RBQUlSLFdBQVU7b0RBQXdCL0gsTUFBSztvREFBTzBLLFFBQU87b0RBQWVsQyxTQUFROzhEQUFZLDRFQUFDSzt3REFBSzhCLGVBQWM7d0RBQVFDLGdCQUFlO3dEQUFRQyxhQUFhO3dEQUFHL0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7OzswREFFcEssOERBQUNnQztnREFDQzlDLEtBQUs5TjtnREFDTHNGLE1BQUs7Z0RBQ0wyRCxPQUFPek47Z0RBQ1BxVixVQUFVLENBQUNoSixJQUFNcE0sY0FBY29NLEVBQUVlLE1BQU0sQ0FBQ0ssS0FBSztnREFDN0NxSyxTQUFTdkk7Z0RBQ1R3SSxRQUFRdkk7Z0RBQ1I4RixhQUFhMVQsQ0FBQUEseUJBQUFBLG1DQUFBQSxhQUFja0osUUFBUSxNQUFLLGdCQUFnQixFQUFDbEoseUJBQUFBLG1DQUFBQSxhQUFjbUosVUFBVSxJQUFHLG9DQUFvQztnREFDeEhzSCxXQUFVO2dEQUNWMEQsVUFBVTNWLFdBQVl3QixDQUFBQSx5QkFBQUEsbUNBQUFBLGFBQWNrSixRQUFRLE1BQUssZ0JBQWdCLEVBQUNsSix5QkFBQUEsbUNBQUFBLGFBQWNtSixVQUFVO2dEQUMxRmlOLGNBQWE7Z0RBQ2JDLGNBQWE7Z0RBQ2JDLGFBQVk7Ozs7Ozs0Q0FFYnRXLENBQUFBLHlCQUFBQSxtQ0FBQUEsYUFBY2tKLFFBQVEsTUFBSyxnQkFBZ0IsRUFBQ2xKLHlCQUFBQSxtQ0FBQUEsYUFBY21KLFVBQVUsa0JBQ25FLDhEQUFDNEg7Z0RBQ0M3SSxNQUFLO2dEQUNMOEksU0FBUyxJQUFNclEscUJBQXFCO2dEQUNwQzhQLFdBQVU7Z0RBQ1YwQyxPQUFNOzBEQUVOLDRFQUFDbEM7b0RBQUlSLFdBQVU7b0RBQXdCL0gsTUFBSztvREFBTzBLLFFBQU87b0RBQWVsQyxTQUFROzhEQUFZLDRFQUFDSzt3REFBSzhCLGVBQWM7d0RBQVFDLGdCQUFlO3dEQUFRQyxhQUFhO3dEQUFHL0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7O3FFQUdwSyw4REFBQ1Q7Z0RBQU83SSxNQUFLO2dEQUFTaU0sVUFBVTNWLFdBQVksQ0FBQ0osV0FBV29MLElBQUksTUFBTSxDQUFDMUs7Z0RBQWMyUixXQUFVOzBEQUN4RmpTLHdCQUFVLDhEQUFDZ1M7b0RBQUlDLFdBQVU7Ozs7O3lFQUFvRyw4REFBQ1E7b0RBQUlSLFdBQVU7b0RBQXdCL0gsTUFBSztvREFBTzBLLFFBQU87b0RBQWVsQyxTQUFROzhEQUFZLDRFQUFDSzt3REFBSzhCLGVBQWM7d0RBQVFDLGdCQUFlO3dEQUFRQyxhQUFhO3dEQUFHL0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt5REFPMVMsOERBQUNoQjs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNEO29DQUFJQyxXQUFVOzhDQUNiLDRFQUFDUTt3Q0FBSVIsV0FBVTt3Q0FBMEIvSCxNQUFLO3dDQUFPMEssUUFBTzt3Q0FBZWxDLFNBQVE7a0RBQVksNEVBQUNLOzRDQUFLOEIsZUFBYzs0Q0FBUUMsZ0JBQWU7NENBQVFDLGFBQWE7NENBQUcvQixHQUFFOzs7Ozs7Ozs7Ozs7Ozs7OzhDQUV0Syw4REFBQ3VCO29DQUFFdEMsV0FBVTs4Q0FBb0M7Ozs7Ozs4Q0FDakQsOERBQUNzQztvQ0FBRXRDLFdBQVU7OENBQTZCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU1qRC9QLG1DQUNDLDhEQUFDOFA7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDOEY7b0NBQUc5RixXQUFVOzhDQUNYL1MsMEJBQTBCLHdCQUF3Qjs7Ozs7OzhDQUVyRCw4REFBQ3FUO29DQUFPQyxTQUFTO3dDQUFRclEscUJBQXFCO3dDQUFRMkgsMkJBQTJCO3dDQUFPckcscUJBQXFCLEVBQUU7b0NBQUc7b0NBQUd3TyxXQUFVOzhDQUM3SCw0RUFBQ1E7d0NBQUlSLFdBQVU7d0NBQVUvSCxNQUFLO3dDQUFPMEssUUFBTzt3Q0FBZWxDLFNBQVE7a0RBQVksNEVBQUNLOzRDQUFLOEIsZUFBYzs0Q0FBUUMsZ0JBQWU7NENBQVFDLGFBQWE7NENBQUcvQixHQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NDQUd4Siw4REFBQ2hCOzRCQUFJQyxXQUFVO3NDQUNaL1Msd0NBQ0MsOERBQUM4UztnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNEO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ3NDO2dEQUFFdEMsV0FBVTswREFBK0IvUyx3QkFBd0JxTCxJQUFJOzs7Ozs7MERBQ3hFLDhEQUFDZ0s7Z0RBQUV0QyxXQUFVOzBEQUNWL1MsRUFBQUEsc0NBQUFBLHdCQUF3QnVLLFVBQVUsY0FBbEN2SywyREFBQUEsMkNBQUFBLG9DQUFvQzBJLElBQUksQ0FBQyxDQUFDUSxJQUFXQSxFQUFFc0IsSUFBSSxLQUFLLHFCQUFoRXhLLCtEQUFBQSx5Q0FBeUV5SyxJQUFJLEtBQUk7Ozs7Ozs7Ozs7OztrREFHdEYsOERBQUNxSTt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNzQztnREFBRXRDLFdBQVU7MERBQXdCOzs7Ozs7NENBQ3BDek8sa0JBQWtCMEUsR0FBRyxDQUFDLENBQUNtRixPQUFPMkssc0JBQzdCLDhEQUFDaEc7O3NFQUNDLDhEQUFDaUc7NERBQU1oRyxXQUFVOztnRUFBbUM7Z0VBQVcsS0FBYyxPQUFWK0YsUUFBUSxHQUFFOzs7Ozs7O3NFQUM3RSw4REFBQ2hEOzREQUNDdEwsTUFBSzs0REFDTDJELE9BQU9BOzREQUNQNEgsVUFBVSxDQUFDaEo7Z0VBQ1QsTUFBTWlNLFVBQVU7dUVBQUkxVTtpRUFBa0I7Z0VBQ3RDMFUsT0FBTyxDQUFDRixNQUFNLEdBQUcvTCxFQUFFZSxNQUFNLENBQUNLLEtBQUs7Z0VBQy9CNUoscUJBQXFCeVU7NERBQ3ZCOzREQUNBaEQsYUFBYSxnQkFBMEIsT0FBVjhDLFFBQVEsR0FBRTs0REFDdkMvRixXQUFVOzs7Ozs7O21EQVhKK0Y7Ozs7Ozs7Ozs7O2tEQWdCZCw4REFBQ2hHO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ007Z0RBQ0NDLFNBQVM7b0RBQVExSSwyQkFBMkI7b0RBQU9yRyxxQkFBcUIsRUFBRTtnREFBRztnREFDN0V3TyxXQUFVOzBEQUNYOzs7Ozs7MERBR0QsOERBQUNNO2dEQUNDQyxTQUFTLElBQU1ySSxtQkFBbUJqTCx5QkFBeUJzRTtnREFDM0RtUyxVQUFVdlQsbUJBQW1Cb0Isa0JBQWtCMkgsSUFBSSxDQUFDQyxDQUFBQSxJQUFLLENBQUNBLEVBQUVKLElBQUk7Z0RBQ2hFaUgsV0FBVTswREFFVDdQLGtCQUFrQixnQkFBZ0I7Ozs7Ozs7Ozs7Ozs7Ozs7O3VDQUl2Q0osVUFBVWdGLE1BQU0sS0FBSyxrQkFDdkIsOERBQUNnTDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNzQzt3Q0FBRXRDLFdBQVU7a0RBQWdCOzs7Ozs7a0RBQzdCLDhEQUFDc0M7d0NBQUV0QyxXQUFVO2tEQUE2Qjs7Ozs7Ozs7Ozs7cURBRzVDLDhEQUFDRDtnQ0FBSUMsV0FBVTswQ0FDWmpRLFVBQVVrRyxHQUFHLENBQUMsQ0FBQ3FCO3dDQW1CUEEsZ0NBQUFBLDJCQUFBQSxzQkFDQ0EsaUNBQUFBLDRCQUFBQTtvQ0FuQlIsTUFBTVMsV0FBV1YseUJBQXlCQztvQ0FDMUMscUJBQ0UsOERBQUNnSjt3Q0FFQ0MsU0FBUyxJQUFNekkscUJBQXFCUjt3Q0FDcENvTSxVQUFVdlQ7d0NBQ1Y2UCxXQUFVOzswREFFViw4REFBQ0Q7Z0RBQUlDLFdBQVU7O2tFQUNiLDhEQUFDbUI7d0RBQUtuQixXQUFVO2tFQUEwQjFJLFNBQVNnQixJQUFJOzs7Ozs7a0VBQ3ZELDhEQUFDeUg7d0RBQUlDLFdBQVU7OzREQUNaakksV0FBVyxtQkFDViw4REFBQ29KO2dFQUFLbkIsV0FBVTs7b0VBQXdFakk7b0VBQVM7b0VBQUtBLFdBQVcsSUFBSSxNQUFNOzs7Ozs7OzBFQUU3SCw4REFBQ29KO2dFQUFLbkIsV0FBVTswRUFBd0UxSSxTQUFTNE8sUUFBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBEQUc3Ryw4REFBQzVEO2dEQUFFdEMsV0FBVTs7b0RBQ1YxSSxFQUFBQSx1QkFBQUEsU0FBU0UsVUFBVSxjQUFuQkYsNENBQUFBLDRCQUFBQSxxQkFBcUIzQixJQUFJLENBQUMsQ0FBQ1EsSUFBV0EsRUFBRXNCLElBQUksS0FBSyxxQkFBakRILGlEQUFBQSxpQ0FBQUEsMEJBQTBESSxJQUFJLGNBQTlESixxREFBQUEsK0JBQWdFNk8sU0FBUyxDQUFDLEdBQUcsU0FBUTtvREFDcEY3TyxDQUFBQSxFQUFBQSx3QkFBQUEsU0FBU0UsVUFBVSxjQUFuQkYsNkNBQUFBLDZCQUFBQSxzQkFBcUIzQixJQUFJLENBQUMsQ0FBQ1EsSUFBV0EsRUFBRXNCLElBQUksS0FBSyxxQkFBakRILGtEQUFBQSxrQ0FBQUEsMkJBQTBESSxJQUFJLGNBQTlESixzREFBQUEsZ0NBQWdFdkMsTUFBTSxLQUFJLEtBQUssT0FBTzs7Ozs7OzswREFFMUYsOERBQUN1TjtnREFBRXRDLFdBQVU7O29EQUE2QjtvREFBUzFJLFNBQVM4TyxRQUFROzs7Ozs7Ozt1Q0FsQi9EOU8sU0FBU2pELEVBQUU7Ozs7O2dDQXFCdEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFRWDlELGtDQUNDLDhEQUFDd1A7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDOEY7b0NBQUc5RixXQUFVOzhDQUFtQzs7Ozs7OzhDQUNqRCw4REFBQ007b0NBQU9DLFNBQVMsSUFBTS9QLG9CQUFvQjtvQ0FBUXdQLFdBQVU7OENBQzNELDRFQUFDUTt3Q0FBSVIsV0FBVTt3Q0FBVS9ILE1BQUs7d0NBQU8wSyxRQUFPO3dDQUFlbEMsU0FBUTtrREFBWSw0RUFBQ0s7NENBQUs4QixlQUFjOzRDQUFRQyxnQkFBZTs0Q0FBUUMsYUFBYTs0Q0FBRy9CLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBR3hKLDhEQUFDaEI7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDRDs7c0RBQ0MsOERBQUNpRzs0Q0FBTWhHLFdBQVU7c0RBQW1DOzs7Ozs7c0RBQ3BELDhEQUFDK0M7NENBQ0N0TCxNQUFLOzRDQUNMMkQsT0FBTzNLOzRDQUNQdVMsVUFBVSxDQUFDaEosSUFBTXRKLGdCQUFnQnNKLEVBQUVlLE1BQU0sQ0FBQ0ssS0FBSzs0Q0FDL0M2SCxhQUFZOzRDQUNaakQsV0FBVTs7Ozs7O3NEQUVaLDhEQUFDc0M7NENBQUV0QyxXQUFVO3NEQUE2Qjs7Ozs7Ozs7Ozs7O2dDQUczQ2pQLHFCQUFxQixnQkFBZ0JFLGlCQUFpQjhELE1BQU0sR0FBRyxtQkFDOUQsOERBQUNnTDs7c0RBQ0MsOERBQUNpRzs0Q0FBTWhHLFdBQVU7OzhEQUNmLDhEQUFDK0M7b0RBQ0N0TCxNQUFLO29EQUNMNE8sU0FBU2xWO29EQUNUNlIsVUFBVSxDQUFDaEo7d0RBQ1Q1SSxzQkFBc0I0SSxFQUFFZSxNQUFNLENBQUNzTCxPQUFPO3dEQUN0Qy9VLDJCQUEyQjt3REFDM0JJLDRCQUE0QixFQUFFO29EQUNoQztvREFDQXNPLFdBQVU7Ozs7OztnREFDVjs7Ozs7Ozt3Q0FHSDdPLG9DQUNDLDhEQUFDNE87NENBQUlDLFdBQVU7c0RBQ1ovTyxpQkFBaUJnRixHQUFHLENBQUMsQ0FBQ3FCO29EQXVCZEEsZ0NBQUFBLDJCQUFBQTtnREF0QlAsTUFBTVMsV0FBV1YseUJBQXlCQztnREFDMUMscUJBQ0UsOERBQUNnSjtvREFFQzdJLE1BQUs7b0RBQ0w4SSxTQUFTO3dEQUNQalAsMkJBQTJCZ0c7d0RBQzNCNUYsNEJBQTRCc0csTUFBTUQsVUFBVUUsSUFBSSxDQUFDO29EQUNuRDtvREFDQStILFdBQVcsNERBSVYsT0FIQzNPLENBQUFBLG9DQUFBQSw4Q0FBQUEsd0JBQXlCZ0QsRUFBRSxNQUFLaUQsU0FBU2pELEVBQUUsR0FDdkMscUNBQ0E7O3NFQUdOLDhEQUFDMEw7NERBQUlDLFdBQVU7OzhFQUNiLDhEQUFDbUI7b0VBQUtuQixXQUFVOzhFQUFzQjFJLFNBQVNnQixJQUFJOzs7Ozs7Z0VBQ2xEUCxXQUFXLG1CQUNWLDhEQUFDb0o7b0VBQUtuQixXQUFVOzt3RUFBMEVqSTt3RUFBUzs7Ozs7Ozs7Ozs7OztzRUFHdkcsOERBQUN1Szs0REFBRXRDLFdBQVU7c0VBQ1YxSSxFQUFBQSx1QkFBQUEsU0FBU0UsVUFBVSxjQUFuQkYsNENBQUFBLDRCQUFBQSxxQkFBcUIzQixJQUFJLENBQUMsQ0FBQ1EsSUFBV0EsRUFBRXNCLElBQUksS0FBSyxxQkFBakRILGlEQUFBQSxpQ0FBQUEsMEJBQTBESSxJQUFJLGNBQTlESixxREFBQUEsK0JBQWdFNk8sU0FBUyxDQUFDLEdBQUcsUUFBTzs7Ozs7OzttREFuQmxGN08sU0FBU2pELEVBQUU7Ozs7OzRDQXVCdEI7Ozs7Ozt3Q0FHSGhELDJCQUEyQkkseUJBQXlCc0QsTUFBTSxHQUFHLG1CQUM1RCw4REFBQ2dMOzRDQUFJQyxXQUFVOzs4REFDYiw4REFBQ3NDO29EQUFFdEMsV0FBVTs7d0RBQXdCO3dEQUFnQjNPLHdCQUF3QmlILElBQUk7d0RBQUM7Ozs7Ozs7Z0RBQ2pGN0cseUJBQXlCd0UsR0FBRyxDQUFDLENBQUNtRixPQUFPMkssc0JBQ3BDLDhEQUFDaEQ7d0RBRUN0TCxNQUFLO3dEQUNMMkQsT0FBT0E7d0RBQ1A0SCxVQUFVLENBQUNoSjs0REFDVCxNQUFNaU0sVUFBVTttRUFBSXhVOzZEQUF5Qjs0REFDN0N3VSxPQUFPLENBQUNGLE1BQU0sR0FBRy9MLEVBQUVlLE1BQU0sQ0FBQ0ssS0FBSzs0REFDL0IxSiw0QkFBNEJ1VTt3REFDOUI7d0RBQ0FoRCxhQUFhLGdCQUEwQixPQUFWOEMsUUFBUSxHQUFFO3dEQUN2Qy9GLFdBQVU7dURBVEwrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0NBaUJoQixDQUFDNVUsb0NBQ0EsOERBQUM0Tzs7c0RBQ0MsOERBQUNpRzs0Q0FBTWhHLFdBQVU7c0RBQW1DOzs7Ozs7c0RBQ3BELDhEQUFDc0c7NENBQ0NsTCxPQUFPeks7NENBQ1BxUyxVQUFVLENBQUNoSixJQUFNcEosa0JBQWtCb0osRUFBRWUsTUFBTSxDQUFDSyxLQUFLOzRDQUNqRDZILGFBQVk7NENBQ1pzRCxNQUFNOzRDQUNOdkcsV0FBVTs7Ozs7Ozs7Ozs7O2dDQUtmelIsdUJBQ0MsOERBQUN3UjtvQ0FBSUMsV0FBVTs4Q0FDWnpSOzs7Ozs7OENBSUwsOERBQUMrUjtvQ0FDQ0MsU0FBU3pIO29DQUNUNEssVUFBVTdTLGtCQUFrQixDQUFDSixhQUFhc0ksSUFBSSxNQUFPLENBQUNwSSxlQUFlb0ksSUFBSSxNQUFNLENBQUMxSCwyQkFBNEIsQ0FBQyxDQUFFQSxDQUFBQSwyQkFBMkJJLHlCQUF5QnNELE1BQU0sR0FBRyxLQUFLdEQseUJBQXlCeUgsSUFBSSxDQUFDQyxDQUFBQSxJQUFLLENBQUNBLEVBQUVKLElBQUksR0FBRTtvQ0FDN05pSCxXQUFVOzhDQUVUblAsK0JBQ0MsOERBQUNrUDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNEO2dEQUFJQyxXQUFVOzs7Ozs7NENBQW1GOzs7Ozs7K0NBSXBHOzs7Ozs7Z0NBSUhqUCxxQkFBcUIsOEJBQ3BCLDhEQUFDdVI7b0NBQUV0QyxXQUFVOzhDQUFvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVakU7R0E5c0N3QmpUOztRQUNNUiw2REFBZ0JBOzs7S0FEdEJRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9kYXNoYm9hcmQvY2hhdC9wYWdlLnRzeD9jMmQwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUJ1c2luZXNzU3RvcmUgfSBmcm9tICdAL3N0b3JlL2J1c2luZXNzJztcbmltcG9ydCB7IG1lc3NhZ2VBcGksIHdhQXBpLCBtZWRpYUFwaSwgYnVzaW5lc3NBcGksIHRhZ3NBcGksIGJpbGxpbmdBcGksIHRlbXBsYXRlc0FwaSB9IGZyb20gJ0AvbGliL2FwaSc7XG5cbmludGVyZmFjZSBDb252ZXJzYXRpb24ge1xuICBwaG9uZTogc3RyaW5nO1xuICBjb250YWN0TmFtZTogc3RyaW5nO1xuICBsYXN0TWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcbiAgbGFzdE1lc3NhZ2VBdDogc3RyaW5nO1xuICBtZXNzYWdlQ291bnQ6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICBkaXJlY3Rpb246IHN0cmluZztcbiAgc2VuZGVyPzogc3RyaW5nO1xuICByZWNpcGllbnQ/OiBzdHJpbmc7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIG1lZGlhVXJsPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgbWV0YWRhdGE/OiB7XG4gICAgbWVkaWFBbmFseXNpcz86IHN0cmluZztcbiAgICBtZWRpYVR5cGU/OiBzdHJpbmc7XG4gICAgdHlwZT86IHN0cmluZztcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFRhZyB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgY29sb3I6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIG9yZGVyOiBudW1iZXI7XG4gIF9jb3VudD86IHsgYXNzaWdubWVudHM6IG51bWJlciB9O1xufVxuXG5pbnRlcmZhY2UgVGFnQXNzaWdubWVudCB7XG4gIHRhZ0lkOiBzdHJpbmc7XG4gIGNvbnRhY3RQaG9uZTogc3RyaW5nO1xuICB0YWc6IFRhZztcbn1cblxuaW50ZXJmYWNlIFdpbmRvd1N0YXR1cyB7XG4gIHByb3ZpZGVyOiBzdHJpbmcgfCBudWxsO1xuICByZXF1aXJlc1RlbXBsYXRlOiBib29sZWFuO1xuICB3aW5kb3dPcGVuOiBib29sZWFuO1xuICBob3Vyc1JlbWFpbmluZz86IG51bWJlcjtcbiAgbWVzc2FnZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVGVtcGxhdGUge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBsYW5ndWFnZTogc3RyaW5nO1xuICBjb21wb25lbnRzOiBhbnlbXTtcbn1cblxuaW50ZXJmYWNlIERhaWx5Q29udGFjdFN0YXRzIHtcbiAgY291bnQ6IG51bWJlcjtcbiAgbGltaXQ6IG51bWJlcjtcbiAgcmVtYWluaW5nOiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKCkge1xuICBjb25zdCB7IGN1cnJlbnRCdXNpbmVzcyB9ID0gdXNlQnVzaW5lc3NTdG9yZSgpO1xuICBjb25zdCBbY29udmVyc2F0aW9ucywgc2V0Q29udmVyc2F0aW9uc10gPSB1c2VTdGF0ZTxDb252ZXJzYXRpb25bXT4oW10pO1xuICBjb25zdCBbc2VsZWN0ZWRQaG9uZSwgc2V0U2VsZWN0ZWRQaG9uZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkQ29udGFjdE5hbWUsIHNldFNlbGVjdGVkQ29udGFjdE5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihbXSk7XG4gIGNvbnN0IFtuZXdNZXNzYWdlLCBzZXROZXdNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzZW5kaW5nLCBzZXRTZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYXRMaXN0T3Blbiwgc2V0Q2hhdExpc3RPcGVuXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbdXBsb2FkaW5nLCBzZXRVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJldmlld0ZpbGUsIHNldFByZXZpZXdGaWxlXSA9IHVzZVN0YXRlPHsgZmlsZTogRmlsZTsgdXJsOiBzdHJpbmc7IHR5cGU6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtib3RUb2dnbGluZywgc2V0Qm90VG9nZ2xpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNSZWNvcmRpbmcsIHNldElzUmVjb3JkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ZpZXdNb2RlLCBzZXRWaWV3TW9kZV0gPSB1c2VTdGF0ZTwnbGlzdCcgfCAna2FuYmFuJz4oJ2xpc3QnKTtcbiAgY29uc3QgW3RhZ3MsIHNldFRhZ3NdID0gdXNlU3RhdGU8VGFnW10+KFtdKTtcbiAgY29uc3QgW2Fzc2lnbm1lbnRzLCBzZXRBc3NpZ25tZW50c10gPSB1c2VTdGF0ZTxUYWdBc3NpZ25tZW50W10+KFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkVGFnLCBzZXRTZWxlY3RlZFRhZ10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Fzc2lnbmluZ1RhZywgc2V0QXNzaWduaW5nVGFnXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3dpbmRvd1N0YXR1cywgc2V0V2luZG93U3RhdHVzXSA9IHVzZVN0YXRlPFdpbmRvd1N0YXR1cyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZGFpbHlDb250YWN0cywgc2V0RGFpbHlDb250YWN0c10gPSB1c2VTdGF0ZTxEYWlseUNvbnRhY3RTdGF0cyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY29udGFjdEJvdERpc2FibGVkLCBzZXRDb250YWN0Qm90RGlzYWJsZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbY29udGFjdEJvdFRvZ2dsaW5nLCBzZXRDb250YWN0Qm90VG9nZ2xpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdGVtcGxhdGVzLCBzZXRUZW1wbGF0ZXNdID0gdXNlU3RhdGU8VGVtcGxhdGVbXT4oW10pO1xuICBjb25zdCBbc2hvd1RlbXBsYXRlTW9kYWwsIHNldFNob3dUZW1wbGF0ZU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbmRpbmdUZW1wbGF0ZSwgc2V0U2VuZGluZ1RlbXBsYXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzaG93TmV3Q2hhdE1vZGFsLCBzZXRTaG93TmV3Q2hhdE1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld0NoYXRQaG9uZSwgc2V0TmV3Q2hhdFBob25lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0NoYXRNZXNzYWdlLCBzZXROZXdDaGF0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdDaGF0U2VuZGluZywgc2V0TmV3Q2hhdFNlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaW5zdGFuY2VQcm92aWRlciwgc2V0SW5zdGFuY2VQcm92aWRlcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW25ld0NoYXRUZW1wbGF0ZXMsIHNldE5ld0NoYXRUZW1wbGF0ZXNdID0gdXNlU3RhdGU8VGVtcGxhdGVbXT4oW10pO1xuICBjb25zdCBbbmV3Q2hhdFVzZVRlbXBsYXRlLCBzZXROZXdDaGF0VXNlVGVtcGxhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUsIHNldFNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlXSA9IHVzZVN0YXRlPFRlbXBsYXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt0ZW1wbGF0ZVZhcmlhYmxlcywgc2V0VGVtcGxhdGVWYXJpYWJsZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW25ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcywgc2V0TmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtjb250YWN0RGF0YSwgc2V0Q29udGFjdERhdGFdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgYW55Pj4oe30pO1xuICBjb25zdCBbY3VycmVudFN0YWdlLCBzZXRDdXJyZW50U3RhZ2VdID0gdXNlU3RhdGU8e2lkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgY29sb3I6IHN0cmluZ30gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nob3dDb250YWN0UGFuZWwsIHNldFNob3dDb250YWN0UGFuZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGNoYXRDb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBtZWRpYVJlY29yZGVyUmVmID0gdXNlUmVmPE1lZGlhUmVjb3JkZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgYXVkaW9TdHJlYW1SZWYgPSB1c2VSZWY8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2tleWJvYXJkSGVpZ2h0LCBzZXRLZXlib2FyZEhlaWdodF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2lzSW5wdXRGb2N1c2VkLCBzZXRJc0lucHV0Rm9jdXNlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGlzTmVhckJvdHRvbVJlZiA9IHVzZVJlZih0cnVlKTtcbiAgY29uc3QgcHJldk1lc3NhZ2VzTGVuZ3RoUmVmID0gdXNlUmVmKDApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlVmlld3BvcnRSZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0O1xuICAgICAgICBjb25zdCBuZXdLZXlib2FyZEhlaWdodCA9IHdpbmRvd0hlaWdodCAtIHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgaWYgKG5ld0tleWJvYXJkSGVpZ2h0ID4gMTAwKSB7XG4gICAgICAgICAgc2V0S2V5Ym9hcmRIZWlnaHQobmV3S2V5Ym9hcmRIZWlnaHQpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnZW5kJyB9KTtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEtleWJvYXJkSGVpZ2h0KDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVWaWV3cG9ydFJlc2l6ZSk7XG4gICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlVmlld3BvcnRSZXNpemUpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVWaWV3cG9ydFJlc2l6ZSk7XG4gICAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVWaWV3cG9ydFJlc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRCdXNpbmVzcykge1xuICAgICAgZmV0Y2hDb252ZXJzYXRpb25zKCk7XG4gICAgICBmZXRjaFRhZ3MoKTtcbiAgICAgIGZldGNoRGFpbHlDb250YWN0cygpO1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGZldGNoQ29udmVyc2F0aW9ucygpO1xuICAgICAgICBmZXRjaERhaWx5Q29udGFjdHMoKTtcbiAgICAgIH0sIDEwMDAwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9XG4gIH0sIFtjdXJyZW50QnVzaW5lc3NdKTtcblxuICBjb25zdCBmZXRjaERhaWx5Q29udGFjdHMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBiaWxsaW5nQXBpLmdldENvbnRhY3RzVG9kYXkoY3VycmVudEJ1c2luZXNzLmlkKTtcbiAgICAgIHNldERhaWx5Q29udGFjdHMocmVzcG9uc2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggZGFpbHkgY29udGFjdHM6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZmV0Y2hUYWdzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IFt0YWdzUmVzLCBhc3NpZ25tZW50c1Jlc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRhZ3NBcGkubGlzdChjdXJyZW50QnVzaW5lc3MuaWQpLFxuICAgICAgICB0YWdzQXBpLmdldEFzc2lnbm1lbnRzKGN1cnJlbnRCdXNpbmVzcy5pZClcbiAgICAgIF0pO1xuICAgICAgc2V0VGFncyh0YWdzUmVzLmRhdGEpO1xuICAgICAgc2V0QXNzaWdubWVudHMoYXNzaWdubWVudHNSZXMuZGF0YSk7XG4gICAgICBcbiAgICAgIGlmICh0YWdzUmVzLmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGluaXRSZXMgPSBhd2FpdCB0YWdzQXBpLmluaXREZWZhdWx0cyhjdXJyZW50QnVzaW5lc3MuaWQpO1xuICAgICAgICBzZXRUYWdzKGluaXRSZXMuZGF0YSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdGFnczonLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVBc3NpZ25UYWcgPSBhc3luYyAocGhvbmU6IHN0cmluZywgdGFnSWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzKSByZXR1cm47XG4gICAgaWYgKCF0YWdJZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0QXNzaWduaW5nVGFnKHRydWUpO1xuICAgICAgICBhd2FpdCB0YWdzQXBpLnVuYXNzaWduKHsgYnVzaW5lc3NfaWQ6IGN1cnJlbnRCdXNpbmVzcy5pZCwgY29udGFjdF9waG9uZTogcGhvbmUgfSk7XG4gICAgICAgIGZldGNoVGFncygpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1bmFzc2lnbiB0YWc6JywgZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEFzc2lnbmluZ1RhZyhmYWxzZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldEFzc2lnbmluZ1RhZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGFnc0FwaS5hc3NpZ24oeyBidXNpbmVzc19pZDogY3VycmVudEJ1c2luZXNzLmlkLCBjb250YWN0X3Bob25lOiBwaG9uZSwgdGFnX2lkOiB0YWdJZCB9KTtcbiAgICAgIGZldGNoVGFncygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGFzc2lnbiB0YWc6JywgZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0QXNzaWduaW5nVGFnKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0Q29udGFjdFRhZyA9IChwaG9uZTogc3RyaW5nKTogVGFnIHwgdW5kZWZpbmVkID0+IHtcbiAgICBjb25zdCBhc3NpZ25tZW50ID0gYXNzaWdubWVudHMuZmluZChhID0+IGEuY29udGFjdFBob25lID09PSBwaG9uZSk7XG4gICAgcmV0dXJuIGFzc2lnbm1lbnQ/LnRhZztcbiAgfTtcblxuICBjb25zdCBnZXRDb252ZXJzYXRpb25zQnlUYWcgPSAodGFnSWQ6IHN0cmluZyB8IG51bGwpOiBDb252ZXJzYXRpb25bXSA9PiB7XG4gICAgaWYgKCF0YWdJZCkge1xuICAgICAgY29uc3QgYXNzaWduZWRQaG9uZXMgPSBhc3NpZ25tZW50cy5tYXAoYSA9PiBhLmNvbnRhY3RQaG9uZSk7XG4gICAgICByZXR1cm4gY29udmVyc2F0aW9ucy5maWx0ZXIoYyA9PiAhYXNzaWduZWRQaG9uZXMuaW5jbHVkZXMoYy5waG9uZSkpO1xuICAgIH1cbiAgICBjb25zdCBwaG9uZXNGb3JUYWcgPSBhc3NpZ25tZW50cy5maWx0ZXIoYSA9PiBhLnRhZ0lkID09PSB0YWdJZCkubWFwKGEgPT4gYS5jb250YWN0UGhvbmUpO1xuICAgIHJldHVybiBjb252ZXJzYXRpb25zLmZpbHRlcihjID0+IHBob25lc0ZvclRhZy5pbmNsdWRlcyhjLnBob25lKSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRQaG9uZSAmJiBjdXJyZW50QnVzaW5lc3MpIHtcbiAgICAgIHByZXZNZXNzYWdlc0xlbmd0aFJlZi5jdXJyZW50ID0gMDtcbiAgICAgIGlzTmVhckJvdHRvbVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIGZldGNoTWVzc2FnZXMoc2VsZWN0ZWRQaG9uZSk7XG4gICAgICBmZXRjaFdpbmRvd1N0YXR1cyhzZWxlY3RlZFBob25lKTtcbiAgICAgIGZldGNoQ29udGFjdEJvdFN0YXR1cyhzZWxlY3RlZFBob25lKTtcbiAgICAgIGZldGNoQ29udGFjdEV4dHJhY3RlZERhdGEoc2VsZWN0ZWRQaG9uZSk7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgZmV0Y2hNZXNzYWdlcyhzZWxlY3RlZFBob25lKTtcbiAgICAgICAgZmV0Y2hXaW5kb3dTdGF0dXMoc2VsZWN0ZWRQaG9uZSk7XG4gICAgICAgIGZldGNoQ29udGFjdEV4dHJhY3RlZERhdGEoc2VsZWN0ZWRQaG9uZSk7XG4gICAgICB9LCA1MDAwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZFBob25lLCBjdXJyZW50QnVzaW5lc3NdKTtcblxuICBjb25zdCBmZXRjaENvbnRhY3RCb3RTdGF0dXMgPSBhc3luYyAocGhvbmU6IHN0cmluZykgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFnc0FwaS5nZXRDb250YWN0Qm90U3RhdHVzKGN1cnJlbnRCdXNpbmVzcy5pZCwgcGhvbmUpO1xuICAgICAgc2V0Q29udGFjdEJvdERpc2FibGVkKHJlc3BvbnNlLmRhdGEuYm90RGlzYWJsZWQgfHwgZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGNvbnRhY3QgYm90IHN0YXR1czonLCBlcnIpO1xuICAgICAgc2V0Q29udGFjdEJvdERpc2FibGVkKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZmV0Y2hDb250YWN0RXh0cmFjdGVkRGF0YSA9IGFzeW5jIChwaG9uZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWdzQXBpLmdldENvbnRhY3RFeHRyYWN0ZWREYXRhKGN1cnJlbnRCdXNpbmVzcy5pZCwgcGhvbmUpO1xuICAgICAgc2V0Q29udGFjdERhdGEocmVzcG9uc2UuZGF0YS5leHRyYWN0ZWREYXRhIHx8IHt9KTtcbiAgICAgIHNldEN1cnJlbnRTdGFnZShyZXNwb25zZS5kYXRhLmN1cnJlbnRTdGFnZSB8fCBudWxsKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb250YWN0IGV4dHJhY3RlZCBkYXRhOicsIGVycik7XG4gICAgICBzZXRDb250YWN0RGF0YSh7fSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUNvbnRhY3RCb3QgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MgfHwgIXNlbGVjdGVkUGhvbmUpIHJldHVybjtcbiAgICBzZXRDb250YWN0Qm90VG9nZ2xpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5ld1N0YXR1cyA9ICFjb250YWN0Qm90RGlzYWJsZWQ7XG4gICAgICBhd2FpdCB0YWdzQXBpLnRvZ2dsZUNvbnRhY3RCb3QoY3VycmVudEJ1c2luZXNzLmlkLCBzZWxlY3RlZFBob25lLCBuZXdTdGF0dXMpO1xuICAgICAgc2V0Q29udGFjdEJvdERpc2FibGVkKG5ld1N0YXR1cyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdG9nZ2xlIGNvbnRhY3QgYm90OicsIGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldENvbnRhY3RCb3RUb2dnbGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZldGNoV2luZG93U3RhdHVzID0gYXN5bmMgKHBob25lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1lc3NhZ2VBcGkud2luZG93U3RhdHVzKGN1cnJlbnRCdXNpbmVzcy5pZCwgcGhvbmUpO1xuICAgICAgc2V0V2luZG93U3RhdHVzKHJlc3BvbnNlLmRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHdpbmRvdyBzdGF0dXM6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZmV0Y2hUZW1wbGF0ZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0ZW1wbGF0ZXNBcGkubGlzdChjdXJyZW50QnVzaW5lc3MuaWQpO1xuICAgICAgY29uc3QgYXBwcm92ZWRUZW1wbGF0ZXMgPSAocmVzcG9uc2UuZGF0YSB8fCBbXSkuZmlsdGVyKCh0OiBUZW1wbGF0ZSkgPT4gdC5zdGF0dXMgPT09ICdBUFBST1ZFRCcpO1xuICAgICAgc2V0VGVtcGxhdGVzKGFwcHJvdmVkVGVtcGxhdGVzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB0ZW1wbGF0ZXM6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0VGVtcGxhdGVWYXJpYWJsZUNvdW50ID0gKHRlbXBsYXRlOiBUZW1wbGF0ZSk6IG51bWJlciA9PiB7XG4gICAgY29uc3QgYm9keUNvbXBvbmVudCA9IHRlbXBsYXRlLmNvbXBvbmVudHM/LmZpbmQoKGM6IGFueSkgPT4gYy50eXBlID09PSAnQk9EWScpO1xuICAgIGlmICghYm9keUNvbXBvbmVudD8udGV4dCkgcmV0dXJuIDA7XG4gICAgY29uc3QgbWF0Y2hlcyA9IGJvZHlDb21wb25lbnQudGV4dC5tYXRjaCgvXFx7XFx7XFxkK1xcfVxcfS9nKSB8fCBbXTtcbiAgICByZXR1cm4gbWF0Y2hlcy5sZW5ndGg7XG4gIH07XG5cbiAgY29uc3QgW3NlbGVjdGVkVGVtcGxhdGVGb3JTZW5kLCBzZXRTZWxlY3RlZFRlbXBsYXRlRm9yU2VuZF0gPSB1c2VTdGF0ZTxUZW1wbGF0ZSB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGhhbmRsZVNlbGVjdFRlbXBsYXRlID0gKHRlbXBsYXRlOiBUZW1wbGF0ZSkgPT4ge1xuICAgIGNvbnN0IHZhckNvdW50ID0gZ2V0VGVtcGxhdGVWYXJpYWJsZUNvdW50KHRlbXBsYXRlKTtcbiAgICBpZiAodmFyQ291bnQgPiAwKSB7XG4gICAgICBzZXRTZWxlY3RlZFRlbXBsYXRlRm9yU2VuZCh0ZW1wbGF0ZSk7XG4gICAgICBzZXRUZW1wbGF0ZVZhcmlhYmxlcyhBcnJheSh2YXJDb3VudCkuZmlsbCgnJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVTZW5kVGVtcGxhdGUodGVtcGxhdGUsIFtdKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VuZFRlbXBsYXRlID0gYXN5bmMgKHRlbXBsYXRlOiBUZW1wbGF0ZSwgdmFyaWFibGVzOiBzdHJpbmdbXSkgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzIHx8ICFzZWxlY3RlZFBob25lKSByZXR1cm47XG4gICAgc2V0U2VuZGluZ1RlbXBsYXRlKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0ZW1wbGF0ZXNBcGkuc2VuZChjdXJyZW50QnVzaW5lc3MuaWQsIHtcbiAgICAgICAgdGVtcGxhdGVOYW1lOiB0ZW1wbGF0ZS5uYW1lLFxuICAgICAgICB0bzogc2VsZWN0ZWRQaG9uZSxcbiAgICAgICAgdmFyaWFibGVzOiB2YXJpYWJsZXMubGVuZ3RoID4gMCA/IHZhcmlhYmxlcyA6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICBzZXRTaG93VGVtcGxhdGVNb2RhbChmYWxzZSk7XG4gICAgICBzZXRTZWxlY3RlZFRlbXBsYXRlRm9yU2VuZChudWxsKTtcbiAgICAgIHNldFRlbXBsYXRlVmFyaWFibGVzKFtdKTtcbiAgICAgIGZldGNoTWVzc2FnZXMoc2VsZWN0ZWRQaG9uZSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIHRlbXBsYXRlOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8ICdFcnJvciBhbCBlbnZpYXIgcGxhbnRpbGxhJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yKG51bGwpLCA1MDAwKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2VuZGluZ1RlbXBsYXRlKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAod2luZG93U3RhdHVzPy5wcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnICYmICF3aW5kb3dTdGF0dXM/LndpbmRvd09wZW4pIHtcbiAgICAgIGZldGNoVGVtcGxhdGVzKCk7XG4gICAgfVxuICB9LCBbd2luZG93U3RhdHVzLCBjdXJyZW50QnVzaW5lc3NdKTtcblxuICBjb25zdCBmZXRjaEluc3RhbmNlUHJvdmlkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB3YUFwaS5zdGF0dXMoY3VycmVudEJ1c2luZXNzLmlkKTtcbiAgICAgIGlmIChyZXNwb25zZS5kYXRhPy5wcm92aWRlcikge1xuICAgICAgICBzZXRJbnN0YW5jZVByb3ZpZGVyKHJlc3BvbnNlLmRhdGEucHJvdmlkZXIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGluc3RhbmNlIHByb3ZpZGVyOicsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZldGNoTmV3Q2hhdFRlbXBsYXRlcyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRlbXBsYXRlc0FwaS5saXN0KGN1cnJlbnRCdXNpbmVzcy5pZCk7XG4gICAgICBjb25zdCBhcHByb3ZlZFRlbXBsYXRlcyA9IChyZXNwb25zZS5kYXRhIHx8IFtdKS5maWx0ZXIoKHQ6IFRlbXBsYXRlKSA9PiB0LnN0YXR1cyA9PT0gJ0FQUFJPVkVEJyk7XG4gICAgICBzZXROZXdDaGF0VGVtcGxhdGVzKGFwcHJvdmVkVGVtcGxhdGVzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB0ZW1wbGF0ZXMgZm9yIG5ldyBjaGF0OicsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5OZXdDaGF0TW9kYWwgPSAoKSA9PiB7XG4gICAgc2V0TmV3Q2hhdFBob25lKCcnKTtcbiAgICBzZXROZXdDaGF0TWVzc2FnZSgnJyk7XG4gICAgc2V0TmV3Q2hhdFVzZVRlbXBsYXRlKGZhbHNlKTtcbiAgICBzZXRTZWxlY3RlZE5ld0NoYXRUZW1wbGF0ZShudWxsKTtcbiAgICBmZXRjaEluc3RhbmNlUHJvdmlkZXIoKTtcbiAgICBpZiAoaW5zdGFuY2VQcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnKSB7XG4gICAgICBmZXRjaE5ld0NoYXRUZW1wbGF0ZXMoKTtcbiAgICB9XG4gICAgc2V0U2hvd05ld0NoYXRNb2RhbCh0cnVlKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaG93TmV3Q2hhdE1vZGFsICYmIGluc3RhbmNlUHJvdmlkZXIgPT09ICdNRVRBX0NMT1VEJykge1xuICAgICAgZmV0Y2hOZXdDaGF0VGVtcGxhdGVzKCk7XG4gICAgfVxuICB9LCBbc2hvd05ld0NoYXRNb2RhbCwgaW5zdGFuY2VQcm92aWRlcl0pO1xuXG4gIGNvbnN0IGhhbmRsZVNlbmROZXdDaGF0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY3VycmVudEJ1c2luZXNzIHx8ICFuZXdDaGF0UGhvbmUudHJpbSgpKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY2xlYW5QaG9uZSA9IG5ld0NoYXRQaG9uZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIGlmIChjbGVhblBob25lLmxlbmd0aCA8IDEwKSB7XG4gICAgICBzZXRFcnJvcignTnVtZXJvIGludmFsaWRvJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldEVycm9yKG51bGwpLCAzMDAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobmV3Q2hhdFVzZVRlbXBsYXRlICYmIHNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlKSB7XG4gICAgICBjb25zdCB2YXJDb3VudCA9IGdldFRlbXBsYXRlVmFyaWFibGVDb3VudChzZWxlY3RlZE5ld0NoYXRUZW1wbGF0ZSk7XG4gICAgICBpZiAodmFyQ291bnQgPiAwICYmIG5ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcy5zb21lKHYgPT4gIXYudHJpbSgpKSkge1xuICAgICAgICBzZXRFcnJvcignQ29tcGxldGEgdG9kYXMgbGFzIHZhcmlhYmxlcyBkZSBsYSBwbGFudGlsbGEnKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvcihudWxsKSwgMzAwMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXROZXdDaGF0U2VuZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAobmV3Q2hhdFVzZVRlbXBsYXRlICYmIHNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlKSB7XG4gICAgICAgIGF3YWl0IHRlbXBsYXRlc0FwaS5zZW5kKGN1cnJlbnRCdXNpbmVzcy5pZCwge1xuICAgICAgICAgIHRlbXBsYXRlTmFtZTogc2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUubmFtZSxcbiAgICAgICAgICB0bzogY2xlYW5QaG9uZSxcbiAgICAgICAgICB2YXJpYWJsZXM6IG5ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcy5sZW5ndGggPiAwID8gbmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzIDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChuZXdDaGF0TWVzc2FnZS50cmltKCkpIHtcbiAgICAgICAgYXdhaXQgd2FBcGkuc2VuZChjdXJyZW50QnVzaW5lc3MuaWQsIHsgXG4gICAgICAgICAgdG86IGNsZWFuUGhvbmUsIFxuICAgICAgICAgIG1lc3NhZ2U6IG5ld0NoYXRNZXNzYWdlIFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEVycm9yKCdFc2NyaWJlIHVuIG1lbnNhamUgbyBzZWxlY2Npb25hIHVuYSBwbGFudGlsbGEnKTtcbiAgICAgICAgc2V0TmV3Q2hhdFNlbmRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldFNob3dOZXdDaGF0TW9kYWwoZmFsc2UpO1xuICAgICAgc2V0TmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzKFtdKTtcbiAgICAgIGZldGNoQ29udmVyc2F0aW9ucygpO1xuICAgICAgc2V0U2VsZWN0ZWRQaG9uZShjbGVhblBob25lKTtcbiAgICAgIHNldFNlbGVjdGVkQ29udGFjdE5hbWUoJycpO1xuICAgICAgZmV0Y2hNZXNzYWdlcyhjbGVhblBob25lKTtcbiAgICAgIGZldGNoV2luZG93U3RhdHVzKGNsZWFuUGhvbmUpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBuZXcgY2hhdDonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLnJlc3BvbnNlPy5kYXRhPy5lcnJvciB8fCAnRXJyb3IgYWwgZW52aWFyIG1lbnNhamUnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3IobnVsbCksIDUwMDApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXROZXdDaGF0U2VuZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZpbHRlcmVkQ29udmVyc2F0aW9ucyA9IGNvbnZlcnNhdGlvbnMuZmlsdGVyKGNvbnYgPT4ge1xuICAgIGlmICghc2VhcmNoUXVlcnkudHJpbSgpKSByZXR1cm4gdHJ1ZTtcbiAgICBjb25zdCBxdWVyeSA9IHNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcGhvbmVNYXRjaCA9IGNvbnYucGhvbmUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSk7XG4gICAgY29uc3QgbmFtZU1hdGNoID0gY29udi5jb250YWN0TmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSk7XG4gICAgcmV0dXJuIHBob25lTWF0Y2ggfHwgbmFtZU1hdGNoO1xuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGlzTmV3Q29udmVyc2F0aW9uID0gcHJldk1lc3NhZ2VzTGVuZ3RoUmVmLmN1cnJlbnQgPT09IDAgJiYgbWVzc2FnZXMubGVuZ3RoID4gMDtcbiAgICBjb25zdCBoYXNOZXdNZXNzYWdlcyA9IG1lc3NhZ2VzLmxlbmd0aCA+IHByZXZNZXNzYWdlc0xlbmd0aFJlZi5jdXJyZW50O1xuICAgIFxuICAgIGlmIChpc05ld0NvbnZlcnNhdGlvbiB8fCAoaGFzTmV3TWVzc2FnZXMgJiYgaXNOZWFyQm90dG9tUmVmLmN1cnJlbnQpKSB7XG4gICAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9XG4gICAgXG4gICAgcHJldk1lc3NhZ2VzTGVuZ3RoUmVmLmN1cnJlbnQgPSBtZXNzYWdlcy5sZW5ndGg7XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIGNvbnN0IGZldGNoQ29udmVyc2F0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1lc3NhZ2VBcGkuY29udmVyc2F0aW9ucyhjdXJyZW50QnVzaW5lc3MuaWQpO1xuICAgICAgc2V0Q29udmVyc2F0aW9ucyhyZXNwb25zZS5kYXRhKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb252ZXJzYXRpb25zOicsIGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmZXRjaE1lc3NhZ2VzID0gYXN5bmMgKHBob25lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1lc3NhZ2VBcGkuY29udmVyc2F0aW9uKGN1cnJlbnRCdXNpbmVzcy5pZCwgcGhvbmUpO1xuICAgICAgc2V0TWVzc2FnZXMocmVzcG9uc2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggbWVzc2FnZXM6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VuZCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFjdXJyZW50QnVzaW5lc3MgfHwgIXNlbGVjdGVkUGhvbmUgfHwgKCFuZXdNZXNzYWdlLnRyaW0oKSAmJiAhcHJldmlld0ZpbGUpKSByZXR1cm47XG5cbiAgICBzZXRTZW5kaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChwcmV2aWV3RmlsZSkge1xuICAgICAgICBzZXRVcGxvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHVwbG9hZFJlcyA9IGF3YWl0IG1lZGlhQXBpLnVwbG9hZChjdXJyZW50QnVzaW5lc3MuaWQsIHByZXZpZXdGaWxlLmZpbGUpO1xuICAgICAgICBjb25zdCB7IHVybCwgdHlwZSwgbWltZXR5cGUgfSA9IHVwbG9hZFJlcy5kYXRhO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2VuZERhdGE6IGFueSA9IHsgdG86IHNlbGVjdGVkUGhvbmUgfTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICBzZW5kRGF0YS5pbWFnZVVybCA9IHVybDtcbiAgICAgICAgICBzZW5kRGF0YS5tZXNzYWdlID0gbmV3TWVzc2FnZSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgIHNlbmREYXRhLnZpZGVvVXJsID0gdXJsO1xuICAgICAgICAgIHNlbmREYXRhLm1lc3NhZ2UgPSBuZXdNZXNzYWdlIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgc2VuZERhdGEuYXVkaW9VcmwgPSB1cmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VuZERhdGEuZmlsZVVybCA9IHVybDtcbiAgICAgICAgICBzZW5kRGF0YS5maWxlTmFtZSA9IHByZXZpZXdGaWxlLmZpbGUubmFtZTtcbiAgICAgICAgICBzZW5kRGF0YS5taW1lVHlwZSA9IG1pbWV0eXBlIHx8IHByZXZpZXdGaWxlLmZpbGUudHlwZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXdhaXQgd2FBcGkuc2VuZChjdXJyZW50QnVzaW5lc3MuaWQsIHNlbmREYXRhKTtcbiAgICAgICAgc2V0UHJldmlld0ZpbGUobnVsbCk7XG4gICAgICAgIHNldFVwbG9hZGluZyhmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCB3YUFwaS5zZW5kKGN1cnJlbnRCdXNpbmVzcy5pZCwgeyB0bzogc2VsZWN0ZWRQaG9uZSwgbWVzc2FnZTogbmV3TWVzc2FnZSB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0TmV3TWVzc2FnZSgnJyk7XG4gICAgICBmZXRjaE1lc3NhZ2VzKHNlbGVjdGVkUGhvbmUpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8ICdFcnJvciBhbCBlbnZpYXIgbWVuc2FqZScpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvcihudWxsKSwgNTAwMCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNlbmRpbmcoZmFsc2UpO1xuICAgICAgc2V0VXBsb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdCA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xuICAgIGlmICghZmlsZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgbGV0IHR5cGUgPSAnZmlsZSc7XG4gICAgaWYgKGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgdHlwZSA9ICdpbWFnZSc7XG4gICAgZWxzZSBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpKSB0eXBlID0gJ3ZpZGVvJztcbiAgICBlbHNlIGlmIChmaWxlLnR5cGUuc3RhcnRzV2l0aCgnYXVkaW8vJykpIHR5cGUgPSAnYXVkaW8nO1xuICAgIFxuICAgIHNldFByZXZpZXdGaWxlKHsgZmlsZSwgdXJsLCB0eXBlIH0pO1xuICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcbiAgfTtcblxuICBjb25zdCBjYW5jZWxQcmV2aWV3ID0gKCkgPT4ge1xuICAgIGlmIChwcmV2aWV3RmlsZSkge1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChwcmV2aWV3RmlsZS51cmwpO1xuICAgICAgc2V0UHJldmlld0ZpbGUobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUJvdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRCdXNpbmVzcykgcmV0dXJuO1xuICAgIHNldEJvdFRvZ2dsaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBidXNpbmVzc0FwaS50b2dnbGVCb3QoY3VycmVudEJ1c2luZXNzLmlkLCAhY3VycmVudEJ1c2luZXNzLmJvdEVuYWJsZWQpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBidXNpbmVzc0FwaS5nZXQoY3VycmVudEJ1c2luZXNzLmlkKTtcbiAgICAgIHVzZUJ1c2luZXNzU3RvcmUuc2V0U3RhdGUoeyBjdXJyZW50QnVzaW5lc3M6IHJlc3BvbnNlLmRhdGEgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdG9nZ2xlIGJvdDonLCBlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRCb3RUb2dnbGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN0YXJ0UmVjb3JkaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pO1xuICAgICAgYXVkaW9TdHJlYW1SZWYuY3VycmVudCA9IHN0cmVhbTtcbiAgICAgIGNvbnN0IG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pO1xuICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50ID0gbWVkaWFSZWNvcmRlcjtcbiAgICAgIGNvbnN0IGF1ZGlvQ2h1bmtzOiBCbG9iW10gPSBbXTtcbiAgICAgIFxuICAgICAgbWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSAoZXZlbnQpID0+IGF1ZGlvQ2h1bmtzLnB1c2goZXZlbnQuZGF0YSk7XG4gICAgICBtZWRpYVJlY29yZGVyLm9uc3RvcCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgYXVkaW9CbG9iID0gbmV3IEJsb2IoYXVkaW9DaHVua3MsIHsgdHlwZTogJ2F1ZGlvL3dlYm0nIH0pO1xuICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoW2F1ZGlvQmxvYl0sICdhdWRpby53ZWJtJywgeyB0eXBlOiAnYXVkaW8vd2VibScgfSk7XG4gICAgICAgIHNldFByZXZpZXdGaWxlKHsgZmlsZSwgdXJsOiBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgICBzZXRJc1JlY29yZGluZyhmYWxzZSk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KCk7XG4gICAgICBzZXRJc1JlY29yZGluZyh0cnVlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWNjZXNzaW5nIG1pY3JvcGhvbmU6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoJ05vIHNlIHB1ZG8gYWNjZWRlciBhbCBtaWNyb2Zvbm8nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3RvcFJlY29yZGluZyA9ICgpID0+IHtcbiAgICBpZiAobWVkaWFSZWNvcmRlclJlZi5jdXJyZW50KSBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQuc3RvcCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUlucHV0Rm9jdXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNJbnB1dEZvY3VzZWQodHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdlbmQnIH0pO1xuICAgIH0sIDMwMCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVJbnB1dEJsdXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNJbnB1dEZvY3VzZWQoZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgZm9ybWF0VGltZSA9IChkYXRlU3RyOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cik7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCdlcycsIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KTtcbiAgfTtcblxuICBjb25zdCBmb3JtYXREYXRlID0gKGRhdGVTdHI6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgaWYgKGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHRvZGF5LnRvRGF0ZVN0cmluZygpKSByZXR1cm4gZm9ybWF0VGltZShkYXRlU3RyKTtcbiAgICBjb25zdCB5ZXN0ZXJkYXkgPSBuZXcgRGF0ZSh0b2RheSk7XG4gICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpO1xuICAgIGlmIChkYXRlLnRvRGF0ZVN0cmluZygpID09PSB5ZXN0ZXJkYXkudG9EYXRlU3RyaW5nKCkpIHJldHVybiAnQXllcic7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlcycsIHsgZGF5OiAnMi1kaWdpdCcsIG1vbnRoOiAnMi1kaWdpdCcgfSk7XG4gIH07XG5cbiAgY29uc3QgaXNJbWFnZVVybCA9ICh1cmw6IHN0cmluZykgPT4gL1xcLihqcGd8anBlZ3xwbmd8Z2lmfHdlYnApKFxcPy4qKT8kL2kudGVzdCh1cmwpO1xuICBjb25zdCBpc1ZpZGVvVXJsID0gKHVybDogc3RyaW5nKSA9PiAvXFwuKG1wNHxtb3Z8d2VibXxhdmkpKFxcPy4qKT8kL2kudGVzdCh1cmwpO1xuICBjb25zdCBpc0F1ZGlvVXJsID0gKHVybDogc3RyaW5nKSA9PiAvXFwuKG9nZ3xtcDN8d2F2fG00YXxhYWN8b3B1c3x3ZWJtKShcXD8uKik/JC9pLnRlc3QodXJsKTtcblxuICBjb25zdCBBdWRpb1BsYXllciA9ICh7IHNyYywgaXNPdXRib3VuZCB9OiB7IHNyYzogc3RyaW5nOyBpc091dGJvdW5kOiBib29sZWFuIH0pID0+IHtcbiAgICBjb25zdCBbaXNQbGF5aW5nLCBzZXRJc1BsYXlpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtkdXJhdGlvbiwgc2V0RHVyYXRpb25dID0gdXNlU3RhdGUoMCk7XG4gICAgY29uc3QgW2N1cnJlbnRUaW1lLCBzZXRDdXJyZW50VGltZV0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50PihudWxsKTtcbiAgICBjb25zdCB3YXZlSGVpZ2h0cyA9IHVzZVJlZihbMTAsIDE0LCA4LCAxNiwgMTIsIDEwLCAxNCwgOCwgMTIsIDE2LCAxMCwgMTRdKTtcblxuICAgIGNvbnN0IHRvZ2dsZVBsYXkgPSAoKSA9PiB7XG4gICAgICBpZiAoYXVkaW9SZWYuY3VycmVudCkge1xuICAgICAgICBpZiAoaXNQbGF5aW5nKSB7XG4gICAgICAgICAgYXVkaW9SZWYuY3VycmVudC5wYXVzZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHNldElzUGxheWluZyghaXNQbGF5aW5nKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0RHVyYXRpb24gPSAoc2VjOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHNlYyAvIDYwKTtcbiAgICAgIGNvbnN0IHMgPSBNYXRoLmZsb29yKHNlYyAlIDYwKTtcbiAgICAgIHJldHVybiBgJHttfToke3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gICAgfTtcblxuICAgIGNvbnN0IHByb2dyZXNzID0gZHVyYXRpb24gPiAwID8gTWF0aC5mbG9vcigoY3VycmVudFRpbWUgLyBkdXJhdGlvbikgKiAxMikgOiAwO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWluLXctWzE2MHB4XVwiPlxuICAgICAgICA8YXVkaW8gXG4gICAgICAgICAgcmVmPXthdWRpb1JlZn0gXG4gICAgICAgICAgc3JjPXtzcmN9IFxuICAgICAgICAgIHByZWxvYWQ9XCJtZXRhZGF0YVwiXG4gICAgICAgICAgb25Mb2FkZWRNZXRhZGF0YT17KGUpID0+IHNldER1cmF0aW9uKChlLnRhcmdldCBhcyBIVE1MQXVkaW9FbGVtZW50KS5kdXJhdGlvbil9XG4gICAgICAgICAgb25UaW1lVXBkYXRlPXsoZSkgPT4gc2V0Q3VycmVudFRpbWUoKGUudGFyZ2V0IGFzIEhUTUxBdWRpb0VsZW1lbnQpLmN1cnJlbnRUaW1lKX1cbiAgICAgICAgICBvbkVuZGVkPXsoKSA9PiB7IHNldElzUGxheWluZyhmYWxzZSk7IHNldEN1cnJlbnRUaW1lKDApOyB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgIC8+XG4gICAgICAgIDxidXR0b24gXG4gICAgICAgICAgb25DbGljaz17dG9nZ2xlUGxheX0gXG4gICAgICAgICAgY2xhc3NOYW1lPXtgdy05IGgtOSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC1zaHJpbmstMCB0cmFuc2l0aW9uLWNvbG9ycyAke2lzT3V0Ym91bmQgPyAnYmctd2hpdGUvMjAgaG92ZXI6Ymctd2hpdGUvMzAnIDogJ2JnLW5lb24tYmx1ZS8yMCBob3ZlcjpiZy1uZW9uLWJsdWUvMzAnfWB9XG4gICAgICAgID5cbiAgICAgICAgICB7aXNQbGF5aW5nID8gKFxuICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cmVjdCB4PVwiNlwiIHk9XCI0XCIgd2lkdGg9XCI0XCIgaGVpZ2h0PVwiMTZcIiAvPjxyZWN0IHg9XCIxNFwiIHk9XCI0XCIgd2lkdGg9XCI0XCIgaGVpZ2h0PVwiMTZcIiAvPjwvc3ZnPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgbWwtMC41XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTggNXYxNGwxMS03elwiIC8+PC9zdmc+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgZ2FwLTFcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kIGdhcC1bM3B4XSBoLTRcIj5cbiAgICAgICAgICAgIHt3YXZlSGVpZ2h0cy5jdXJyZW50Lm1hcCgoaCwgaSkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIGtleT17aX0gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1bM3B4XSByb3VuZGVkLXNtIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTE1MCAke1xuICAgICAgICAgICAgICAgICAgaSA8IHByb2dyZXNzIFxuICAgICAgICAgICAgICAgICAgICA/IChpc091dGJvdW5kID8gJ2JnLXdoaXRlJyA6ICdiZy1uZW9uLWJsdWUnKSBcbiAgICAgICAgICAgICAgICAgICAgOiAoaXNPdXRib3VuZCA/ICdiZy13aGl0ZS8zMCcgOiAnYmctZ3JheS02MDAnKVxuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogYCR7aH1weGAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtWzEwcHhdICR7aXNPdXRib3VuZCA/ICd0ZXh0LXdoaXRlLzYwJyA6ICd0ZXh0LWdyYXktNDAwJ31gfT5cbiAgICAgICAgICAgIHtmb3JtYXREdXJhdGlvbihjdXJyZW50VGltZSA+IDAgPyBjdXJyZW50VGltZSA6IGR1cmF0aW9uIHx8IDApfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlck1lZGlhID0gKG1lZGlhVXJsOiBzdHJpbmcsIGlzT3V0Ym91bmQ6IGJvb2xlYW4sIG1lZGlhVHlwZT86IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBtZWRpYVR5cGU/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XG4gICAgY29uc3QgaXNBdWRpbyA9IHR5cGUgPT09ICdhdWRpbycgfHwgdHlwZSA9PT0gJ3B0dCcgfHwgaXNBdWRpb1VybChtZWRpYVVybCk7XG4gICAgY29uc3QgaXNJbWFnZSA9IHR5cGUgPT09ICdpbWFnZScgfHwgdHlwZSA9PT0gJ3N0aWNrZXInIHx8IGlzSW1hZ2VVcmwobWVkaWFVcmwpO1xuICAgIGNvbnN0IGlzVmlkZW8gPSB0eXBlID09PSAndmlkZW8nIHx8IGlzVmlkZW9VcmwobWVkaWFVcmwpO1xuICAgIFxuICAgIGlmIChpc0ltYWdlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8aW1nIFxuICAgICAgICAgIHNyYz17bWVkaWFVcmx9IFxuICAgICAgICAgIGFsdD1cIlwiIFxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1heC13LWZ1bGwgcm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tb3BhY2l0eVwiIFxuICAgICAgICAgIHN0eWxlPXt7IG1heEhlaWdodDogJzIwMHB4JywgbWF4V2lkdGg6ICcyMjBweCcgfX0gXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4obWVkaWFVcmwsICdfYmxhbmsnKX0gXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaXNWaWRlbykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiIHN0eWxlPXt7IG1heFdpZHRoOiAnMjIwcHgnIH19PlxuICAgICAgICAgIDx2aWRlbyBcbiAgICAgICAgICAgIHNyYz17bWVkaWFVcmx9IFxuICAgICAgICAgICAgY29udHJvbHMgXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtYXgtdy1mdWxsXCIgXG4gICAgICAgICAgICBzdHlsZT17eyBtYXhIZWlnaHQ6ICcxODBweCcgfX0gXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaXNBdWRpbykge1xuICAgICAgcmV0dXJuIDxBdWRpb1BsYXllciBzcmM9e21lZGlhVXJsfSBpc091dGJvdW5kPXtpc091dGJvdW5kfSAvPjtcbiAgICB9XG4gICAgY29uc3QgZmlsZU5hbWUgPSBtZWRpYVVybC5zcGxpdCgnLycpLnBvcCgpPy5zcGxpdCgnPycpWzBdIHx8ICdhcmNoaXZvJztcbiAgICByZXR1cm4gKFxuICAgICAgPGEgXG4gICAgICAgIGhyZWY9e21lZGlhVXJsfSBcbiAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCIgXG4gICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIiBcbiAgICAgICAgY2xhc3NOYW1lPXtgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgdGV4dC1zbSAke2lzT3V0Ym91bmQgPyAndGV4dC13aGl0ZS85MCBob3Zlcjp0ZXh0LXdoaXRlJyA6ICd0ZXh0LW5lb24tYmx1ZSBob3Zlcjp0ZXh0LW5lb24tYmx1ZS1saWdodCd9YH1cbiAgICAgID5cbiAgICAgICAgPHNwYW4+8J+ThDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidW5kZXJsaW5lIHVuZGVybGluZS1vZmZzZXQtMlwiPntmaWxlTmFtZS5sZW5ndGggPiAyMCA/IGZpbGVOYW1lLnNsaWNlKDAsIDE3KSArICcuLi4nIDogZmlsZU5hbWV9PC9zcGFuPlxuICAgICAgPC9hPlxuICAgICk7XG4gIH07XG5cbiAgaWYgKCFjdXJyZW50QnVzaW5lc3MpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLVtjYWxjKDEwMHZoLThyZW0pXSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICA8cD5QcmltZXJvIGRlYmVzIGNyZWFyIHVuYSBlbXByZXNhIHBhcmEgdmVyIGNvbnZlcnNhY2lvbmVzLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3Qgc2hvd0NoYXRMaXN0ID0gY2hhdExpc3RPcGVuIHx8ICFzZWxlY3RlZFBob25lO1xuXG4gIGNvbnN0IGNvbnRhaW5lclN0eWxlID0ga2V5Ym9hcmRIZWlnaHQgPiAwIFxuICAgID8geyBoZWlnaHQ6IGBjYWxjKDEwMHZoIC0gMTIwcHggLSAke2tleWJvYXJkSGVpZ2h0fXB4KWAgfSBcbiAgICA6IHVuZGVmaW5lZDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgXG4gICAgICByZWY9e2NoYXRDb250YWluZXJSZWZ9XG4gICAgICBjbGFzc05hbWU9XCJoLVtjYWxjKDEwMGR2aC0xMjBweCldIHNtOmgtW2NhbGMoMTAwdmgtNnJlbSldIGZsZXggZmxleC1jb2wgYmctZGFyay1iZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xNTBcIlxuICAgICAgc3R5bGU9e2NvbnRhaW5lclN0eWxlfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggb3ZlcmZsb3ctaGlkZGVuIHNtOnJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXIgYmctZGFyay1zdXJmYWNlIHNoYWRvdy1kYXJrLWxnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtzaG93Q2hhdExpc3QgPyAndy1mdWxsIHNtOnctODAnIDogJ2hpZGRlbiBzbTpibG9jayBzbTp3LTAnfSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlci1yIGJvcmRlci1kYXJrLWJvcmRlciBmbGV4IGZsZXgtY29sYH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYm9yZGVyLWIgYm9yZGVyLWRhcmstYm9yZGVyIGJnLWRhcmstY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+Q2hhdHM8L2gyPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIGJnLWRhcmstaG92ZXIgcHgtMiBweS0wLjUgcm91bmRlZC1mdWxsXCI+e2ZpbHRlcmVkQ29udmVyc2F0aW9ucy5sZW5ndGh9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b3Blbk5ld0NoYXRNb2RhbH0gY2xhc3NOYW1lPVwicC0xLjUgcm91bmRlZC1sZyB0ZXh0LW5lb24tYmx1ZSBob3ZlcjpiZy1uZW9uLWJsdWUvMjAgdHJhbnNpdGlvbi1jb2xvcnNcIiB0aXRsZT1cIk51ZXZvIGNoYXRcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiA0djE2bTgtOEg0XCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFZpZXdNb2RlKHZpZXdNb2RlID09PSAnbGlzdCcgPyAna2FuYmFuJyA6ICdsaXN0Jyl9IGNsYXNzTmFtZT17YHAtMS41IHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgJHt2aWV3TW9kZSA9PT0gJ2thbmJhbicgPyAnYmctbmVvbi1ibHVlLzIwIHRleHQtbmVvbi1ibHVlJyA6ICd0ZXh0LWdyYXktNDAwIGhvdmVyOmJnLWRhcmstaG92ZXInfWB9PlxuICAgICAgICAgICAgICAgICAge3ZpZXdNb2RlID09PSAnbGlzdCcgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk05IDE3VjdtMCAxMGEyIDIgMCAwMS0yIDJINWEyIDIgMCAwMS0yLTJWN2EyIDIgMCAwMTItMmgyYTIgMiAwIDAxMiAybTAgMTBhMiAyIDAgMDAyIDJoMmEyIDIgMCAwMDItMk05IDdhMiAyIDAgMDEyLTJoMmEyIDIgMCAwMTIgMm0wIDEwVjdtMCAxMGEyIDIgMCAwMDIgMmgyYTIgMiAwIDAwMi0yVjdhMiAyIDAgMDAtMi0yaC0yYTIgMiAwIDAwLTIgMlwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCA2aDE2TTQgMTBoMTZNNCAxNGgxNk00IDE4aDE2XCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG1iLTJcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hRdWVyeX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJ1c2NhciBwb3IgbnVtZXJvIG8gbm9tYnJlLi4uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcGwtOCBwci0zIHB5LTIgYmctZGFyay1zdXJmYWNlIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXIgcm91bmRlZC1sZyB0ZXh0LXdoaXRlIHRleHQtc20gcGxhY2Vob2xkZXItZ3JheS01MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1uZW9uLWJsdWVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmF5LTUwMCBhYnNvbHV0ZSBsZWZ0LTIuNSB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzJcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMjEgMjFsLTYtNm0yLTVhNyA3IDAgMTEtMTQgMCA3IDcgMCAwMTE0IDB6XCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAge3NlYXJjaFF1ZXJ5ICYmIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNlYXJjaFF1ZXJ5KCcnKX0gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgcC0xIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7ZGFpbHlDb250YWN0cyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgcHgtMiBweS0xLjUgcm91bmRlZC1sZyBtYi0yICR7ZGFpbHlDb250YWN0cy5yZW1haW5pbmcgPD0gMTAgPyAnYmctYWNjZW50LWVycm9yLzIwIHRleHQtYWNjZW50LWVycm9yJyA6IGRhaWx5Q29udGFjdHMucmVtYWluaW5nIDw9IDI1ID8gJ2JnLWFjY2VudC13YXJuaW5nLzIwIHRleHQtYWNjZW50LXdhcm5pbmcnIDogJ2JnLWFjY2VudC1zdWNjZXNzLzIwIHRleHQtYWNjZW50LXN1Y2Nlc3MnfWB9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE3IDIwaDV2LTJhMyAzIDAgMDAtNS4zNTYtMS44NTdNMTcgMjBIN20xMCAwdi0yYzAtLjY1Ni0uMTI2LTEuMjgzLS4zNTYtMS44NTdNNyAyMEgydi0yYTMgMyAwIDAxNS4zNTYtMS44NTdNNyAyMHYtMmMwLS42NTYuMTI2LTEuMjgzLjM1Ni0xLjg1N20wIDBhNS4wMDIgNS4wMDIgMCAwMTkuMjg4IDBNMTUgN2EzIDMgMCAxMS02IDAgMyAzIDAgMDE2IDB6bTYgM2EyIDIgMCAxMS00IDAgMiAyIDAgMDE0IDB6TTcgMTBhMiAyIDAgMTEtNCAwIDIgMiAwIDAxNCAwelwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgICAgICBDb250YWN0b3MgaG95XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e2RhaWx5Q29udGFjdHMuY291bnR9L3tkYWlseUNvbnRhY3RzLmxpbWl0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3ZpZXdNb2RlID09PSAna2FuYmFuJyAmJiB0YWdzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTEgb3ZlcmZsb3cteC1hdXRvIHBiLTEgaGlkZS1zY3JvbGxiYXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVGFnKG51bGwpfSBjbGFzc05hbWU9e2B0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgd2hpdGVzcGFjZS1ub3dyYXAgZmxleC1zaHJpbmstMCAke3NlbGVjdGVkVGFnID09PSBudWxsID8gJ2JnLXdoaXRlIHRleHQtZGFyay1iZycgOiAnYmctZGFyay1ob3ZlciB0ZXh0LWdyYXktNDAwIGhvdmVyOmJnLWRhcmstYm9yZGVyJ31gfT5TaW4gZXRpcXVldGE8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7dGFncy5tYXAodGFnID0+IChcbiAgICAgICAgICAgICAgICAgIDxidXR0b24ga2V5PXt0YWcuaWR9IG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVGFnKHRhZy5pZCl9IGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCB3aGl0ZXNwYWNlLW5vd3JhcCBmbGV4LXNocmluay0wXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBzZWxlY3RlZFRhZyA9PT0gdGFnLmlkID8gdGFnLmNvbG9yIDogYCR7dGFnLmNvbG9yfTMwYCwgY29sb3I6IHNlbGVjdGVkVGFnID09PSB0YWcuaWQgPyAnd2hpdGUnIDogdGFnLmNvbG9yIH19Pnt0YWcubmFtZX0gKHtnZXRDb252ZXJzYXRpb25zQnlUYWcodGFnLmlkKS5sZW5ndGh9KTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHNjcm9sbGJhci10aGluIHNjcm9sbC1zbW9vdGgtaW9zXCI+XG4gICAgICAgICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXJcIj48ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC02IHctNiBib3JkZXItYi0yIGJvcmRlci1uZW9uLWJsdWUgbXgtYXV0b1wiIC8+PC9kaXY+XG4gICAgICAgICAgICApIDogZmlsdGVyZWRDb252ZXJzYXRpb25zLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbXgtYXV0byBtYi0zIGJnLWRhcmstY2FyZCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LWdyYXktNjAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTggMTJoLjAxTTEyIDEyaC4wMU0xNiAxMmguMDFNMjEgMTJjMCA0LjQxOC00LjAzIDgtOSA4YTkuODYzIDkuODYzIDAgMDEtNC4yNTUtLjk0OUwzIDIwbDEuMzk1LTMuNzJDMy41MTIgMTUuMDQyIDMgMTMuNTc0IDMgMTJjMC00LjQxOCA0LjAzLTggOS04czkgMy41ODIgOSA4elwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3NlYXJjaFF1ZXJ5ID8gJ05vIHNlIGVuY29udHJhcm9uIHJlc3VsdGFkb3MnIDogJ05vIGhheSBjb252ZXJzYWNpb25lcyd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgKHZpZXdNb2RlID09PSAna2FuYmFuJyA/IGdldENvbnZlcnNhdGlvbnNCeVRhZyhzZWxlY3RlZFRhZykgOiBmaWx0ZXJlZENvbnZlcnNhdGlvbnMpLm1hcCgoY29udikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhY3RUYWcgPSBnZXRDb250YWN0VGFnKGNvbnYucGhvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17Y29udi5waG9uZX0gb25DbGljaz17KCkgPT4geyBzZXRTZWxlY3RlZFBob25lKGNvbnYucGhvbmUpOyBzZXRTZWxlY3RlZENvbnRhY3ROYW1lKGNvbnYuY29udGFjdE5hbWUgfHwgJycpOyBzZXRDaGF0TGlzdE9wZW4oZmFsc2UpOyB9fSBjbGFzc05hbWU9e2B3LWZ1bGwgcC0zIHRleHQtbGVmdCBob3ZlcjpiZy1kYXJrLWhvdmVyIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zICR7c2VsZWN0ZWRQaG9uZSA9PT0gY29udi5waG9uZSA/ICdiZy1uZW9uLWJsdWUvMTAgYm9yZGVyLWwtMiBib3JkZXItbmVvbi1ibHVlJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiBiZy1kYXJrLWNhcmQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZsZXgtc2hyaW5rLTAgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsXCI+8J+RpDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7Y29udGFjdFRhZyAmJiA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC1ib3R0b20tMSAtcmlnaHQtMSB3LTQgaC00IHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItZGFyay1zdXJmYWNlXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBjb250YWN0VGFnLmNvbG9yIH19IC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXdoaXRlIHRydW5jYXRlIHRleHQtc21cIj57Y29udi5jb250YWN0TmFtZSB8fCBgKyR7Y29udi5waG9uZX1gfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBmbGV4LXNocmluay0wIG1sLTJcIj57Zm9ybWF0RGF0ZShjb252Lmxhc3RNZXNzYWdlQXQpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG10LTAuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwIHRydW5jYXRlIGZsZXgtMVwiPntjb252Lmxhc3RNZXNzYWdlIHx8ICdTaW4gbWVuc2FqZXMnfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjb250YWN0VGFnICYmIHZpZXdNb2RlID09PSAnbGlzdCcgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBweC0xLjUgcHktMC41IHJvdW5kZWQtZnVsbCBmbGV4LXNocmluay0wXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBgJHtjb250YWN0VGFnLmNvbG9yfTIwYCwgY29sb3I6IGNvbnRhY3RUYWcuY29sb3IgfX0+e2NvbnRhY3RUYWcubmFtZX08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7c2VsZWN0ZWRQaG9uZSA/ICdmbGV4JyA6ICdoaWRkZW4gc206ZmxleCd9IGZsZXgtMSBmbGV4LWNvbCBtaW4tdy0wYH0+XG4gICAgICAgICAge3NlbGVjdGVkUGhvbmUgPyAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgc206cHgtNCBweS0zIGJvcmRlci1iIGJvcmRlci1kYXJrLWJvcmRlciBiZy1kYXJrLWNhcmQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0Q2hhdExpc3RPcGVuKHRydWUpOyBzZXRTZWxlY3RlZFBob25lKG51bGwpOyB9fSBjbGFzc05hbWU9XCJzbTpoaWRkZW4gcC0xLjUgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTUgMTlsLTctNyA3LTdcIiAvPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0Q2hhdExpc3RPcGVuKCFjaGF0TGlzdE9wZW4pfSBjbGFzc05hbWU9XCJoaWRkZW4gc206YmxvY2sgcC0xIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgIHtjaGF0TGlzdE9wZW4gPyA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezIuNX0gZD1cIk0xMSAxOWwtNy03IDctN204IDE0bC03LTcgNy03XCIgLz4gOiA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezIuNX0gZD1cIk0xMyA1bDcgNy03IDdNNSA1bDcgNy03IDdcIiAvPn1cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIGJnLW5lb24tYmx1ZS8yMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbmVvbi1ibHVlIHRleHQtbGdcIj7wn5GkPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSB0cnVuY2F0ZVwiPntzZWxlY3RlZENvbnRhY3ROYW1lIHx8IGArJHtzZWxlY3RlZFBob25lfWB9PC9wPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IGZsZXgtd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUNvbnRhY3RCb3R9IFxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjb250YWN0Qm90VG9nZ2xpbmd9IFxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtjb250YWN0Qm90RGlzYWJsZWQgPyAnQm90IGRlc2FjdGl2YWRvIHBhcmEgZXN0ZSBjb250YWN0bycgOiAnQm90IGFjdGl2byBwYXJhIGVzdGUgY29udGFjdG8nfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRleHQteHMgcHgtMS41IHB5LTAuNSByb3VuZGVkIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0Qm90RGlzYWJsZWQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWFjY2VudC1lcnJvci8yMCB0ZXh0LWFjY2VudC1lcnJvcicgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudEJ1c2luZXNzLmJvdEVuYWJsZWQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctYWNjZW50LXN1Y2Nlc3MvMjAgdGV4dC1hY2NlbnQtc3VjY2VzcycgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZGFyay1ob3ZlciB0ZXh0LWdyYXktNDAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2NvbnRhY3RCb3REaXNhYmxlZCA/ICfwn5qrIEJvdCBvZmYnIDogY3VycmVudEJ1c2luZXNzLmJvdEVuYWJsZWQgPyAn8J+kliBCb3QnIDogJ/CfmLQgR2xvYmFsIG9mZid9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICB7d2luZG93U3RhdHVzPy5wcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B0ZXh0LXhzIHB4LTEuNSBweS0wLjUgcm91bmRlZCAke3dpbmRvd1N0YXR1cy53aW5kb3dPcGVuID8gJ2JnLW5lb24tYmx1ZS8yMCB0ZXh0LW5lb24tYmx1ZScgOiAnYmctYWNjZW50LXdhcm5pbmcvMjAgdGV4dC1hY2NlbnQtd2FybmluZyd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7d2luZG93U3RhdHVzLndpbmRvd09wZW4gPyBg8J+TrCAke3dpbmRvd1N0YXR1cy5ob3Vyc1JlbWFpbmluZ31oYCA6ICfwn5OtIFRlbXBsYXRlJ31cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8c2VsZWN0IHZhbHVlPXtnZXRDb250YWN0VGFnKHNlbGVjdGVkUGhvbmUpPy5pZCB8fCAnJ30gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVBc3NpZ25UYWcoc2VsZWN0ZWRQaG9uZSwgZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJoaWRkZW4gc206YmxvY2sgdGV4dC14cyBiZy1kYXJrLWNhcmQgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkIHB4LTIgcHktMSB0ZXh0LXdoaXRlXCIgZGlzYWJsZWQ9e2Fzc2lnbmluZ1RhZ30+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2luIGV0YXBhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICB7dGFncy5tYXAodGFnID0+IDxvcHRpb24ga2V5PXt0YWcuaWR9IHZhbHVlPXt0YWcuaWR9Pnt0YWcubmFtZX08L29wdGlvbj4pfVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q29udGFjdFBhbmVsKCFzaG93Q29udGFjdFBhbmVsKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnMgJHtzaG93Q29udGFjdFBhbmVsID8gJ2JnLW5lb24tYmx1ZS8yMCB0ZXh0LW5lb24tYmx1ZScgOiAndGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXdoaXRlIGhvdmVyOmJnLWRhcmstaG92ZXInfWB9XG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkRhdG9zIGRlbCBjb250YWN0b1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMyAxNmgtMXYtNGgtMW0xLTRoLjAxTTIxIDEyYTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge3Nob3dDb250YWN0UGFuZWwgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0zIGJvcmRlci1iIGJvcmRlci1kYXJrLWJvcmRlciBiZy1kYXJrLXN1cmZhY2VcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiPkRhdG9zIGRlbCBDb250YWN0bzwvaDQ+XG4gICAgICAgICAgICAgICAgICAgIHtjdXJyZW50U3RhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0wLjUgcm91bmRlZC1mdWxsXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBgJHtjdXJyZW50U3RhZ2UuY29sb3J9MjBgLCBjb2xvcjogY3VycmVudFN0YWdlLmNvbG9yIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRTdGFnZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKGNvbnRhY3REYXRhKS5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTIgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjb250YWN0RGF0YS5ub21icmUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+Tm9tYnJlOjwvc3Bhbj4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntjb250YWN0RGF0YS5ub21icmV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2NvbnRhY3REYXRhLmVtYWlsICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPkVtYWlsOjwvc3Bhbj4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntjb250YWN0RGF0YS5lbWFpbH08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICB7Y29udGFjdERhdGEuZGlyZWNjaW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNwYW4tMlwiPjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5EaXJlY2Npw7NuOjwvc3Bhbj4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntjb250YWN0RGF0YS5kaXJlY2Npb259PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2NvbnRhY3REYXRhLmNpdWRhZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5DaXVkYWQ6PC9zcGFuPiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCI+e2NvbnRhY3REYXRhLmNpdWRhZH08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICB7Y29udGFjdERhdGEuY29kaWdvX3Bvc3RhbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5DLlAuOjwvc3Bhbj4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntjb250YWN0RGF0YS5jb2RpZ29fcG9zdGFsfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHtjb250YWN0RGF0YS5kb2N1bWVudG8gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+RG9jdW1lbnRvOjwvc3Bhbj4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntjb250YWN0RGF0YS5kb2N1bWVudG99PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge2NvbnRhY3REYXRhLm5vdGFzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNwYW4tMlwiPjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5Ob3Rhczo8L3NwYW4+IDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj57Y29udGFjdERhdGEubm90YXN9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+U2luIGRhdG9zIGV4dHJhw61kb3MgYcO6bi4gTG9zIGRhdG9zIHNlIGV4dHJhZW4gYXV0b23DoXRpY2FtZW50ZSBkZSBsYXMgY29udmVyc2FjaW9uZXMuPC9wPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC0zIHNtOnAtNCBzcGFjZS15LTIgc2Nyb2xsLXNtb290aC1pb3Mgc2Nyb2xsYmFyLXRoaW4gYmctZGFyay1iZ1wiXG4gICAgICAgICAgICAgICAgb25TY3JvbGw9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IDE1MDtcbiAgICAgICAgICAgICAgICAgIGlzTmVhckJvdHRvbVJlZi5jdXJyZW50ID0gZWwuc2Nyb2xsSGVpZ2h0IC0gZWwuc2Nyb2xsVG9wIC0gZWwuY2xpZW50SGVpZ2h0IDwgdGhyZXNob2xkO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtc2cpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXttc2cuaWR9IGNsYXNzTmFtZT17YGZsZXggJHttc2cuZGlyZWN0aW9uID09PSAnb3V0Ym91bmQnID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J31gfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BjaGF0LWJ1YmJsZSAke21zZy5kaXJlY3Rpb24gPT09ICdvdXRib3VuZCcgPyAnY2hhdC1idWJibGUtb3V0Z29pbmcnIDogJ2NoYXQtYnViYmxlLWluY29taW5nJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICB7bXNnLm1lZGlhVXJsICYmIHJlbmRlck1lZGlhKG1zZy5tZWRpYVVybCwgbXNnLmRpcmVjdGlvbiA9PT0gJ291dGJvdW5kJywgbXNnLm1ldGFkYXRhPy5tZWRpYVR5cGUgfHwgbXNnLm1ldGFkYXRhPy50eXBlKX1cbiAgICAgICAgICAgICAgICAgICAgICB7bXNnLm1lc3NhZ2UgJiYgPHAgY2xhc3NOYW1lPVwiYnJlYWstd29yZHMgd2hpdGVzcGFjZS1wcmUtd3JhcCB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPnttc2cubWVzc2FnZX08L3A+fVxuICAgICAgICAgICAgICAgICAgICAgIHttc2cuZGlyZWN0aW9uID09PSAnaW5ib3VuZCcgJiYgbXNnLm1ldGFkYXRhPy5tZWRpYUFuYWx5c2lzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMSBncm91cCByZWxhdGl2ZSBpbmxpbmUtYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdGV4dC1bMTBweF0gcHgtMS41IHB5LTAuNSBiZy1wdXJwbGUtNTAwLzE1IHRleHQtcHVycGxlLTQwMCByb3VuZGVkIGN1cnNvci1oZWxwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+4pyoPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkFuYWxpemFkbzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMCBtYi0xIHctNTYgc206dy02NCBwLTIgYmctZGFyay1jYXJkIGJvcmRlciBib3JkZXItcHVycGxlLTUwMC8yMCByb3VuZGVkLW1kIHNoYWRvdy1sZyBvcGFjaXR5LTAgaW52aXNpYmxlIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIGdyb3VwLWhvdmVyOnZpc2libGUgdHJhbnNpdGlvbi1hbGwgei01MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtcHVycGxlLTQwMCBmb250LW1lZGl1bSBtYi0wLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttc2cubWV0YWRhdGE/Lm1lZGlhVHlwZSA9PT0gJ2F1ZGlvJyB8fCBtc2cubWV0YWRhdGE/LnR5cGUgPT09ICdhdWRpbycgfHwgbXNnLm1ldGFkYXRhPy50eXBlID09PSAncHR0JyA/ICfwn46kIFRyYW5zY3JpcGNpw7NuOicgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cubWV0YWRhdGE/Lm1lZGlhVHlwZSA9PT0gJ2ltYWdlJyB8fCBtc2cubWV0YWRhdGE/LnR5cGUgPT09ICdpbWFnZScgfHwgbXNnLm1ldGFkYXRhPy50eXBlID09PSAnc3RpY2tlcicgPyAn8J+WvO+4jyBEZXNjcmlwY2nDs246JyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5tZXRhZGF0YT8ubWVkaWFUeXBlID09PSAndmlkZW8nIHx8IG1zZy5tZXRhZGF0YT8udHlwZSA9PT0gJ3ZpZGVvJyA/ICfwn46sIERlc2NyaXBjacOzbjonIDogJ/Cfk44gQW7DoWxpc2lzOid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtZ3JheS00MDAgd2hpdGVzcGFjZS1wcmUtd3JhcCBtYXgtaC0zMiBvdmVyZmxvdy15LWF1dG8gbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bXNnLm1ldGFkYXRhLm1lZGlhQW5hbHlzaXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC14cyBtdC0xIHRleHQtcmlnaHQgJHttc2cuZGlyZWN0aW9uID09PSAnb3V0Ym91bmQnID8gJ3RleHQtbmVvbi1ibHVlLWRhcmsnIDogJ3RleHQtZ3JheS01MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFRpbWUobXNnLmNyZWF0ZWRBdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7bXNnLmRpcmVjdGlvbiA9PT0gJ291dGJvdW5kJyAmJiA8c3BhbiBjbGFzc05hbWU9XCJtbC0xXCI+4pyT4pyTPC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7cHJldmlld0ZpbGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMyBweS0yIGJvcmRlci10IGJvcmRlci1kYXJrLWJvcmRlciBiZy1kYXJrLWNhcmRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcC0yIGJnLWRhcmstc3VyZmFjZSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAge3ByZXZpZXdGaWxlLnR5cGUgPT09ICdpbWFnZScgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3ByZXZpZXdGaWxlLnVybH0gYWx0PVwiUHJldmlld1wiIGNsYXNzTmFtZT1cInctMTQgaC0xNCBvYmplY3QtY292ZXIgcm91bmRlZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiBwcmV2aWV3RmlsZS50eXBlID09PSAnYXVkaW8nID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCBiZy1uZW9uLWJsdWUvMjAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+PHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtbmVvbi1ibHVlXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDExYTcgNyAwIDAxLTcgN20wIDBhNyA3IDAgMDEtNy03bTcgN3Y0bTAgMEg4bTQgMGg0bS00LThhMyAzIDAgMDEtMy0zVjVhMyAzIDAgMTE2IDB2NmEzIDMgMCAwMS0zIDN6XCIgLz48L3N2Zz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhdWRpbyBjb250cm9scyBjbGFzc05hbWU9XCJoLTEwIGZsZXgtMVwiIHN0eWxlPXt7IG1heFdpZHRoOiAnMTgwcHgnIH19Pjxzb3VyY2Ugc3JjPXtwcmV2aWV3RmlsZS51cmx9IC8+PC9hdWRpbz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTQgaC0xNCBiZy1kYXJrLWhvdmVyIHJvdW5kZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj48c3ZnIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1ncmF5LTQwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk03IDIxaDEwYTIgMiAwIDAwMi0yVjkuNDE0YTEgMSAwIDAwLS4yOTMtLjcwN2wtNS40MTQtNS40MTRBMSAxIDAgMDAxMi41ODYgM0g3YTIgMiAwIDAwLTIgMnYxNGEyIDIgMCAwMDIgMnpcIiAvPjwvc3ZnPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2NhbmNlbFByZXZpZXd9IGNsYXNzTmFtZT1cInAtMS41IHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1hY2NlbnQtZXJyb3IgaG92ZXI6YmctYWNjZW50LWVycm9yLzEwIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9yc1wiPjxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz48L3N2Zz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHtlcnJvciAmJiA8ZGl2IGNsYXNzTmFtZT1cIm14LTMgbWItMiBweC00IHB5LTIgYmctYWNjZW50LWVycm9yLzEwIGJvcmRlciBib3JkZXItYWNjZW50LWVycm9yLzIwIHJvdW5kZWQtbGcgdGV4dC1hY2NlbnQtZXJyb3IgdGV4dC1zbVwiPntlcnJvcn08L2Rpdj59XG5cbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVNlbmR9IGNsYXNzTmFtZT1cInAtMyBib3JkZXItdCBib3JkZXItZGFyay1ib3JkZXIgYmctZGFyay1jYXJkIHNhZmUtYXJlYS1wYlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIHJlZj17ZmlsZUlucHV0UmVmfSBvbkNoYW5nZT17aGFuZGxlRmlsZVNlbGVjdH0gY2xhc3NOYW1lPVwiaGlkZGVuXCIgYWNjZXB0PVwiaW1hZ2UvKix2aWRlby8qLC5wZGYsLmRvYywuZG9jeFwiIC8+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX0gY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBwLTIuNSB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtd2hpdGUgaG92ZXI6YmctZGFyay1ob3ZlciByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnNcIiBkaXNhYmxlZD17c2VuZGluZyB8fCAod2luZG93U3RhdHVzPy5wcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnICYmICF3aW5kb3dTdGF0dXM/LndpbmRvd09wZW4pfT5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01IHNtOnctNiBzbTpoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTUuMTcyIDdsLTYuNTg2IDYuNTg2YTIgMiAwIDEwMi44MjggMi44MjhsNi40MTQtNi41ODZhNCA0IDAgMDAtNS42NTYtNS42NTZsLTYuNDE1IDYuNTg1YTYgNiAwIDEwOC40ODYgOC40ODZMMjAuNSAxM1wiIC8+PC9zdmc+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e2lzUmVjb3JkaW5nID8gaGFuZGxlU3RvcFJlY29yZGluZyA6IGhhbmRsZVN0YXJ0UmVjb3JkaW5nfSBjbGFzc05hbWU9e2BmbGV4LXNocmluay0wIHAtMi41IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyAke2lzUmVjb3JkaW5nID8gJ2JnLWFjY2VudC1lcnJvciB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2UnIDogJ3RleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZSBob3ZlcjpiZy1kYXJrLWhvdmVyJ31gfSBkaXNhYmxlZD17KHNlbmRpbmcgJiYgIWlzUmVjb3JkaW5nKSB8fCAod2luZG93U3RhdHVzPy5wcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnICYmICF3aW5kb3dTdGF0dXM/LndpbmRvd09wZW4pfT5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01IHNtOnctNiBzbTpoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTkgMTFhNyA3IDAgMDEtNyA3bTAgMGE3IDcgMCAwMS03LTdtNyA3djRtMCAwSDhtNCAwaDRtLTQtOGEzIDMgMCAwMS0zLTNWNWEzIDMgMCAxMTYgMHY2YTMgMyAwIDAxLTMgM3pcIiAvPjwvc3ZnPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdNZXNzYWdlfSBcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX0gXG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9e2hhbmRsZUlucHV0Rm9jdXN9XG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cj17aGFuZGxlSW5wdXRCbHVyfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17d2luZG93U3RhdHVzPy5wcm92aWRlciA9PT0gJ01FVEFfQ0xPVUQnICYmICF3aW5kb3dTdGF0dXM/LndpbmRvd09wZW4gPyBcIlZlbnRhbmEgY2VycmFkYSAtIHVzYSBwbGFudGlsbGFcIiA6IFwiRXNjcmliZSB1biBtZW5zYWplLi4uXCJ9IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMCBweC00IHB5LTIuNSBiZy1kYXJrLXN1cmZhY2UgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkLWZ1bGwgdGV4dC13aGl0ZSBwbGFjZWhvbGRlci1ncmF5LTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLW5lb24tYmx1ZSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1uZW9uLWJsdWUvNTAgdGV4dC1zbSBzbTp0ZXh0LWJhc2VcIiBcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NlbmRpbmcgfHwgKHdpbmRvd1N0YXR1cz8ucHJvdmlkZXIgPT09ICdNRVRBX0NMT1VEJyAmJiAhd2luZG93U3RhdHVzPy53aW5kb3dPcGVuKX1cbiAgICAgICAgICAgICAgICAgICAgZW50ZXJLZXlIaW50PVwic2VuZFwiXG4gICAgICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cIm9mZlwiXG4gICAgICAgICAgICAgICAgICAgIGF1dG9Db3JyZWN0PVwib25cIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIHt3aW5kb3dTdGF0dXM/LnByb3ZpZGVyID09PSAnTUVUQV9DTE9VRCcgJiYgIXdpbmRvd1N0YXR1cz8ud2luZG93T3BlbiA/IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCIgXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1RlbXBsYXRlTW9kYWwodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBwLTIuNSBiZy1hY2NlbnQtd2FybmluZyB0ZXh0LWRhcmstYmcgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWFjY2VudC13YXJuaW5nLzgwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkVudmlhciBwbGFudGlsbGFcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01IHNtOnctNiBzbTpoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSAxMmg2bS02IDRoNm0yIDVIN2EyIDIgMCAwMS0yLTJWNWEyIDIgMCAwMTItMmg1LjU4NmExIDEgMCAwMS43MDcuMjkzbDUuNDE0IDUuNDE0YTEgMSAwIDAxLjI5My43MDdWMTlhMiAyIDAgMDEtMiAyelwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgZGlzYWJsZWQ9e3NlbmRpbmcgfHwgKCFuZXdNZXNzYWdlLnRyaW0oKSAmJiAhcHJldmlld0ZpbGUpfSBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHAtMi41IGJnLW5lb24tYmx1ZSB0ZXh0LWRhcmstYmcgcm91bmRlZC1mdWxsIGhvdmVyOmJnLW5lb24tYmx1ZS1saWdodCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0cmFuc2l0aW9uLWNvbG9ycyBzaGFkb3ctbmVvbi1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtzZW5kaW5nID8gPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IHNtOnctNiBzbTpoLTYgYm9yZGVyLTIgYm9yZGVyLWRhcmstYmcgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiIC8+IDogPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01IHNtOnctNiBzbTpoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTIgMTlsOSAyLTktMTgtOSAxOCA5LTJ6bTAgMHYtOFwiIC8+PC9zdmc+fVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWdyYXktNTAwIGJnLWRhcmstYmdcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTI0IGgtMjQgYmctZGFyay1jYXJkIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgdGV4dC1ncmF5LTYwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk04IDEyaC4wMU0xMiAxMmguMDFNMTYgMTJoLjAxTTIxIDEyYzAgNC40MTgtNC4wMyA4LTkgOGE5Ljg2MyA5Ljg2MyAwIDAxLTQuMjU1LS45NDlMMyAyMGwxLjM5NS0zLjcyQzMuNTEyIDE1LjA0MiAzIDEzLjU3NCAzIDEyYzAtNC40MTggNC4wMy04IDktOHM5IDMuNTgyIDkgOHpcIiAvPjwvc3ZnPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNDAwXCI+U2VsZWNjaW9uYSB1biBjaGF0PC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgbXQtMVwiPkVsaWdlIHVuYSBjb252ZXJzYWNpb24gcGFyYSBjb21lbnphcjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtzaG93VGVtcGxhdGVNb2RhbCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay82MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZGFyay1jYXJkIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXIgcm91bmRlZC14bCB3LWZ1bGwgbWF4LXctbWQgbWF4LWgtWzgwdmhdIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLWRhcmstYm9yZGVyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQgPyAnQ29tcGxldGFyIFZhcmlhYmxlcycgOiAnU2VsZWNjaW9uYXIgUGxhbnRpbGxhJ31cbiAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNldFNob3dUZW1wbGF0ZU1vZGFsKGZhbHNlKTsgc2V0U2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQobnVsbCk7IHNldFRlbXBsYXRlVmFyaWFibGVzKFtdKTsgfX0gY2xhc3NOYW1lPVwicC0xIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz48L3N2Zz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IG92ZXJmbG93LXktYXV0byBtYXgtaC1bNjB2aF1cIj5cbiAgICAgICAgICAgICAge3NlbGVjdGVkVGVtcGxhdGVGb3JTZW5kID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBiZy1kYXJrLXN1cmZhY2UgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtd2hpdGUgbWItMVwiPntzZWxlY3RlZFRlbXBsYXRlRm9yU2VuZC5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVGVtcGxhdGVGb3JTZW5kLmNvbXBvbmVudHM/LmZpbmQoKGM6IGFueSkgPT4gYy50eXBlID09PSAnQk9EWScpPy50ZXh0IHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMFwiPkNvbXBsZXRhIGxvcyB2YWxvcmVzIHBhcmEgbGFzIHZhcmlhYmxlczo8L3A+XG4gICAgICAgICAgICAgICAgICAgIHt0ZW1wbGF0ZVZhcmlhYmxlcy5tYXAoKHZhbHVlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNTAwIG1iLTFcIj5WYXJpYWJsZSB7YHt7JHtpbmRleCArIDF9fX1gfTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhcnMgPSBbLi4udGVtcGxhdGVWYXJpYWJsZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhcnNbaW5kZXhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcGxhdGVWYXJpYWJsZXMobmV3VmFycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgVmFsb3IgcGFyYSB7eyR7aW5kZXggKyAxfX19YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBiZy1kYXJrLWJnIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXIgcm91bmRlZC1sZyB0ZXh0LXdoaXRlIHBsYWNlaG9sZGVyLWdyYXktNTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItbmVvbi1ibHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgc2V0U2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQobnVsbCk7IHNldFRlbXBsYXRlVmFyaWFibGVzKFtdKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHktMiBiZy1kYXJrLXN1cmZhY2UgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkLWxnIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBWb2x2ZXJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTZW5kVGVtcGxhdGUoc2VsZWN0ZWRUZW1wbGF0ZUZvclNlbmQsIHRlbXBsYXRlVmFyaWFibGVzKX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2VuZGluZ1RlbXBsYXRlIHx8IHRlbXBsYXRlVmFyaWFibGVzLnNvbWUodiA9PiAhdi50cmltKCkpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweS0yIGJnLW5lb24tYmx1ZSB0ZXh0LWRhcmstYmcgcm91bmRlZC1sZyBmb250LW1lZGl1bSBob3ZlcjpiZy1uZW9uLWJsdWUtbGlnaHQgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3NlbmRpbmdUZW1wbGF0ZSA/ICdFbnZpYW5kby4uLicgOiAnRW52aWFyJ31cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IHRlbXBsYXRlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04XCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Tm8gaGF5IHBsYW50aWxsYXMgYXByb2JhZGFzPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCB0ZXh0LXNtIG10LTJcIj5WZSBhIFBsYW50aWxsYXMgcGFyYSBzaW5jcm9uaXphciBkZXNkZSBNZXRhPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICB7dGVtcGxhdGVzLm1hcCgodGVtcGxhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyQ291bnQgPSBnZXRUZW1wbGF0ZVZhcmlhYmxlQ291bnQodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGVtcGxhdGUuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTZWxlY3RUZW1wbGF0ZSh0ZW1wbGF0ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2VuZGluZ1RlbXBsYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBiZy1kYXJrLXN1cmZhY2UgYm9yZGVyIGJvcmRlci1kYXJrLWJvcmRlciByb3VuZGVkLWxnIHRleHQtbGVmdCBob3Zlcjpib3JkZXItbmVvbi1ibHVlIHRyYW5zaXRpb24tY29sb3JzIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiPnt0ZW1wbGF0ZS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt2YXJDb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTAuNSBiZy1hY2NlbnQtd2FybmluZy8yMCB0ZXh0LWFjY2VudC13YXJuaW5nIHJvdW5kZWRcIj57dmFyQ291bnR9IHZhcnt2YXJDb3VudCA+IDEgPyAncycgOiAnJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHB4LTIgcHktMC41IGJnLWFjY2VudC1zdWNjZXNzLzIwIHRleHQtYWNjZW50LXN1Y2Nlc3Mgcm91bmRlZFwiPnt0ZW1wbGF0ZS5jYXRlZ29yeX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3RlbXBsYXRlLmNvbXBvbmVudHM/LmZpbmQoKGM6IGFueSkgPT4gYy50eXBlID09PSAnQk9EWScpPy50ZXh0Py5zdWJzdHJpbmcoMCwgMTAwKSB8fCAnU2luIGNvbnRlbmlkbyBkZSBjdWVycG8nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7KHRlbXBsYXRlLmNvbXBvbmVudHM/LmZpbmQoKGM6IGFueSkgPT4gYy50eXBlID09PSAnQk9EWScpPy50ZXh0Py5sZW5ndGggfHwgMCkgPiAxMDAgJiYgJy4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMVwiPklkaW9tYToge3RlbXBsYXRlLmxhbmd1YWdlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge3Nob3dOZXdDaGF0TW9kYWwgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNjAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MCBwLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWRhcmstY2FyZCBib3JkZXIgYm9yZGVyLWRhcmstYm9yZGVyIHJvdW5kZWQteGwgdy1mdWxsIG1heC13LW1kIG1heC1oLVs4MHZoXSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJvcmRlci1kYXJrLWJvcmRlciBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+TnVldm8gQ2hhdDwvaDM+XG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd05ld0NoYXRNb2RhbChmYWxzZSl9IGNsYXNzTmFtZT1cInAtMSB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+PC9zdmc+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSB0ZXh0LWdyYXktNDAwIG1iLTFcIj5OdW1lcm8gZGUgdGVsZWZvbm88L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRlbFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3Q2hhdFBob25lfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdDaGF0UGhvbmUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCI1MTk5OTk5OTk5OVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJnLWRhcmstc3VyZmFjZSBib3JkZXIgYm9yZGVyLWRhcmstYm9yZGVyIHJvdW5kZWQtbGcgdGV4dC13aGl0ZSBwbGFjZWhvbGRlci1ncmF5LTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLW5lb24tYmx1ZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMVwiPkluY2x1eWUgZWwgY29kaWdvIGRlIHBhaXMgc2luICsgbmkgZXNwYWNpb3M8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHtpbnN0YW5jZVByb3ZpZGVyID09PSAnTUVUQV9DTE9VRCcgJiYgbmV3Q2hhdFRlbXBsYXRlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC1ncmF5LTQwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17bmV3Q2hhdFVzZVRlbXBsYXRlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4geyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE5ld0NoYXRVc2VUZW1wbGF0ZShlLnRhcmdldC5jaGVja2VkKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZE5ld0NoYXRUZW1wbGF0ZShudWxsKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXROZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMoW10pOyBcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgcm91bmRlZCBiZy1kYXJrLXN1cmZhY2UgYm9yZGVyLWRhcmstYm9yZGVyIHRleHQtbmVvbi1ibHVlIGZvY3VzOnJpbmctbmVvbi1ibHVlXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgVXNhciBwbGFudGlsbGEgKE1ldGEgQ2xvdWQpXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAge25ld0NoYXRVc2VUZW1wbGF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLTQwIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtuZXdDaGF0VGVtcGxhdGVzLm1hcCgodGVtcGxhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhckNvdW50ID0gZ2V0VGVtcGxhdGVWYXJpYWJsZUNvdW50KHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3RlbXBsYXRlLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE5ld0NoYXRUZW1wbGF0ZVZhcmlhYmxlcyhBcnJheSh2YXJDb3VudCkuZmlsbCgnJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHAtMiB0ZXh0LWxlZnQgcm91bmRlZC1sZyBib3JkZXIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlPy5pZCA9PT0gdGVtcGxhdGUuaWQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvcmRlci1uZW9uLWJsdWUgYmctbmVvbi1ibHVlLzEwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWRhcmstYm9yZGVyIGJnLWRhcmstc3VyZmFjZSBob3Zlcjpib3JkZXItZ3JheS02MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXdoaXRlXCI+e3RlbXBsYXRlLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3ZhckNvdW50ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMS41IHB5LTAuNSBiZy1hY2NlbnQtd2FybmluZy8yMCB0ZXh0LWFjY2VudC13YXJuaW5nIHJvdW5kZWRcIj57dmFyQ291bnR9IHZhcjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGVtcGxhdGUuY29tcG9uZW50cz8uZmluZCgoYzogYW55KSA9PiBjLnR5cGUgPT09ICdCT0RZJyk/LnRleHQ/LnN1YnN0cmluZygwLCA1MCkgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZE5ld0NoYXRUZW1wbGF0ZSAmJiBuZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBzcGFjZS15LTIgcC0zIGJnLWRhcmstc3VyZmFjZSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDBcIj5WYXJpYWJsZXMgcGFyYSB7c2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUubmFtZX06PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIHtuZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMubWFwKCh2YWx1ZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFycyA9IFsuLi5uZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhcnNbaW5kZXhdID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzKG5ld1ZhcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YFZhbG9yIHBhcmEge3ske2luZGV4ICsgMX19fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0yIHB5LTEuNSBiZy1kYXJrLWJnIGJvcmRlciBib3JkZXItZGFyay1ib3JkZXIgcm91bmRlZCB0ZXh0LXdoaXRlIHRleHQtc20gcGxhY2Vob2xkZXItZ3JheS01MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1uZW9uLWJsdWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHshbmV3Q2hhdFVzZVRlbXBsYXRlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gdGV4dC1ncmF5LTQwMCBtYi0xXCI+TWVuc2FqZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld0NoYXRNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld0NoYXRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFc2NyaWJlIHR1IG1lbnNhamUuLi5cIlxuICAgICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJnLWRhcmstc3VyZmFjZSBib3JkZXIgYm9yZGVyLWRhcmstYm9yZGVyIHJvdW5kZWQtbGcgdGV4dC13aGl0ZSBwbGFjZWhvbGRlci1ncmF5LTUwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLW5lb24tYmx1ZSByZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctYWNjZW50LWVycm9yLzEwIGJvcmRlciBib3JkZXItYWNjZW50LWVycm9yLzIwIHJvdW5kZWQtbGcgdGV4dC1hY2NlbnQtZXJyb3IgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kTmV3Q2hhdH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17bmV3Q2hhdFNlbmRpbmcgfHwgIW5ld0NoYXRQaG9uZS50cmltKCkgfHwgKCFuZXdDaGF0TWVzc2FnZS50cmltKCkgJiYgIXNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlKSB8fCAhIShzZWxlY3RlZE5ld0NoYXRUZW1wbGF0ZSAmJiBuZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMubGVuZ3RoID4gMCAmJiBuZXdDaGF0VGVtcGxhdGVWYXJpYWJsZXMuc29tZSh2ID0+ICF2LnRyaW0oKSkpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0yLjUgYmctbmVvbi1ibHVlIHRleHQtZGFyay1iZyByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIGhvdmVyOmJnLW5lb24tYmx1ZS1saWdodCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bmV3Q2hhdFNlbmRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItZGFyay1iZyBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgRW52aWFuZG8uLi5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAnRW52aWFyIG1lbnNhamUnXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAge2luc3RhbmNlUHJvdmlkZXIgPT09ICdNRVRBX0NMT1VEJyAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICBQYXJhIG51bWVyb3MgbnVldm9zIGVuIE1ldGEgQ2xvdWQsIHVzYSB1bmEgcGxhbnRpbGxhIGFwcm9iYWRhXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlQnVzaW5lc3NTdG9yZSIsIm1lc3NhZ2VBcGkiLCJ3YUFwaSIsIm1lZGlhQXBpIiwiYnVzaW5lc3NBcGkiLCJ0YWdzQXBpIiwiYmlsbGluZ0FwaSIsInRlbXBsYXRlc0FwaSIsIkNoYXRQYWdlIiwiZ2V0Q29udGFjdFRhZyIsInNlbGVjdGVkVGVtcGxhdGVGb3JTZW5kIiwiY3VycmVudEJ1c2luZXNzIiwiY29udmVyc2F0aW9ucyIsInNldENvbnZlcnNhdGlvbnMiLCJzZWxlY3RlZFBob25lIiwic2V0U2VsZWN0ZWRQaG9uZSIsInNlbGVjdGVkQ29udGFjdE5hbWUiLCJzZXRTZWxlY3RlZENvbnRhY3ROYW1lIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsIm5ld01lc3NhZ2UiLCJzZXROZXdNZXNzYWdlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZW5kaW5nIiwic2V0U2VuZGluZyIsImNoYXRMaXN0T3BlbiIsInNldENoYXRMaXN0T3BlbiIsInVwbG9hZGluZyIsInNldFVwbG9hZGluZyIsInByZXZpZXdGaWxlIiwic2V0UHJldmlld0ZpbGUiLCJlcnJvciIsInNldEVycm9yIiwiYm90VG9nZ2xpbmciLCJzZXRCb3RUb2dnbGluZyIsImlzUmVjb3JkaW5nIiwic2V0SXNSZWNvcmRpbmciLCJ2aWV3TW9kZSIsInNldFZpZXdNb2RlIiwidGFncyIsInNldFRhZ3MiLCJhc3NpZ25tZW50cyIsInNldEFzc2lnbm1lbnRzIiwic2VsZWN0ZWRUYWciLCJzZXRTZWxlY3RlZFRhZyIsImFzc2lnbmluZ1RhZyIsInNldEFzc2lnbmluZ1RhZyIsIndpbmRvd1N0YXR1cyIsInNldFdpbmRvd1N0YXR1cyIsImRhaWx5Q29udGFjdHMiLCJzZXREYWlseUNvbnRhY3RzIiwiY29udGFjdEJvdERpc2FibGVkIiwic2V0Q29udGFjdEJvdERpc2FibGVkIiwiY29udGFjdEJvdFRvZ2dsaW5nIiwic2V0Q29udGFjdEJvdFRvZ2dsaW5nIiwidGVtcGxhdGVzIiwic2V0VGVtcGxhdGVzIiwic2hvd1RlbXBsYXRlTW9kYWwiLCJzZXRTaG93VGVtcGxhdGVNb2RhbCIsInNlbmRpbmdUZW1wbGF0ZSIsInNldFNlbmRpbmdUZW1wbGF0ZSIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJzaG93TmV3Q2hhdE1vZGFsIiwic2V0U2hvd05ld0NoYXRNb2RhbCIsIm5ld0NoYXRQaG9uZSIsInNldE5ld0NoYXRQaG9uZSIsIm5ld0NoYXRNZXNzYWdlIiwic2V0TmV3Q2hhdE1lc3NhZ2UiLCJuZXdDaGF0U2VuZGluZyIsInNldE5ld0NoYXRTZW5kaW5nIiwiaW5zdGFuY2VQcm92aWRlciIsInNldEluc3RhbmNlUHJvdmlkZXIiLCJuZXdDaGF0VGVtcGxhdGVzIiwic2V0TmV3Q2hhdFRlbXBsYXRlcyIsIm5ld0NoYXRVc2VUZW1wbGF0ZSIsInNldE5ld0NoYXRVc2VUZW1wbGF0ZSIsInNlbGVjdGVkTmV3Q2hhdFRlbXBsYXRlIiwic2V0U2VsZWN0ZWROZXdDaGF0VGVtcGxhdGUiLCJ0ZW1wbGF0ZVZhcmlhYmxlcyIsInNldFRlbXBsYXRlVmFyaWFibGVzIiwibmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzIiwic2V0TmV3Q2hhdFRlbXBsYXRlVmFyaWFibGVzIiwiY29udGFjdERhdGEiLCJzZXRDb250YWN0RGF0YSIsImN1cnJlbnRTdGFnZSIsInNldEN1cnJlbnRTdGFnZSIsInNob3dDb250YWN0UGFuZWwiLCJzZXRTaG93Q29udGFjdFBhbmVsIiwibWVzc2FnZXNFbmRSZWYiLCJmaWxlSW5wdXRSZWYiLCJpbnB1dFJlZiIsImNoYXRDb250YWluZXJSZWYiLCJtZWRpYVJlY29yZGVyUmVmIiwiYXVkaW9TdHJlYW1SZWYiLCJrZXlib2FyZEhlaWdodCIsInNldEtleWJvYXJkSGVpZ2h0IiwiaXNJbnB1dEZvY3VzZWQiLCJzZXRJc0lucHV0Rm9jdXNlZCIsImlzTmVhckJvdHRvbVJlZiIsInByZXZNZXNzYWdlc0xlbmd0aFJlZiIsImhhbmRsZVZpZXdwb3J0UmVzaXplIiwid2luZG93IiwidmlzdWFsVmlld3BvcnQiLCJ2aWV3cG9ydCIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0Iiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJuZXdLZXlib2FyZEhlaWdodCIsInNldFRpbWVvdXQiLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmZXRjaENvbnZlcnNhdGlvbnMiLCJmZXRjaFRhZ3MiLCJmZXRjaERhaWx5Q29udGFjdHMiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInJlc3BvbnNlIiwiZ2V0Q29udGFjdHNUb2RheSIsImlkIiwiZGF0YSIsImVyciIsImNvbnNvbGUiLCJ0YWdzUmVzIiwiYXNzaWdubWVudHNSZXMiLCJQcm9taXNlIiwiYWxsIiwibGlzdCIsImdldEFzc2lnbm1lbnRzIiwibGVuZ3RoIiwiaW5pdFJlcyIsImluaXREZWZhdWx0cyIsImhhbmRsZUFzc2lnblRhZyIsInBob25lIiwidGFnSWQiLCJ1bmFzc2lnbiIsImJ1c2luZXNzX2lkIiwiY29udGFjdF9waG9uZSIsImFzc2lnbiIsInRhZ19pZCIsImFzc2lnbm1lbnQiLCJmaW5kIiwiYSIsImNvbnRhY3RQaG9uZSIsInRhZyIsImdldENvbnZlcnNhdGlvbnNCeVRhZyIsImFzc2lnbmVkUGhvbmVzIiwibWFwIiwiZmlsdGVyIiwiYyIsImluY2x1ZGVzIiwicGhvbmVzRm9yVGFnIiwiZmV0Y2hNZXNzYWdlcyIsImZldGNoV2luZG93U3RhdHVzIiwiZmV0Y2hDb250YWN0Qm90U3RhdHVzIiwiZmV0Y2hDb250YWN0RXh0cmFjdGVkRGF0YSIsImdldENvbnRhY3RCb3RTdGF0dXMiLCJib3REaXNhYmxlZCIsImdldENvbnRhY3RFeHRyYWN0ZWREYXRhIiwiZXh0cmFjdGVkRGF0YSIsImhhbmRsZVRvZ2dsZUNvbnRhY3RCb3QiLCJuZXdTdGF0dXMiLCJ0b2dnbGVDb250YWN0Qm90IiwiZmV0Y2hUZW1wbGF0ZXMiLCJhcHByb3ZlZFRlbXBsYXRlcyIsInQiLCJzdGF0dXMiLCJnZXRUZW1wbGF0ZVZhcmlhYmxlQ291bnQiLCJ0ZW1wbGF0ZSIsImJvZHlDb21wb25lbnQiLCJjb21wb25lbnRzIiwidHlwZSIsInRleHQiLCJtYXRjaGVzIiwibWF0Y2giLCJzZXRTZWxlY3RlZFRlbXBsYXRlRm9yU2VuZCIsImhhbmRsZVNlbGVjdFRlbXBsYXRlIiwidmFyQ291bnQiLCJBcnJheSIsImZpbGwiLCJoYW5kbGVTZW5kVGVtcGxhdGUiLCJ2YXJpYWJsZXMiLCJzZW5kIiwidGVtcGxhdGVOYW1lIiwibmFtZSIsInRvIiwidW5kZWZpbmVkIiwicHJvdmlkZXIiLCJ3aW5kb3dPcGVuIiwiZmV0Y2hJbnN0YW5jZVByb3ZpZGVyIiwiZmV0Y2hOZXdDaGF0VGVtcGxhdGVzIiwib3Blbk5ld0NoYXRNb2RhbCIsImhhbmRsZVNlbmROZXdDaGF0IiwidHJpbSIsImNsZWFuUGhvbmUiLCJyZXBsYWNlIiwic29tZSIsInYiLCJtZXNzYWdlIiwiZmlsdGVyZWRDb252ZXJzYXRpb25zIiwiY29udiIsInF1ZXJ5IiwidG9Mb3dlckNhc2UiLCJwaG9uZU1hdGNoIiwibmFtZU1hdGNoIiwiY29udGFjdE5hbWUiLCJpc05ld0NvbnZlcnNhdGlvbiIsImhhc05ld01lc3NhZ2VzIiwiY29udmVyc2F0aW9uIiwiaGFuZGxlU2VuZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInVwbG9hZFJlcyIsInVwbG9hZCIsImZpbGUiLCJ1cmwiLCJtaW1ldHlwZSIsInNlbmREYXRhIiwiaW1hZ2VVcmwiLCJ2aWRlb1VybCIsImF1ZGlvVXJsIiwiZmlsZVVybCIsImZpbGVOYW1lIiwibWltZVR5cGUiLCJoYW5kbGVGaWxlU2VsZWN0IiwidGFyZ2V0IiwiZmlsZXMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJzdGFydHNXaXRoIiwidmFsdWUiLCJjYW5jZWxQcmV2aWV3IiwicmV2b2tlT2JqZWN0VVJMIiwiaGFuZGxlVG9nZ2xlQm90IiwidG9nZ2xlQm90IiwiYm90RW5hYmxlZCIsImdldCIsInNldFN0YXRlIiwiaGFuZGxlU3RhcnRSZWNvcmRpbmciLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJhdWRpbyIsIm1lZGlhUmVjb3JkZXIiLCJNZWRpYVJlY29yZGVyIiwiYXVkaW9DaHVua3MiLCJvbmRhdGFhdmFpbGFibGUiLCJldmVudCIsInB1c2giLCJvbnN0b3AiLCJhdWRpb0Jsb2IiLCJCbG9iIiwiRmlsZSIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsInN0b3AiLCJzdGFydCIsImhhbmRsZVN0b3BSZWNvcmRpbmciLCJoYW5kbGVJbnB1dEZvY3VzIiwiaGFuZGxlSW5wdXRCbHVyIiwiZm9ybWF0VGltZSIsImRhdGVTdHIiLCJkYXRlIiwiRGF0ZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJmb3JtYXREYXRlIiwidG9kYXkiLCJ0b0RhdGVTdHJpbmciLCJ5ZXN0ZXJkYXkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImRheSIsIm1vbnRoIiwiaXNJbWFnZVVybCIsInRlc3QiLCJpc1ZpZGVvVXJsIiwiaXNBdWRpb1VybCIsIkF1ZGlvUGxheWVyIiwic3JjIiwiaXNPdXRib3VuZCIsImlzUGxheWluZyIsInNldElzUGxheWluZyIsImR1cmF0aW9uIiwic2V0RHVyYXRpb24iLCJjdXJyZW50VGltZSIsInNldEN1cnJlbnRUaW1lIiwiYXVkaW9SZWYiLCJ3YXZlSGVpZ2h0cyIsInRvZ2dsZVBsYXkiLCJwYXVzZSIsInBsYXkiLCJmb3JtYXREdXJhdGlvbiIsInNlYyIsIm0iLCJNYXRoIiwiZmxvb3IiLCJzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInByb2dyZXNzIiwiZGl2IiwiY2xhc3NOYW1lIiwicmVmIiwicHJlbG9hZCIsIm9uTG9hZGVkTWV0YWRhdGEiLCJvblRpbWVVcGRhdGUiLCJvbkVuZGVkIiwiYnV0dG9uIiwib25DbGljayIsInN2ZyIsInZpZXdCb3giLCJyZWN0IiwieCIsInkiLCJ3aWR0aCIsInBhdGgiLCJkIiwiaCIsImkiLCJzdHlsZSIsInNwYW4iLCJyZW5kZXJNZWRpYSIsIm1lZGlhVXJsIiwibWVkaWFUeXBlIiwiaXNBdWRpbyIsImlzSW1hZ2UiLCJpc1ZpZGVvIiwiaW1nIiwiYWx0IiwibWF4SGVpZ2h0IiwibWF4V2lkdGgiLCJvcGVuIiwidmlkZW8iLCJjb250cm9scyIsInNwbGl0IiwicG9wIiwiaHJlZiIsInJlbCIsInNsaWNlIiwicCIsInNob3dDaGF0TGlzdCIsImNvbnRhaW5lclN0eWxlIiwiaDIiLCJ0aXRsZSIsInN0cm9rZSIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiaW5wdXQiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwicmVtYWluaW5nIiwiY291bnQiLCJsaW1pdCIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiY29udGFjdFRhZyIsImxhc3RNZXNzYWdlQXQiLCJsYXN0TWVzc2FnZSIsImRpc2FibGVkIiwiaG91cnNSZW1haW5pbmciLCJzZWxlY3QiLCJvcHRpb24iLCJoNCIsIk9iamVjdCIsImtleXMiLCJub21icmUiLCJlbWFpbCIsImRpcmVjY2lvbiIsImNpdWRhZCIsImNvZGlnb19wb3N0YWwiLCJkb2N1bWVudG8iLCJub3RhcyIsIm9uU2Nyb2xsIiwiZWwiLCJjdXJyZW50VGFyZ2V0IiwidGhyZXNob2xkIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsVG9wIiwiY2xpZW50SGVpZ2h0IiwibXNnIiwiZGlyZWN0aW9uIiwibWV0YWRhdGEiLCJtZWRpYUFuYWx5c2lzIiwiY3JlYXRlZEF0Iiwic291cmNlIiwiZm9ybSIsIm9uU3VibWl0IiwiYWNjZXB0IiwiY2xpY2siLCJvbkZvY3VzIiwib25CbHVyIiwiZW50ZXJLZXlIaW50IiwiYXV0b0NvbXBsZXRlIiwiYXV0b0NvcnJlY3QiLCJoMyIsImluZGV4IiwibGFiZWwiLCJuZXdWYXJzIiwiY2F0ZWdvcnkiLCJzdWJzdHJpbmciLCJsYW5ndWFnZSIsImNoZWNrZWQiLCJ0ZXh0YXJlYSIsInJvd3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/dashboard/chat/page.tsx\n"));

/***/ })

});